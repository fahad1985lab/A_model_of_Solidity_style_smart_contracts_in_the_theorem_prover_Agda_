<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Simple-Model.ledgerversion.Ledger-Simple-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html" class="Module">Simple-Model.ledgerversion.Ledger-Simple-Model</a> <a id="55" class="Keyword">where</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="112" class="Keyword">using</a> <a id="118" class="Symbol">(</a><a id="119" href="Agda.Builtin.Nat.html#426" class="Primitive Operator">_-_</a><a id="122" class="Symbol">)</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Data.List.html" class="Module">Data.List</a>
<a id="168" class="Keyword">open</a> <a id="173" class="Keyword">import</a> <a id="180" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="243" class="Keyword">open</a> <a id="248" class="Keyword">import</a> <a id="255" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="267" class="Keyword">hiding</a> <a id="274" class="Symbol">(</a><a id="275" href="Data.Maybe.Base.html#2256" class="Function Operator">_&gt;&gt;=_</a><a id="280" class="Symbol">)</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Data.String.html" class="Module">Data.String</a> <a id="306" class="Keyword">hiding</a> <a id="313" class="Symbol">(</a><a id="314" href="Data.String.Base.html#2468" class="Function">length</a><a id="320" class="Symbol">)</a>

<a id="323" class="Comment">--library for simple model</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html" class="Module">Simple-Model.library-simple-model.basicDataStructureWithSimpleModel</a>

<a id="431" class="Comment">-- main library</a>
<a id="447" class="Keyword">open</a> <a id="452" class="Keyword">import</a> <a id="459" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>




<a id="484" class="Keyword">mutual</a>

  <a id="494" class="Comment">-- smart contract-comands:</a>
  <a id="523" class="Keyword">data</a> <a id="CCommands"></a><a id="528" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a> <a id="538" class="Symbol">:</a> <a id="540" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="544" class="Keyword">where</a>
    <a id="CCommands.updatec"></a><a id="554" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="InductiveConstructor">updatec</a> <a id="562" class="Symbol">:</a> <a id="564" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="577" class="Symbol">→</a> <a id="579" class="Symbol">(</a><a id="580" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="584" class="Symbol">→</a> <a id="586" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="604" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="607" class="Symbol">)</a> <a id="609" class="Symbol">→</a> <a id="611" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.currentAddrLookupc"></a><a id="625" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="InductiveConstructor">currentAddrLookupc</a> <a id="644" class="Symbol">:</a> <a id="646" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.callAddrLookupc"></a><a id="660" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="InductiveConstructor">callAddrLookupc</a> <a id="676" class="Symbol">:</a> <a id="678" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.callc"></a><a id="692" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="InductiveConstructor">callc</a>   <a id="700" class="Symbol">:</a> <a id="702" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="710" class="Symbol">→</a> <a id="712" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="725" class="Symbol">→</a> <a id="727" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="731" class="Symbol">→</a> <a id="733" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.transferc"></a><a id="747" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="InductiveConstructor">transferc</a> <a id="757" class="Symbol">:</a> <a id="759" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a> <a id="766" class="Symbol">→</a> <a id="768" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="776" class="Symbol">→</a>  <a id="779" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.getAmountc"></a><a id="793" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#793" class="InductiveConstructor">getAmountc</a> <a id="804" class="Symbol">:</a> <a id="806" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="814" class="Symbol">→</a> <a id="816" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>

<a id="827" class="Comment">-- smart contract response</a>
  <a id="CResponse"></a><a id="856" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="866" class="Symbol">:</a> <a id="868" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a> <a id="878" class="Symbol">→</a> <a id="880" href="Agda.Primitive.html#388" class="Primitive">Set</a>
  <a id="886" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="896" class="Symbol">(</a><a id="897" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="InductiveConstructor">updatec</a> <a id="905" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#905" class="Bound">fname</a> <a id="911" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#911" class="Bound">fdef</a><a id="915" class="Symbol">)</a> <a id="917" class="Symbol">=</a> <a id="919" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
  <a id="923" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="933" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="InductiveConstructor">currentAddrLookupc</a> <a id="952" class="Symbol">=</a> <a id="954" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
  <a id="964" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="974" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="InductiveConstructor">callAddrLookupc</a> <a id="990" class="Symbol">=</a> <a id="992" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
  <a id="1002" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1012" class="Symbol">(</a><a id="1013" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#793" class="InductiveConstructor">getAmountc</a> <a id="1024" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1024" class="Bound">addr</a><a id="1028" class="Symbol">)</a> <a id="1030" class="Symbol">=</a> <a id="1032" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a>
  <a id="1041" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1051" class="Symbol">(</a><a id="1052" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="InductiveConstructor">callc</a> <a id="1058" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1058" class="Bound">addr</a> <a id="1063" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1063" class="Bound">fname</a> <a id="1069" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1069" class="Bound">msg</a><a id="1072" class="Symbol">)</a> <a id="1074" class="Symbol">=</a> <a id="1076" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a>
  <a id="1082" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1092" class="Symbol">(</a><a id="1093" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="InductiveConstructor">transferc</a> <a id="1103" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1103" class="Bound">amount</a> <a id="1110" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1110" class="Bound">addr</a><a id="1114" class="Symbol">)</a> <a id="1116" class="Symbol">=</a> <a id="1118" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>


<a id="1122" class="Comment">--Prog is datatype of what happens when a function is applied to its arguments.</a>
<a id="1202" class="Comment">--Prog --&gt; Prog</a>
  <a id="1220" class="Keyword">data</a> <a id="SmartContractExec"></a><a id="1225" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1243" class="Symbol">(</a><a id="1244" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a> <a id="1246" class="Symbol">:</a> <a id="1248" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1251" class="Symbol">)</a> <a id="1253" class="Symbol">:</a> <a id="1255" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1259" class="Keyword">where</a>
    <a id="SmartContractExec.return"></a><a id="1269" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="1276" class="Symbol">:</a> <a id="1278" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a> <a id="1280" class="Symbol">→</a> <a id="1282" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1300" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a>
    <a id="SmartContractExec.error"></a><a id="1306" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a>  <a id="1313" class="Symbol">:</a> <a id="1315" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#704" class="Datatype">ErrorMsg</a> <a id="1324" class="Symbol">→</a>  <a id="1327" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1345" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a>
    <a id="SmartContractExec.exec"></a><a id="1351" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a>  <a id="1357" class="Symbol">:</a> <a id="1359" class="Symbol">(</a><a id="1360" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1360" class="Bound">c</a> <a id="1362" class="Symbol">:</a> <a id="1364" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a><a id="1373" class="Symbol">)</a> <a id="1375" class="Symbol">→</a> <a id="1377" class="Symbol">(</a><a id="1378" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1388" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1360" class="Bound">c</a> <a id="1390" class="Symbol">→</a> <a id="1392" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1410" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a><a id="1411" class="Symbol">)</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1433" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a>




<a id="_&gt;&gt;=_"></a><a id="1439" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">_&gt;&gt;=_</a> <a id="1445" class="Symbol">:</a> <a id="1447" class="Symbol">{</a><a id="1448" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1448" class="Bound">A</a> <a id="1450" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1450" class="Bound">B</a> <a id="1452" class="Symbol">:</a> <a id="1454" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1457" class="Symbol">}</a> <a id="1459" class="Symbol">→</a> <a id="1461" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1479" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1448" class="Bound">A</a> <a id="1481" class="Symbol">→</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1448" class="Bound">A</a> <a id="1486" class="Symbol">→</a> <a id="1488" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1506" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1450" class="Bound">B</a><a id="1507" class="Symbol">)</a> <a id="1509" class="Symbol">→</a> <a id="1511" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1529" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1450" class="Bound">B</a>
<a id="1531" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="1538" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1538" class="Bound">x</a> <a id="1540" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1544" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1544" class="Bound">q</a> <a id="1546" class="Symbol">=</a> <a id="1548" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1544" class="Bound">q</a> <a id="1550" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1538" class="Bound">x</a>
<a id="1552" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1558" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1558" class="Bound">x</a> <a id="1560" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1564" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1564" class="Bound">q</a> <a id="1566" class="Symbol">=</a> <a id="1568" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1574" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1558" class="Bound">x</a>
<a id="1576" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1581" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1581" class="Bound">c</a> <a id="1583" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1583" class="Bound">x</a> <a id="1585" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1589" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1589" class="Bound">q</a> <a id="1591" class="Symbol">=</a> <a id="1593" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1598" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1581" class="Bound">c</a> <a id="1600" class="Symbol">(λ</a> <a id="1603" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1603" class="Bound">r</a> <a id="1605" class="Symbol">→</a> <a id="1607" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1583" class="Bound">x</a> <a id="1609" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1603" class="Bound">r</a> <a id="1611" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1615" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1589" class="Bound">q</a><a id="1616" class="Symbol">)</a>


<a id="_&gt;&gt;_"></a><a id="1620" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">_&gt;&gt;_</a> <a id="1625" class="Symbol">:</a> <a id="1627" class="Symbol">{</a><a id="1628" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1628" class="Bound">A</a> <a id="1630" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1630" class="Bound">B</a> <a id="1632" class="Symbol">:</a> <a id="1634" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1637" class="Symbol">}</a> <a id="1639" class="Symbol">→</a> <a id="1641" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1659" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1628" class="Bound">A</a> <a id="1661" class="Symbol">→</a> <a id="1663" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1681" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1630" class="Bound">B</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1703" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1630" class="Bound">B</a>
<a id="1705" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="1712" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1712" class="Bound">x</a> <a id="1714" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1717" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1717" class="Bound">q</a> <a id="1719" class="Symbol">=</a> <a id="1721" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1717" class="Bound">q</a>
<a id="1723" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1729" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1729" class="Bound">x</a> <a id="1731" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1734" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1734" class="Bound">q</a> <a id="1736" class="Symbol">=</a> <a id="1738" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1744" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1729" class="Bound">x</a>
<a id="1746" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1751" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1751" class="Bound">c</a> <a id="1753" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1753" class="Bound">x</a> <a id="1755" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1758" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1758" class="Bound">q</a> <a id="1760" class="Symbol">=</a> <a id="1762" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1767" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1751" class="Bound">c</a> <a id="1769" class="Symbol">(λ</a> <a id="1772" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1772" class="Bound">r</a> <a id="1774" class="Symbol">→</a> <a id="1776" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1753" class="Bound">x</a> <a id="1778" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1772" class="Bound">r</a> <a id="1780" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1783" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1758" class="Bound">q</a><a id="1784" class="Symbol">)</a>



<a id="1789" class="Comment">-- Definition of simple contract</a>
<a id="1822" class="Keyword">record</a> <a id="Contract"></a><a id="1829" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1829" class="Record">Contract</a> <a id="1838" class="Symbol">:</a> <a id="1840" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="1844" class="Keyword">where</a>
  <a id="1852" class="Keyword">constructor</a> <a id="contract"></a><a id="1864" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1864" class="InductiveConstructor">contract</a>
  <a id="1875" class="Keyword">field</a>
    <a id="Contract.amount"></a><a id="1885" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>   <a id="1894" class="Symbol">:</a> <a id="1896" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a>
    <a id="Contract.fun"></a><a id="1907" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a>  <a id="1912" class="Symbol">:</a> <a id="1914" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="1927" class="Symbol">→</a> <a id="1929" class="Symbol">(</a><a id="1930" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="1934" class="Symbol">→</a> <a id="1936" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1954" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="1957" class="Symbol">)</a>

<a id="1960" class="Keyword">open</a> <a id="1965" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1829" class="Module">Contract</a> <a id="1974" class="Keyword">public</a>


<a id="1983" class="Comment">-- ledger</a>
<a id="Ledger"></a><a id="1993" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="2000" class="Symbol">:</a> <a id="2002" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="2006" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="2013" class="Symbol">=</a> <a id="2015" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>  <a id="2024" class="Symbol">→</a> <a id="2026" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1829" class="Record">Contract</a>



<a id="2038" class="Comment">--- theses functions below we use them with do notation</a>

<a id="call"></a><a id="2095" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2095" class="Function">call</a> <a id="2100" class="Symbol">:</a> <a id="2102" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>  <a id="2111" class="Symbol">→</a> <a id="2113" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="2126" class="Symbol">→</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2153" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="2156" class="Symbol">)</a>
<a id="2158" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2095" class="Function">call</a> <a id="2163" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2163" class="Bound">addr</a> <a id="2168" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2168" class="Bound">fname</a> <a id="2174" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2174" class="Bound">msg</a> <a id="2178" class="Symbol">=</a> <a id="2180" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2185" class="Symbol">(</a><a id="2186" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="InductiveConstructor">callc</a> <a id="2192" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2163" class="Bound">addr</a> <a id="2197" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2168" class="Bound">fname</a> <a id="2203" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2174" class="Bound">msg</a><a id="2206" class="Symbol">)</a> <a id="2208" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="update"></a><a id="2216" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2216" class="Function">update</a> <a id="2223" class="Symbol">:</a> <a id="2225" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="2238" class="Symbol">→</a> <a id="2240" class="Symbol">(</a><a id="2241" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="2245" class="Symbol">→</a> <a id="2247" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2265" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="2268" class="Symbol">)</a> <a id="2270" class="Symbol">→</a> <a id="2272" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2290" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2292" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2216" class="Function">update</a> <a id="2299" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2299" class="Bound">fname</a> <a id="2305" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2305" class="Bound">fdef</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2317" class="Symbol">(</a><a id="2318" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="InductiveConstructor">updatec</a> <a id="2326" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2299" class="Bound">fname</a> <a id="2332" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2305" class="Bound">fdef</a><a id="2336" class="Symbol">)</a> <a id="2338" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="currentAddrLookup"></a><a id="2346" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2346" class="Function">currentAddrLookup</a> <a id="2364" class="Symbol">:</a> <a id="2366" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2384" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
<a id="2392" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2346" class="Function">currentAddrLookup</a> <a id="2410" class="Symbol">=</a> <a id="2412" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2417" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="InductiveConstructor">currentAddrLookupc</a> <a id="2436" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="callAddrLookup"></a><a id="2444" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2444" class="Function">callAddrLookup</a> <a id="2459" class="Symbol">:</a> <a id="2461" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2479" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
<a id="2487" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2444" class="Function">callAddrLookup</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2509" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="InductiveConstructor">callAddrLookupc</a> <a id="2525" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="transfer"></a><a id="2533" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2533" class="Function">transfer</a> <a id="2542" class="Symbol">:</a> <a id="2544" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a> <a id="2551" class="Symbol">→</a> <a id="2553" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="2561" class="Symbol">→</a> <a id="2563" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2581" href="Agda.Builtin.Unit.html#175" class="Record">⊤</a>
<a id="2583" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2533" class="Function">transfer</a> <a id="2592" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2592" class="Bound">amount</a> <a id="2599" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2599" class="Bound">addr</a> <a id="2604" class="Symbol">=</a>  <a id="2607" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2612" class="Symbol">(</a><a id="2613" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="InductiveConstructor">transferc</a> <a id="2623" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2592" class="Bound">amount</a> <a id="2630" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2599" class="Bound">addr</a><a id="2634" class="Symbol">)</a> <a id="2636" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>



<a id="2646" class="Comment">-- the definition of execution stack elements</a>
<a id="2692" class="Keyword">record</a> <a id="ExecStackEl"></a><a id="2699" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2699" class="Record">ExecStackEl</a> <a id="2711" class="Symbol">:</a> <a id="2713" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="2717" class="Keyword">where</a>
  <a id="2725" class="Keyword">constructor</a> <a id="execStackEl"></a><a id="2737" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2737" class="InductiveConstructor">execStackEl</a>
  <a id="2751" class="Keyword">field</a>
    <a id="ExecStackEl.callAddress"></a><a id="2761" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2761" class="Field">callAddress</a>    <a id="2776" class="Symbol">:</a> <a id="2778" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>   <a id="2788" class="Comment">--address for the last call</a>
    <a id="ExecStackEl.currentAddress"></a><a id="2820" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2820" class="Field">currentAddress</a> <a id="2835" class="Symbol">:</a> <a id="2837" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>   <a id="2847" class="Comment">--current address where we are in</a>
    <a id="ExecStackEl.continuation"></a><a id="2885" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2885" class="Field">continuation</a>   <a id="2900" class="Symbol">:</a> <a id="2902" class="Symbol">(</a><a id="2903" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="2907" class="Symbol">→</a> <a id="2909" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2927" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="2930" class="Symbol">)</a>
<a id="2932" class="Keyword">open</a> <a id="2937" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2699" class="Module">ExecStackEl</a> <a id="2949" class="Keyword">public</a>



<a id="2959" class="Comment">-- the definition of the execution stack function function</a>
<a id="ExecutionStack"></a><a id="3018" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3018" class="Function">ExecutionStack</a> <a id="3033" class="Symbol">:</a> <a id="3035" href="Agda.Primitive.html#388" class="Primitive">Set</a>
<a id="3039" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3018" class="Function">ExecutionStack</a> <a id="3054" class="Symbol">=</a> <a id="3056" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="3061" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2699" class="Record">ExecStackEl</a>





<a id="3078" class="Comment">{- StateExecFun is an intermediate state when we are evaluating a function call
   in a contract
   it consists of
        - the ledger  (which might changed because of updates)
        - executionStack  contains partially evaluated calls to other contracts together with their addresses
        - the current address
        - and the currently partially evaluated function we are evaluating
-}</a>
<a id="3474" class="Keyword">record</a> <a id="StateExecFun"></a><a id="3481" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a> <a id="3494" class="Symbol">:</a> <a id="3496" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="3500" class="Keyword">where</a>
  <a id="3508" class="Keyword">constructor</a> <a id="stateEF"></a><a id="3520" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a>
  <a id="3530" class="Keyword">field</a>
    <a id="StateExecFun.ledger"></a><a id="3540" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3540" class="Field">ledger</a> <a id="3547" class="Symbol">:</a> <a id="3549" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a>
    <a id="StateExecFun.executionStack"></a><a id="3560" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3560" class="Field">executionStack</a> <a id="3575" class="Symbol">:</a> <a id="3577" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3018" class="Function">ExecutionStack</a>
    <a id="StateExecFun.callAddress"></a><a id="3596" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3596" class="Field">callAddress</a>    <a id="3611" class="Symbol">:</a> <a id="3613" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
    <a id="StateExecFun.currentAddress"></a><a id="3625" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3625" class="Field">currentAddress</a> <a id="3640" class="Symbol">:</a> <a id="3642" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>  
    <a id="StateExecFun.nextstep"></a><a id="3656" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3656" class="Field">nextstep</a>       <a id="3671" class="Symbol">:</a> <a id="3673" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="3691" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a>
<a id="3695" class="Keyword">open</a> <a id="3700" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Module">StateExecFun</a> <a id="3713" class="Keyword">public</a>


<a id="3722" class="Comment">--update ledger</a>
<a id="updateLedger"></a><a id="3738" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3738" class="Function">updateLedger</a> <a id="3751" class="Symbol">:</a> <a id="3753" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="3760" class="Symbol">→</a>  <a id="3763" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
               <a id="3786" class="Symbol">→</a> <a id="3788" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="3801" class="Symbol">→</a> <a id="3803" class="Symbol">(</a><a id="3804" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="3808" class="Symbol">→</a> <a id="3810" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="3828" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="3831" class="Symbol">)</a>
               <a id="3848" class="Symbol">→</a> <a id="3850" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a>
<a id="3857" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3738" class="Function">updateLedger</a> <a id="3870" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3870" class="Bound">ledger</a> <a id="3877" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3877" class="Bound">changedAddr</a> <a id="3889" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3889" class="Bound">changedFname</a> <a id="3902" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3902" class="Bound">f</a> <a id="3904" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3904" class="Bound">a</a> <a id="3906" class="Symbol">.</a><a id="3907" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a> <a id="3914" class="Symbol">=</a> <a id="3916" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3870" class="Bound">ledger</a> <a id="3923" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3904" class="Bound">a</a> <a id="3925" class="Symbol">.</a><a id="3926" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>
<a id="3933" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3738" class="Function">updateLedger</a> <a id="3946" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3946" class="Bound">ledger</a> <a id="3953" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3953" class="Bound">changedAddr</a> <a id="3965" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3965" class="Bound">changedFname</a> <a id="3978" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3978" class="Bound">f</a> <a id="3980" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3980" class="Bound">a</a> <a id="3982" class="Symbol">.</a><a id="3983" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="3987" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3987" class="Bound">fname</a>
         <a id="4002" class="Symbol">=</a> <a id="4004" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="4007" class="Symbol">(</a><a id="4008" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3980" class="Bound">a</a> <a id="4010" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="4013" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3953" class="Bound">changedAddr</a><a id="4024" class="Symbol">)</a> <a id="4026" href="Data.Bool.Base.html#995" class="Function Operator">∧</a> <a id="4028" class="Symbol">(</a><a id="4029" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3987" class="Bound">fname</a> <a id="4035" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#307" class="Function Operator">≡fun</a> <a id="4040" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3965" class="Bound">changedFname</a><a id="4052" class="Symbol">)</a>
            <a id="4066" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="4071" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3978" class="Bound">f</a> <a id="4073" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="4078" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3946" class="Bound">ledger</a> <a id="4085" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3980" class="Bound">a</a> <a id="4087" class="Symbol">.</a><a id="4088" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="4092" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3987" class="Bound">fname</a>

<a id="4099" class="Comment">--update ledger amount </a>
<a id="updateLedgerAmount"></a><a id="4123" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4123" class="Function">updateLedgerAmount</a> <a id="4142" class="Symbol">:</a> <a id="4144" class="Symbol">(</a><a id="4145" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4145" class="Bound">ledger</a> <a id="4152" class="Symbol">:</a> <a id="4154" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a><a id="4160" class="Symbol">)</a>
                 <a id="4179" class="Symbol">→</a> <a id="4181" class="Symbol">(</a><a id="4182" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4182" class="Bound">currentAddr</a> <a id="4194" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4194" class="Bound">destinationAddr</a> <a id="4210" class="Symbol">:</a> <a id="4212" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="4219" class="Symbol">)</a>
                    <a id="4241" class="Symbol">(</a><a id="4242" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4242" class="Bound">amount&#39;</a> <a id="4250" class="Symbol">:</a> <a id="4252" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a><a id="4258" class="Symbol">)</a>
                 <a id="4277" class="Symbol">→</a> <a id="4279" class="Symbol">(</a><a id="4280" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4280" class="Bound">correctAmount</a> <a id="4294" class="Symbol">:</a> <a id="4296" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4242" class="Bound">amount&#39;</a> <a id="4304" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="4308" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4145" class="Bound">ledger</a> <a id="4315" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4182" class="Bound">currentAddr</a> <a id="4327" class="Symbol">.</a><a id="4328" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="4334" class="Symbol">)</a>
                  <a id="4354" class="Symbol">→</a> <a id="4356" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a>
<a id="4363" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4123" class="Function">updateLedgerAmount</a> <a id="4382" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4382" class="Bound">ledger</a> <a id="4389" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4389" class="Bound">currentAddr</a> <a id="4401" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4401" class="Bound">destinationAddr</a> <a id="4417" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4417" class="Bound">amount&#39;</a> <a id="4425" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4425" class="Bound">correctAmount</a> <a id="4439" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4439" class="Bound">addr</a> <a id="4444" class="Symbol">.</a><a id="4445" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a> <a id="4452" class="Symbol">=</a>
     <a id="4459" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="4462" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4439" class="Bound">addr</a> <a id="4467" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="4470" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4389" class="Bound">currentAddr</a>
     <a id="4487" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="4492" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="4501" class="Symbol">(</a><a id="4502" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4382" class="Bound">ledger</a> <a id="4509" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4389" class="Bound">currentAddr</a> <a id="4521" class="Symbol">.</a><a id="4522" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="4528" class="Symbol">)</a> <a id="4530" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4417" class="Bound">amount&#39;</a> <a id="4538" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4425" class="Bound">correctAmount</a>
     <a id="4557" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="4562" class="Symbol">(</a><a id="4563" href="Data.Bool.Base.html#1505" class="Function Operator">if</a> <a id="4566" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4439" class="Bound">addr</a> <a id="4571" href="Data.Nat.Base.html#1283" class="Primitive Operator">≡ᵇ</a> <a id="4574" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4401" class="Bound">destinationAddr</a>
     <a id="4595" href="Data.Bool.Base.html#1505" class="Function Operator">then</a> <a id="4600" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4382" class="Bound">ledger</a> <a id="4607" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4401" class="Bound">destinationAddr</a> <a id="4623" class="Symbol">.</a><a id="4624" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a> <a id="4631" href="Agda.Builtin.Nat.html#336" class="Primitive Operator">+</a> <a id="4633" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4417" class="Bound">amount&#39;</a>
     <a id="4646" href="Data.Bool.Base.html#1505" class="Function Operator">else</a> <a id="4651" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4382" class="Bound">ledger</a> <a id="4658" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4439" class="Bound">addr</a> <a id="4663" class="Symbol">.</a><a id="4664" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="4670" class="Symbol">)</a>
<a id="4672" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4123" class="Function">updateLedgerAmount</a> <a id="4691" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4691" class="Bound">ledger</a> <a id="4698" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4698" class="Bound">currentAddr</a> <a id="4710" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4710" class="Bound">newAddr</a> <a id="4718" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4718" class="Bound">amount&#39;</a> <a id="4726" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4726" class="Bound">correctAmount</a> <a id="4740" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4740" class="Bound">addr</a> <a id="4745" class="Symbol">.</a><a id="4746" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="4750" class="Symbol">=</a>
    <a id="4756" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4691" class="Bound">ledger</a> <a id="4763" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4740" class="Bound">addr</a> <a id="4768" class="Symbol">.</a><a id="4769" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a>



<a id="4776" class="Comment">-- execute transfer auxiliary</a>

<a id="executeTransferAux"></a><a id="4807" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4807" class="Function">executeTransferAux</a> <a id="4826" class="Symbol">:</a> <a id="4828" class="Symbol">(</a><a id="4829" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4829" class="Bound">oldLedger</a> <a id="4839" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4839" class="Bound">currentLedger</a> <a id="4853" class="Symbol">:</a> <a id="4855" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a><a id="4861" class="Symbol">)</a>
                  <a id="4881" class="Symbol">→</a> <a id="4883" class="Symbol">(</a><a id="4884" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4884" class="Bound">executionStack</a> <a id="4899" class="Symbol">:</a> <a id="4901" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3018" class="Function">ExecutionStack</a><a id="4915" class="Symbol">)</a>
                  <a id="4935" class="Symbol">→</a> <a id="4937" class="Symbol">(</a><a id="4938" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4938" class="Bound">callAddr</a> <a id="4947" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4947" class="Bound">currentAddr</a> <a id="4959" class="Symbol">:</a> <a id="4961" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="4968" class="Symbol">)</a>
                  <a id="4988" class="Symbol">→</a> <a id="4990" class="Symbol">(</a><a id="4991" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4991" class="Bound">amount&#39;</a> <a id="4999" class="Symbol">:</a> <a id="5001" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a><a id="5007" class="Symbol">)</a>
                  <a id="5027" class="Symbol">→</a> <a id="5029" class="Symbol">(</a><a id="5030" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5030" class="Bound">destinationAddr</a> <a id="5046" class="Symbol">:</a> <a id="5048" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="5055" class="Symbol">)</a>
                  <a id="5075" class="Symbol">→</a> <a id="5077" class="Symbol">(</a><a id="5078" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5078" class="Bound">cont</a> <a id="5083" class="Symbol">:</a> <a id="5085" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="5103" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="5106" class="Symbol">)</a>
                  <a id="5126" class="Symbol">→</a> <a id="5128" class="Symbol">(</a><a id="5129" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5129" class="Bound">cp</a>  <a id="5133" class="Symbol">:</a> <a id="5135" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="5147" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4991" class="Bound">amount&#39;</a> <a id="5155" class="Symbol">(</a><a id="5156" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4839" class="Bound">currentLedger</a> <a id="5170" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4947" class="Bound">currentAddr</a> <a id="5182" class="Symbol">.</a><a id="5183" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>  <a id="5191" class="Symbol">))</a>
                  <a id="5212" class="Symbol">→</a> <a id="5214" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a>
<a id="5227" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4807" class="Function">executeTransferAux</a> <a id="5246" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5246" class="Bound">oldLedger</a> <a id="5256" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5256" class="Bound">currentLedger</a> <a id="5270" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5270" class="Bound">executionStack</a> <a id="5285" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5285" class="Bound">callAddr</a> <a id="5294" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5294" class="Bound">currentAddr</a> <a id="5306" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5306" class="Bound">amount&#39;</a> <a id="5314" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5314" class="Bound">destinationAddr</a> <a id="5330" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5330" class="Bound">cont</a> <a id="5335" class="Symbol">(</a><a id="5336" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="5340" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5340" class="Bound">x</a><a id="5341" class="Symbol">)</a> <a id="5343" class="Symbol">=</a>
          <a id="5355" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="5363" class="Symbol">(</a><a id="5364" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4123" class="Function">updateLedgerAmount</a> <a id="5383" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5256" class="Bound">currentLedger</a> <a id="5397" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5294" class="Bound">currentAddr</a> <a id="5409" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5314" class="Bound">destinationAddr</a> <a id="5425" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5306" class="Bound">amount&#39;</a> <a id="5433" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5340" class="Bound">x</a><a id="5434" class="Symbol">)</a>
             <a id="5449" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5270" class="Bound">executionStack</a> <a id="5464" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5285" class="Bound">callAddr</a> <a id="5473" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5294" class="Bound">currentAddr</a> <a id="5485" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5330" class="Bound">cont</a>

<a id="5491" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4807" class="Function">executeTransferAux</a> <a id="5510" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5510" class="Bound">oldLedger</a> <a id="5520" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5520" class="Bound">currentLedger</a> <a id="5534" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5534" class="Bound">executionStack</a> <a id="5549" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5549" class="Bound">callAddr</a> <a id="5558" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5558" class="Bound">currentAddr</a> <a id="5570" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5570" class="Bound">amount</a> <a id="5577" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5577" class="Bound">destinationAddr</a> <a id="5593" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5593" class="Bound">cont</a> <a id="5598" class="Symbol">(</a><a id="5599" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="5607" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5607" class="Bound">x</a><a id="5608" class="Symbol">)</a> <a id="5610" class="Symbol">=</a>
         <a id="5621" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="5629" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5510" class="Bound">oldLedger</a> <a id="5639" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5534" class="Bound">executionStack</a> <a id="5654" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5549" class="Bound">callAddr</a> <a id="5663" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5558" class="Bound">currentAddr</a>
             <a id="5688" class="Symbol">(</a><a id="5689" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="5695" class="Symbol">(</a><a id="5696" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#727" class="InductiveConstructor">strErr</a> <a id="5703" class="String">&quot;not enough money&quot;</a><a id="5721" class="Symbol">))</a>

<a id="5725" class="Comment">-- Execute transfer</a>
<a id="executeTransfer"></a><a id="5745" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5745" class="Function">executeTransfer</a> <a id="5761" class="Symbol">:</a> <a id="5763" class="Symbol">(</a><a id="5764" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5764" class="Bound">oldLedger</a> <a id="5774" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5774" class="Bound">currentLedger</a> <a id="5788" class="Symbol">:</a> <a id="5790" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a><a id="5796" class="Symbol">)</a>
                  <a id="5816" class="Symbol">→</a> <a id="5818" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3018" class="Function">ExecutionStack</a>
                  <a id="5851" class="Symbol">→</a> <a id="5853" class="Symbol">(</a><a id="5854" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5854" class="Bound">callAddr</a> <a id="5863" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5863" class="Bound">currentAddr</a> <a id="5875" class="Symbol">:</a> <a id="5877" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="5884" class="Symbol">)</a>
                  <a id="5904" class="Symbol">→</a> <a id="5906" class="Symbol">(</a><a id="5907" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5907" class="Bound">amount&#39;</a> <a id="5915" class="Symbol">:</a> <a id="5917" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a><a id="5923" class="Symbol">)</a>
                  <a id="5943" class="Symbol">→</a> <a id="5945" class="Symbol">(</a><a id="5946" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5946" class="Bound">destinationAddr</a> <a id="5962" class="Symbol">:</a> <a id="5964" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="5971" class="Symbol">)</a>
                  <a id="5991" class="Symbol">→</a> <a id="5993" class="Symbol">(</a><a id="5994" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5994" class="Bound">cont</a> <a id="5999" class="Symbol">:</a> <a id="6001" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="6019" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="6022" class="Symbol">)</a>
                  <a id="6042" class="Symbol">→</a> <a id="6044" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a>
<a id="6057" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5745" class="Function">executeTransfer</a> <a id="6073" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6073" class="Bound">oldLedger</a> <a id="6083" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6083" class="Bound">currentLedger</a> <a id="6097" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6097" class="Bound">exexecutionStack</a> <a id="6114" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6114" class="Bound">callAddr</a> <a id="6123" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6123" class="Bound">currentAddr</a> <a id="6135" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6135" class="Bound">amount&#39;</a> <a id="6143" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6143" class="Bound">destinationAddr</a> <a id="6159" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6159" class="Bound">cont</a>
                <a id="6180" class="Symbol">=</a> <a id="6182" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4807" class="Function">executeTransferAux</a> <a id="6201" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6073" class="Bound">oldLedger</a> <a id="6211" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6083" class="Bound">currentLedger</a> <a id="6225" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6097" class="Bound">exexecutionStack</a> <a id="6242" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6114" class="Bound">callAddr</a> <a id="6251" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6123" class="Bound">currentAddr</a> <a id="6263" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6135" class="Bound">amount&#39;</a>
                   <a id="6290" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6143" class="Bound">destinationAddr</a> <a id="6306" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6159" class="Bound">cont</a>  <a id="6312" class="Symbol">(</a><a id="6313" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="6324" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6135" class="Bound">amount&#39;</a> <a id="6332" class="Symbol">(</a><a id="6333" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6083" class="Bound">currentLedger</a> <a id="6347" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6123" class="Bound">currentAddr</a> <a id="6359" class="Symbol">.</a><a id="6360" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>  <a id="6368" class="Symbol">))</a>


<a id="6373" class="Comment">-- definition of stepEF</a>
<a id="stepEF"></a><a id="6397" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="Function">stepEF</a> <a id="6404" class="Symbol">:</a> <a id="6406" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="6413" class="Symbol">→</a> <a id="6415" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a> <a id="6428" class="Symbol">→</a> <a id="6430" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a>
<a id="6443" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="Function">stepEF</a> <a id="6450" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6450" class="Bound">oldLedger</a> <a id="6460" class="Symbol">(</a><a id="6461" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="6469" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6469" class="Bound">currentLedger</a> <a id="6483" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6486" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6486" class="Bound">callAddr</a> <a id="6495" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6495" class="Bound">currentAddr</a> <a id="6507" class="Symbol">(</a><a id="6508" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="6515" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6515" class="Bound">result</a><a id="6521" class="Symbol">))</a>
       <a id="6531" class="Symbol">=</a> <a id="6533" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="6541" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6469" class="Bound">currentLedger</a>  <a id="6556" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="6559" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6486" class="Bound">callAddr</a> <a id="6568" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6495" class="Bound">currentAddr</a> <a id="6580" class="Symbol">(</a><a id="6581" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="6588" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6515" class="Bound">result</a><a id="6594" class="Symbol">)</a>
<a id="6596" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="Function">stepEF</a> <a id="6603" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6603" class="Bound">oldLedger</a> <a id="6613" class="Symbol">(</a><a id="6614" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="6622" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6622" class="Bound">currentLedger</a> <a id="6636" class="Symbol">(</a><a id="6637" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6637" class="Bound">execSEl</a> <a id="6645" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="6647" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6647" class="Bound">executionStack</a><a id="6661" class="Symbol">)</a> <a id="6663" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6663" class="Bound">callAddr</a> <a id="6672" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6672" class="Bound">currentAddr</a> <a id="6684" class="Symbol">(</a><a id="6685" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="6692" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6692" class="Bound">result</a><a id="6698" class="Symbol">))</a>
       <a id="6708" class="Symbol">=</a> <a id="6710" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="6718" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6622" class="Bound">currentLedger</a> <a id="6732" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6647" class="Bound">executionStack</a> <a id="6747" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6663" class="Bound">callAddr</a>  <a id="6757" class="Symbol">(</a><a id="6758" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6637" class="Bound">execSEl</a> <a id="6766" class="Symbol">.</a><a id="6767" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2820" class="Field">currentAddress</a><a id="6781" class="Symbol">)</a> <a id="6783" class="Symbol">(</a><a id="6784" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6637" class="Bound">execSEl</a> <a id="6792" class="Symbol">.</a><a id="6793" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2885" class="Field">continuation</a> <a id="6806" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6692" class="Bound">result</a><a id="6812" class="Symbol">)</a>
<a id="6814" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="CatchallClause Function">stepEF</a><a id="6820" class="CatchallClause"> </a><a id="6821" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6821" class="CatchallClause Bound">oldLedger</a><a id="6830" class="CatchallClause"> </a><a id="6831" class="CatchallClause Symbol">(</a><a id="6832" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="6839" class="CatchallClause"> </a><a id="6840" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6840" class="CatchallClause Bound">currentLedger</a><a id="6853" class="CatchallClause"> </a><a id="6854" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6854" class="CatchallClause Bound">executionStack</a><a id="6868" class="CatchallClause"> </a><a id="6869" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6869" class="CatchallClause Bound">callAddr</a><a id="6877" class="CatchallClause"> </a><a id="6878" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6878" class="CatchallClause Bound">currentAddr</a><a id="6889" class="CatchallClause"> </a><a id="6890" class="CatchallClause Symbol">(</a><a id="6891" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="6895" class="CatchallClause"> </a><a id="6896" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="6914" class="CatchallClause"> </a><a id="6915" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6915" class="CatchallClause Bound">cont</a><a id="6919" class="CatchallClause Symbol">))</a>
       <a id="6929" class="Symbol">=</a> <a id="6931" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="6939" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6840" class="Bound">currentLedger</a> <a id="6953" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6854" class="Bound">executionStack</a> <a id="6968" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6869" class="Bound">callAddr</a> <a id="6977" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6878" class="Bound">currentAddr</a> <a id="6989" class="Symbol">(</a><a id="6990" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6915" class="Bound">cont</a> <a id="6995" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6878" class="Bound">currentAddr</a><a id="7006" class="Symbol">)</a>
<a id="7008" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="CatchallClause Function">stepEF</a><a id="7014" class="CatchallClause"> </a><a id="7015" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7015" class="CatchallClause Bound">oldLedger</a><a id="7024" class="CatchallClause"> </a><a id="7025" class="CatchallClause Symbol">(</a><a id="7026" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="7033" class="CatchallClause"> </a><a id="7034" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7034" class="CatchallClause Bound">currentLedger</a><a id="7047" class="CatchallClause"> </a><a id="7048" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7048" class="CatchallClause Bound">executionStack</a><a id="7062" class="CatchallClause"> </a><a id="7063" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7063" class="CatchallClause Bound">callAddr</a><a id="7071" class="CatchallClause"> </a><a id="7072" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7072" class="CatchallClause Bound">currentAddr</a><a id="7083" class="CatchallClause"> </a><a id="7084" class="CatchallClause Symbol">(</a><a id="7085" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7089" class="CatchallClause"> </a><a id="7090" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="7105" class="CatchallClause"> </a><a id="7106" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7106" class="CatchallClause Bound">cont</a><a id="7110" class="CatchallClause Symbol">))</a>
       <a id="7120" class="Symbol">=</a> <a id="7122" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="7130" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7034" class="Bound">currentLedger</a> <a id="7144" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7048" class="Bound">executionStack</a> <a id="7159" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7063" class="Bound">callAddr</a> <a id="7168" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7072" class="Bound">currentAddr</a> <a id="7180" class="Symbol">(</a><a id="7181" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7106" class="Bound">cont</a> <a id="7186" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7063" class="Bound">callAddr</a><a id="7194" class="Symbol">)</a>
<a id="7196" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="CatchallClause Function">stepEF</a><a id="7202" class="CatchallClause"> </a><a id="7203" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7203" class="CatchallClause Bound">oldLedger</a><a id="7212" class="CatchallClause"> </a><a id="7213" class="CatchallClause Symbol">(</a><a id="7214" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="7221" class="CatchallClause"> </a><a id="7222" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7222" class="CatchallClause Bound">currentLedger</a><a id="7235" class="CatchallClause"> </a><a id="7236" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7236" class="CatchallClause Bound">executionStack</a><a id="7250" class="CatchallClause"> </a><a id="7251" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7251" class="CatchallClause Bound">callAddr</a><a id="7259" class="CatchallClause"> </a><a id="7260" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7260" class="CatchallClause Bound">currentAddr</a>
                            <a id="7300" class="CatchallClause Symbol">(</a><a id="7301" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7305" class="CatchallClause"> </a><a id="7306" class="CatchallClause Symbol">(</a><a id="7307" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="CatchallClause InductiveConstructor">updatec</a><a id="7314" class="CatchallClause"> </a><a id="7315" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7315" class="CatchallClause Bound">changedFname</a><a id="7327" class="CatchallClause"> </a><a id="7328" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7328" class="CatchallClause Bound">changedFdef</a><a id="7339" class="CatchallClause Symbol">)</a><a id="7340" class="CatchallClause"> </a><a id="7341" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7341" class="CatchallClause Bound">cont</a><a id="7345" class="CatchallClause Symbol">))</a>
       <a id="7355" class="Symbol">=</a> <a id="7357" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="7365" class="Symbol">(</a><a id="7366" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3738" class="Function">updateLedger</a> <a id="7379" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7222" class="Bound">currentLedger</a> <a id="7393" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7260" class="Bound">currentAddr</a> <a id="7405" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7315" class="Bound">changedFname</a> <a id="7418" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7328" class="Bound">changedFdef</a><a id="7429" class="Symbol">)</a>
                   <a id="7450" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7236" class="Bound">executionStack</a> <a id="7465" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7251" class="Bound">callAddr</a> <a id="7474" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7260" class="Bound">currentAddr</a> <a id="7486" class="Symbol">(</a><a id="7487" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7341" class="Bound">cont</a> <a id="7492" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="7494" class="Symbol">)</a>
<a id="7496" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="CatchallClause Function">stepEF</a><a id="7502" class="CatchallClause"> </a><a id="7503" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7503" class="CatchallClause Bound">oldLedger</a><a id="7512" class="CatchallClause"> </a><a id="7513" class="CatchallClause Symbol">(</a><a id="7514" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="7521" class="CatchallClause"> </a><a id="7522" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7522" class="CatchallClause Bound">currentLedger</a><a id="7535" class="CatchallClause"> </a><a id="7536" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7536" class="CatchallClause Bound">executionStack</a><a id="7550" class="CatchallClause"> </a><a id="7551" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7551" class="CatchallClause Bound">oldCalladdr</a><a id="7562" class="CatchallClause"> </a><a id="7563" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7563" class="CatchallClause Bound">oldCurrentAddr</a><a id="7577" class="CatchallClause"> </a><a id="7578" class="CatchallClause Symbol">(</a><a id="7579" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7583" class="CatchallClause"> </a><a id="7584" class="CatchallClause Symbol">(</a><a id="7585" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="CatchallClause InductiveConstructor">callc</a><a id="7590" class="CatchallClause"> </a><a id="7591" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7591" class="CatchallClause Bound">newaddr</a><a id="7598" class="CatchallClause"> </a><a id="7599" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7599" class="CatchallClause Bound">fname</a><a id="7604" class="CatchallClause"> </a><a id="7605" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7605" class="CatchallClause Bound">msg</a><a id="7608" class="CatchallClause Symbol">)</a><a id="7609" class="CatchallClause"> </a><a id="7610" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7610" class="CatchallClause Bound">cont</a><a id="7614" class="CatchallClause Symbol">))</a>
       <a id="7624" class="Symbol">=</a> <a id="7626" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="7634" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7522" class="Bound">currentLedger</a> <a id="7648" class="Symbol">(</a><a id="7649" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2737" class="InductiveConstructor">execStackEl</a> <a id="7661" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7551" class="Bound">oldCalladdr</a> <a id="7673" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7563" class="Bound">oldCurrentAddr</a> <a id="7688" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7610" class="Bound">cont</a>  <a id="7694" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a> <a id="7696" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7536" class="Bound">executionStack</a><a id="7710" class="Symbol">)</a>  <a id="7713" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7563" class="Bound">oldCurrentAddr</a> <a id="7728" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7591" class="Bound">newaddr</a>
                   <a id="7755" class="Symbol">(</a><a id="7756" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7522" class="Bound">currentLedger</a> <a id="7770" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7591" class="Bound">newaddr</a> <a id="7778" class="Symbol">.</a><a id="7779" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="7783" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7599" class="Bound">fname</a> <a id="7789" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7605" class="Bound">msg</a><a id="7792" class="Symbol">)</a>

<a id="7795" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="CatchallClause Function">stepEF</a><a id="7801" class="CatchallClause"> </a><a id="7802" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7802" class="CatchallClause Bound">oldLedger</a><a id="7811" class="CatchallClause"> </a><a id="7812" class="CatchallClause Symbol">(</a><a id="7813" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="7820" class="CatchallClause"> </a><a id="7821" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7821" class="CatchallClause Bound">currentLedger</a><a id="7834" class="CatchallClause"> </a><a id="7835" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7835" class="CatchallClause Bound">executionStack</a><a id="7849" class="CatchallClause"> </a><a id="7850" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7850" class="CatchallClause Bound">callAddr</a><a id="7858" class="CatchallClause"> </a><a id="7859" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7859" class="CatchallClause Bound">currentAddr</a><a id="7870" class="CatchallClause"> </a><a id="7871" class="CatchallClause Symbol">(</a><a id="7872" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7876" class="CatchallClause"> </a><a id="7877" class="CatchallClause Symbol">(</a><a id="7878" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="CatchallClause InductiveConstructor">transferc</a><a id="7887" class="CatchallClause"> </a><a id="7888" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7888" class="CatchallClause Bound">amount</a><a id="7894" class="CatchallClause"> </a><a id="7895" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7895" class="CatchallClause Bound">destinationAddr</a><a id="7910" class="CatchallClause"> </a><a id="7911" class="CatchallClause Symbol">)</a><a id="7912" class="CatchallClause"> </a><a id="7913" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7913" class="CatchallClause Bound">cont</a><a id="7917" class="CatchallClause Symbol">))</a>
       <a id="7927" class="Symbol">=</a> <a id="7929" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5745" class="Function">executeTransfer</a> <a id="7945" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7802" class="Bound">oldLedger</a> <a id="7955" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7821" class="Bound">currentLedger</a> <a id="7969" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7835" class="Bound">executionStack</a> <a id="7984" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7850" class="Bound">callAddr</a> <a id="7993" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7859" class="Bound">currentAddr</a> <a id="8005" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7888" class="Bound">amount</a> <a id="8012" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7895" class="Bound">destinationAddr</a> <a id="8028" class="Symbol">(</a><a id="8029" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7913" class="Bound">cont</a> <a id="8034" href="Agda.Builtin.Unit.html#212" class="InductiveConstructor">tt</a><a id="8036" class="Symbol">)</a> 
<a id="8039" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="CatchallClause Function">stepEF</a><a id="8045" class="CatchallClause"> </a><a id="8046" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8046" class="CatchallClause Bound">oldLedger</a><a id="8055" class="CatchallClause"> </a><a id="8056" class="CatchallClause Symbol">(</a><a id="8057" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="8064" class="CatchallClause"> </a><a id="8065" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8065" class="CatchallClause Bound">currentLedger</a><a id="8078" class="CatchallClause"> </a><a id="8079" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8079" class="CatchallClause Bound">executionStack</a><a id="8093" class="CatchallClause"> </a><a id="8094" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8094" class="CatchallClause Bound">callAddr</a><a id="8102" class="CatchallClause"> </a><a id="8103" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8103" class="CatchallClause Bound">currentAddr</a><a id="8114" class="CatchallClause"> </a><a id="8115" class="CatchallClause Symbol">(</a><a id="8116" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="8120" class="CatchallClause"> </a><a id="8121" class="CatchallClause Symbol">(</a><a id="8122" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#793" class="CatchallClause InductiveConstructor">getAmountc</a><a id="8132" class="CatchallClause">  </a><a id="8134" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8134" class="CatchallClause Bound">addrLookedUp</a><a id="8146" class="CatchallClause Symbol">)</a><a id="8147" class="CatchallClause"> </a><a id="8148" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8148" class="CatchallClause Bound">cont</a><a id="8152" class="CatchallClause Symbol">))</a>
       <a id="8162" class="Symbol">=</a> <a id="8164" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="8172" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8065" class="Bound">currentLedger</a> <a id="8186" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8079" class="Bound">executionStack</a> <a id="8201" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8094" class="Bound">callAddr</a> <a id="8210" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8103" class="Bound">currentAddr</a> <a id="8222" class="Symbol">(</a><a id="8223" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8148" class="Bound">cont</a> <a id="8228" class="Symbol">(</a><a id="8229" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8065" class="Bound">currentLedger</a> <a id="8243" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8134" class="Bound">addrLookedUp</a> <a id="8256" class="Symbol">.</a><a id="8257" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="8263" class="Symbol">))</a>
<a id="8266" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="CatchallClause Function">stepEF</a><a id="8272" class="CatchallClause"> </a><a id="8273" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8273" class="CatchallClause Bound">oldLedger</a><a id="8282" class="CatchallClause"> </a><a id="8283" class="CatchallClause Symbol">(</a><a id="8284" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="8291" class="CatchallClause"> </a><a id="8292" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8292" class="CatchallClause Bound">currentLedger</a><a id="8305" class="CatchallClause"> </a><a id="8306" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8306" class="CatchallClause Bound">executionStack</a><a id="8320" class="CatchallClause"> </a><a id="8321" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8321" class="CatchallClause Bound">callAddr</a><a id="8329" class="CatchallClause"> </a><a id="8330" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8330" class="CatchallClause Bound">currentAddr</a><a id="8341" class="CatchallClause"> </a><a id="8342" class="CatchallClause Symbol">(</a><a id="8343" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="CatchallClause InductiveConstructor">error</a><a id="8348" class="CatchallClause"> </a><a id="8349" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8349" class="CatchallClause Bound">errorMsg</a><a id="8357" class="CatchallClause Symbol">))</a>
       <a id="8367" class="Symbol">=</a> <a id="8369" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="8377" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8273" class="Bound">oldLedger</a> <a id="8387" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8306" class="Bound">executionStack</a> <a id="8402" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8321" class="Bound">callAddr</a> <a id="8411" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8330" class="Bound">currentAddr</a> <a id="8423" class="Symbol">(</a><a id="8424" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="8430" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8349" class="Bound">errorMsg</a><a id="8438" class="Symbol">)</a>


<a id="8442" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="8472" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8472" class="Function">stepEFntimes</a> <a id="8485" class="Symbol">:</a> <a id="8487" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="8494" class="Symbol">→</a> <a id="8496" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a> <a id="8509" class="Symbol">→</a> <a id="8511" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8513" class="Symbol">→</a> <a id="8515" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a>
<a id="8528" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8472" class="Function">stepEFntimes</a> <a id="8541" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8541" class="Bound">oldLedger</a> <a id="8551" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8551" class="Bound">ledgerstateexecfun</a> <a id="8570" class="Number">0</a>
             <a id="8585" class="Symbol">=</a> <a id="8587" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8551" class="Bound">ledgerstateexecfun</a>
<a id="8606" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8472" class="Function">stepEFntimes</a> <a id="8619" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8619" class="Bound">oldLedger</a> <a id="8629" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8629" class="Bound">ledgerstateexecfun</a> <a id="8648" class="Symbol">(</a><a id="8649" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="8653" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8653" class="Bound">n</a><a id="8654" class="Symbol">)</a>
      <a id="8662" class="Symbol">=</a> <a id="8664" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="Function">stepEF</a> <a id="8671" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8619" class="Bound">oldLedger</a> <a id="8681" class="Symbol">(</a><a id="8682" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8472" class="Function">stepEFntimes</a> <a id="8695" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8619" class="Bound">oldLedger</a> <a id="8705" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8629" class="Bound">ledgerstateexecfun</a> <a id="8724" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8653" class="Bound">n</a><a id="8725" class="Symbol">)</a>



<a id="stepLedgerFunntimes"></a><a id="8730" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8730" class="Function">stepLedgerFunntimes</a> <a id="8750" class="Symbol">:</a> <a id="8752" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="8759" class="Symbol">→</a> <a id="8761" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
                      <a id="8791" class="Symbol">→</a> <a id="8793" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="8801" class="Symbol">→</a> <a id="8803" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a>
                      <a id="8838" class="Symbol">→</a> <a id="8840" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="8844" class="Symbol">→</a> <a id="8846" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="8848" class="Symbol">→</a> <a id="8850" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a>
<a id="8863" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8730" class="Function">stepLedgerFunntimes</a> <a id="8883" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8883" class="Bound">ledger</a> <a id="8890" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8890" class="Bound">callAddr</a> <a id="8899" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8899" class="Bound">currentAddr</a> <a id="8911" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8911" class="Bound">funname</a> <a id="8919" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8919" class="Bound">msg</a> <a id="8923" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8923" class="Bound">n</a>
        <a id="8933" class="Symbol">=</a> <a id="8935" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8472" class="Function">stepEFntimes</a> <a id="8948" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8883" class="Bound">ledger</a> <a id="8955" class="Symbol">(</a><a id="8956" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="8964" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8883" class="Bound">ledger</a> <a id="8971" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="8974" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8890" class="Bound">callAddr</a> <a id="8983" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8899" class="Bound">currentAddr</a>
        <a id="9003" class="Symbol">(</a><a id="9004" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8883" class="Bound">ledger</a> <a id="9011" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8899" class="Bound">currentAddr</a> <a id="9023" class="Symbol">.</a><a id="9024" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="9028" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8911" class="Bound">funname</a> <a id="9036" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8919" class="Bound">msg</a><a id="9039" class="Symbol">))</a> <a id="9042" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8923" class="Bound">n</a>


<a id="stepLedgerFunntimesList"></a><a id="9046" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9046" class="Function">stepLedgerFunntimesList</a> <a id="9070" class="Symbol">:</a> <a id="9072" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="9079" class="Symbol">→</a> <a id="9081" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
                          <a id="9115" class="Symbol">→</a>  <a id="9118" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="9126" class="Symbol">→</a> <a id="9128" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a>
                          <a id="9167" class="Symbol">→</a> <a id="9169" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="9173" class="Symbol">→</a> <a id="9175" href="Agda.Builtin.Nat.html#203" class="Datatype">ℕ</a> <a id="9177" class="Symbol">→</a> <a id="9179" href="Agda.Builtin.List.html#147" class="Datatype">List</a> <a id="9184" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a>
<a id="9197" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9046" class="Function">stepLedgerFunntimesList</a> <a id="9221" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9221" class="Bound">ledger</a> <a id="9228" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9228" class="Bound">callAddr</a> <a id="9237" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9237" class="Bound">currentAddr</a> <a id="9249" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9249" class="Bound">funname</a> <a id="9257" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9257" class="Bound">msg</a> <a id="9261" class="Number">0</a> <a id="9263" class="Symbol">=</a> <a id="9265" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a>
<a id="9268" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9046" class="Function">stepLedgerFunntimesList</a> <a id="9292" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9292" class="Bound">ledger</a> <a id="9299" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9299" class="Bound">callAddr</a> <a id="9308" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9308" class="Bound">currentAddr</a> <a id="9320" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9320" class="Bound">funname</a> <a id="9328" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9328" class="Bound">msg</a> <a id="9332" class="Symbol">(</a><a id="9333" href="Agda.Builtin.Nat.html#234" class="InductiveConstructor">suc</a> <a id="9337" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9337" class="Bound">n</a><a id="9338" class="Symbol">)</a>
        <a id="9348" class="Symbol">=</a> <a id="9350" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8730" class="Function">stepLedgerFunntimes</a> <a id="9370" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9292" class="Bound">ledger</a> <a id="9377" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9299" class="Bound">callAddr</a> <a id="9386" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9308" class="Bound">currentAddr</a> <a id="9398" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9320" class="Bound">funname</a> <a id="9406" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9328" class="Bound">msg</a> <a id="9410" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9337" class="Bound">n</a> <a id="9412" href="Agda.Builtin.List.html#199" class="InductiveConstructor Operator">∷</a>
          <a id="9424" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9046" class="Function">stepLedgerFunntimesList</a> <a id="9448" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9292" class="Bound">ledger</a> <a id="9455" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9299" class="Bound">callAddr</a> <a id="9464" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9308" class="Bound">currentAddr</a> <a id="9476" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9320" class="Bound">funname</a> <a id="9484" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9328" class="Bound">msg</a> <a id="9488" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9337" class="Bound">n</a>



<a id="9493" class="Symbol">{-#</a> <a id="9497" class="Keyword">NON_TERMINATING</a> <a id="9513" class="Symbol">#-}</a>
<a id="evaluateNonTerminatingAux"></a><a id="9517" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="Function">evaluateNonTerminatingAux</a> <a id="9543" class="Symbol">:</a> <a id="9545" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="9552" class="Symbol">→</a> <a id="9554" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3481" class="Record">StateExecFun</a> <a id="9567" class="Symbol">→</a> <a id="9569" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#764" class="Datatype">NatOrError</a>
<a id="9580" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="Function">evaluateNonTerminatingAux</a> <a id="9606" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9606" class="Bound">oldledger</a> <a id="9616" class="Symbol">(</a><a id="9617" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="9625" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9625" class="Bound">currentLedger</a> <a id="9639" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="9642" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9642" class="Bound">callAddr</a> <a id="9651" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9651" class="Bound">currentAddr</a> <a id="9663" class="Symbol">(</a><a id="9664" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="9671" class="Symbol">(</a><a id="9672" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#593" class="InductiveConstructor">nat</a> <a id="9676" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9676" class="Bound">n</a><a id="9677" class="Symbol">)))</a> <a id="9681" class="Symbol">=</a> <a id="9683" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#788" class="InductiveConstructor">nat</a> <a id="9687" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9676" class="Bound">n</a>
<a id="9689" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="CatchallClause Function">evaluateNonTerminatingAux</a><a id="9714" class="CatchallClause"> </a><a id="9715" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9715" class="CatchallClause Bound">oldledger</a><a id="9724" class="CatchallClause"> </a><a id="9725" class="CatchallClause Symbol">(</a><a id="9726" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="9733" class="CatchallClause"> </a><a id="9734" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9734" class="CatchallClause Bound">currentLedger</a><a id="9747" class="CatchallClause"> </a><a id="9748" href="Agda.Builtin.List.html#184" class="CatchallClause InductiveConstructor">[]</a><a id="9750" class="CatchallClause"> </a><a id="9751" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9751" class="CatchallClause Bound">callAddr</a><a id="9759" class="CatchallClause"> </a><a id="9760" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9760" class="CatchallClause Bound">currentAddr</a><a id="9771" class="CatchallClause"> </a><a id="9772" class="CatchallClause Symbol">(</a><a id="9773" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="CatchallClause InductiveConstructor">return</a><a id="9779" class="CatchallClause"> </a><a id="9780" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9780" class="CatchallClause Bound">otherwise</a><a id="9789" class="CatchallClause Symbol">))</a> <a id="9792" class="Symbol">=</a> <a id="9794" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#810" class="InductiveConstructor">err</a> <a id="9798" class="Symbol">(</a><a id="9799" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#727" class="InductiveConstructor">strErr</a> <a id="9806" class="String">&quot;result returned not nat&quot;</a><a id="9831" class="Symbol">)</a>
<a id="9833" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="CatchallClause Function">evaluateNonTerminatingAux</a><a id="9858" class="CatchallClause"> </a><a id="9859" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9859" class="CatchallClause Bound">oldledger</a><a id="9868" class="CatchallClause"> </a><a id="9869" class="CatchallClause Symbol">(</a><a id="9870" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="CatchallClause InductiveConstructor">stateEF</a><a id="9877" class="CatchallClause"> </a><a id="9878" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9878" class="CatchallClause Bound">currentLedger</a><a id="9891" class="CatchallClause"> </a><a id="9892" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9892" class="CatchallClause Bound">s</a><a id="9893" class="CatchallClause"> </a><a id="9894" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9894" class="CatchallClause Bound">callAddr</a><a id="9902" class="CatchallClause"> </a><a id="9903" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9903" class="CatchallClause Bound">currentAddr</a><a id="9914" class="CatchallClause"> </a><a id="9915" class="CatchallClause Symbol">(</a><a id="9916" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="CatchallClause InductiveConstructor">error</a><a id="9921" class="CatchallClause"> </a><a id="9922" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9922" class="CatchallClause Bound">msg</a><a id="9925" class="CatchallClause Symbol">))</a> <a id="9928" class="Symbol">=</a> <a id="9930" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#810" class="InductiveConstructor">err</a> <a id="9934" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9922" class="Bound">msg</a>
<a id="9938" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="CatchallClause Function">evaluateNonTerminatingAux</a><a id="9963" class="CatchallClause"> </a><a id="9964" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9964" class="CatchallClause Bound">oldledger</a><a id="9973" class="CatchallClause"> </a><a id="9974" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9974" class="CatchallClause Bound">evals</a> <a id="9980" class="Symbol">=</a> <a id="9982" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="Function">evaluateNonTerminatingAux</a> <a id="10008" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9964" class="Bound">oldledger</a> <a id="10018" class="Symbol">(</a><a id="10019" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6397" class="Function">stepEF</a>  <a id="10027" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9964" class="Bound">oldledger</a> <a id="10037" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9974" class="Bound">evals</a><a id="10042" class="Symbol">)</a>

<a id="evaluateNonTerminating"></a><a id="10045" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10045" class="Function">evaluateNonTerminating</a> <a id="10068" class="Symbol">:</a> <a id="10070" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="10077" class="Symbol">→</a> <a id="10079" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="10087" class="Symbol">→</a>  <a id="10090" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="10098" class="Symbol">→</a> <a id="10100" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="10113" class="Symbol">→</a> <a id="10115" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="10119" class="Symbol">→</a> <a id="10121" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#764" class="Datatype">NatOrError</a>
<a id="10132" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10045" class="Function">evaluateNonTerminating</a> <a id="10155" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10155" class="Bound">ledger</a> <a id="10162" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10162" class="Bound">callAddr</a> <a id="10171" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10171" class="Bound">currentAddr</a>  <a id="10184" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10184" class="Bound">funname</a> <a id="10192" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10192" class="Bound">msg</a>
            <a id="10208" class="Symbol">=</a>  <a id="10211" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="Function">evaluateNonTerminatingAux</a> <a id="10237" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10155" class="Bound">ledger</a>
            <a id="10256" class="Symbol">(</a><a id="10257" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3520" class="InductiveConstructor">stateEF</a> <a id="10265" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10155" class="Bound">ledger</a> <a id="10272" href="Agda.Builtin.List.html#184" class="InductiveConstructor">[]</a> <a id="10275" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10162" class="Bound">callAddr</a> <a id="10284" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10171" class="Bound">currentAddr</a> <a id="10296" class="Symbol">(</a><a id="10297" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10155" class="Bound">ledger</a> <a id="10304" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10171" class="Bound">currentAddr</a> <a id="10316" class="Symbol">.</a><a id="10317" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="10321" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10184" class="Bound">funname</a> <a id="10329" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#10192" class="Bound">msg</a><a id="10332" class="Symbol">))</a>




</pre></body></html>