<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Simple-Model.ledgerversion.Ledger-Simple-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">module</a> <a id="8" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html" class="Module">Simple-Model.ledgerversion.Ledger-Simple-Model</a> <a id="55" class="Keyword">where</a>

<a id="62" class="Keyword">open</a> <a id="67" class="Keyword">import</a> <a id="74" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="83" class="Keyword">open</a> <a id="88" class="Keyword">import</a> <a id="95" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="112" class="Keyword">using</a> <a id="118" class="Symbol">(</a><a id="119" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">_-_</a><a id="122" class="Symbol">)</a>
<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Data.List.html" class="Module">Data.List</a>
<a id="168" class="Keyword">open</a> <a id="173" class="Keyword">import</a> <a id="180" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="190" class="Keyword">open</a> <a id="195" class="Keyword">import</a> <a id="202" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="217" class="Keyword">open</a> <a id="222" class="Keyword">import</a> <a id="229" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="243" class="Keyword">open</a> <a id="248" class="Keyword">import</a> <a id="255" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="267" class="Keyword">hiding</a> <a id="274" class="Symbol">(</a><a id="275" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="280" class="Symbol">)</a>
<a id="282" class="Keyword">open</a> <a id="287" class="Keyword">import</a> <a id="294" href="Data.String.html" class="Module">Data.String</a> <a id="306" class="Keyword">hiding</a> <a id="313" class="Symbol">(</a><a id="314" href="Data.String.Base.html#2430" class="Function">length</a><a id="320" class="Symbol">)</a>

<a id="323" class="Comment">--library for simple model</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html" class="Module">Simple-Model.library-simple-model.basicDataStructureWithSimpleModel</a>

<a id="431" class="Comment">-- main library</a>
<a id="447" class="Keyword">open</a> <a id="452" class="Keyword">import</a> <a id="459" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>




<a id="484" class="Keyword">mutual</a>

  <a id="494" class="Comment">-- smart contract-comands:</a>
  <a id="523" class="Keyword">data</a> <a id="CCommands"></a><a id="528" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a> <a id="538" class="Symbol">:</a> <a id="540" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="544" class="Keyword">where</a>
    <a id="CCommands.updatec"></a><a id="554" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="InductiveConstructor">updatec</a> <a id="562" class="Symbol">:</a> <a id="564" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="577" class="Symbol">→</a> <a id="579" class="Symbol">(</a><a id="580" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="584" class="Symbol">→</a> <a id="586" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="604" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="607" class="Symbol">)</a> <a id="609" class="Symbol">→</a> <a id="611" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.currentAddrLookupc"></a><a id="625" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="InductiveConstructor">currentAddrLookupc</a> <a id="644" class="Symbol">:</a> <a id="646" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.callAddrLookupc"></a><a id="660" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="InductiveConstructor">callAddrLookupc</a> <a id="676" class="Symbol">:</a> <a id="678" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.callc"></a><a id="692" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="InductiveConstructor">callc</a>   <a id="700" class="Symbol">:</a> <a id="702" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="710" class="Symbol">→</a> <a id="712" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="725" class="Symbol">→</a> <a id="727" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="731" class="Symbol">→</a> <a id="733" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.transferc"></a><a id="747" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="InductiveConstructor">transferc</a> <a id="757" class="Symbol">:</a> <a id="759" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a> <a id="766" class="Symbol">→</a> <a id="768" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="776" class="Symbol">→</a>  <a id="779" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>
    <a id="CCommands.getAmountc"></a><a id="793" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#793" class="InductiveConstructor">getAmountc</a> <a id="804" class="Symbol">:</a> <a id="806" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="814" class="Symbol">→</a> <a id="816" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a>

<a id="827" class="Comment">-- smart contract response</a>
  <a id="CResponse"></a><a id="856" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="866" class="Symbol">:</a> <a id="868" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a> <a id="878" class="Symbol">→</a> <a id="880" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="886" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="896" class="Symbol">(</a><a id="897" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="InductiveConstructor">updatec</a> <a id="905" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#905" class="Bound">fname</a> <a id="911" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#911" class="Bound">fdef</a><a id="915" class="Symbol">)</a> <a id="917" class="Symbol">=</a> <a id="919" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="923" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="933" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="InductiveConstructor">currentAddrLookupc</a> <a id="952" class="Symbol">=</a> <a id="954" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
  <a id="964" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="974" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="InductiveConstructor">callAddrLookupc</a> <a id="990" class="Symbol">=</a> <a id="992" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
  <a id="1002" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1012" class="Symbol">(</a><a id="1013" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#793" class="InductiveConstructor">getAmountc</a> <a id="1024" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1024" class="Bound">addr</a><a id="1028" class="Symbol">)</a> <a id="1030" class="Symbol">=</a> <a id="1032" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a>
  <a id="1041" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1051" class="Symbol">(</a><a id="1052" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="InductiveConstructor">callc</a> <a id="1058" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1058" class="Bound">addr</a> <a id="1063" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1063" class="Bound">fname</a> <a id="1069" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1069" class="Bound">msg</a><a id="1072" class="Symbol">)</a> <a id="1074" class="Symbol">=</a> <a id="1076" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a>
  <a id="1082" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1092" class="Symbol">(</a><a id="1093" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="InductiveConstructor">transferc</a> <a id="1103" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1103" class="Bound">amount</a> <a id="1110" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1110" class="Bound">addr</a><a id="1114" class="Symbol">)</a> <a id="1116" class="Symbol">=</a> <a id="1118" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>


<a id="1122" class="Comment">--Prog is datatype of what happens when a function is applied to its arguments.</a>
<a id="1202" class="Comment">--Prog --&gt; Prog</a>
  <a id="1220" class="Keyword">data</a> <a id="SmartContractExec"></a><a id="1225" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1243" class="Symbol">(</a><a id="1244" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a> <a id="1246" class="Symbol">:</a> <a id="1248" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1251" class="Symbol">)</a> <a id="1253" class="Symbol">:</a> <a id="1255" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1259" class="Keyword">where</a>
    <a id="SmartContractExec.return"></a><a id="1269" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="1276" class="Symbol">:</a> <a id="1278" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a> <a id="1280" class="Symbol">→</a> <a id="1282" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1300" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a>
    <a id="SmartContractExec.error"></a><a id="1306" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a>  <a id="1313" class="Symbol">:</a> <a id="1315" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#704" class="Datatype">ErrorMsg</a> <a id="1324" class="Symbol">→</a>  <a id="1327" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1345" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a>
    <a id="SmartContractExec.exec"></a><a id="1351" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a>  <a id="1357" class="Symbol">:</a> <a id="1359" class="Symbol">(</a><a id="1360" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1360" class="Bound">c</a> <a id="1362" class="Symbol">:</a> <a id="1364" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#528" class="Datatype">CCommands</a><a id="1373" class="Symbol">)</a> <a id="1375" class="Symbol">→</a> <a id="1377" class="Symbol">(</a><a id="1378" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#856" class="Function">CResponse</a> <a id="1388" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1360" class="Bound">c</a> <a id="1390" class="Symbol">→</a> <a id="1392" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1410" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a><a id="1411" class="Symbol">)</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1433" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1244" class="Bound">A</a>




<a id="_&gt;&gt;=_"></a><a id="1439" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">_&gt;&gt;=_</a> <a id="1445" class="Symbol">:</a> <a id="1447" class="Symbol">{</a><a id="1448" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1448" class="Bound">A</a> <a id="1450" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1450" class="Bound">B</a> <a id="1452" class="Symbol">:</a> <a id="1454" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1457" class="Symbol">}</a> <a id="1459" class="Symbol">→</a> <a id="1461" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1479" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1448" class="Bound">A</a> <a id="1481" class="Symbol">→</a> <a id="1483" class="Symbol">(</a><a id="1484" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1448" class="Bound">A</a> <a id="1486" class="Symbol">→</a> <a id="1488" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1506" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1450" class="Bound">B</a><a id="1507" class="Symbol">)</a> <a id="1509" class="Symbol">→</a> <a id="1511" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1529" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1450" class="Bound">B</a>
<a id="1531" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="1538" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1538" class="Bound">x</a> <a id="1540" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1544" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1544" class="Bound">q</a> <a id="1546" class="Symbol">=</a> <a id="1548" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1544" class="Bound">q</a> <a id="1550" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1538" class="Bound">x</a>
<a id="1552" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1558" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1558" class="Bound">x</a> <a id="1560" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1564" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1564" class="Bound">q</a> <a id="1566" class="Symbol">=</a> <a id="1568" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1574" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1558" class="Bound">x</a>
<a id="1576" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1581" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1581" class="Bound">c</a> <a id="1583" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1583" class="Bound">x</a> <a id="1585" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1589" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1589" class="Bound">q</a> <a id="1591" class="Symbol">=</a> <a id="1593" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1598" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1581" class="Bound">c</a> <a id="1600" class="Symbol">(λ</a> <a id="1603" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1603" class="Bound">r</a> <a id="1605" class="Symbol">→</a> <a id="1607" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1583" class="Bound">x</a> <a id="1609" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1603" class="Bound">r</a> <a id="1611" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1439" class="Function Operator">&gt;&gt;=</a> <a id="1615" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1589" class="Bound">q</a><a id="1616" class="Symbol">)</a>


<a id="_&gt;&gt;_"></a><a id="1620" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">_&gt;&gt;_</a> <a id="1625" class="Symbol">:</a> <a id="1627" class="Symbol">{</a><a id="1628" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1628" class="Bound">A</a> <a id="1630" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1630" class="Bound">B</a> <a id="1632" class="Symbol">:</a> <a id="1634" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="1637" class="Symbol">}</a> <a id="1639" class="Symbol">→</a> <a id="1641" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1659" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1628" class="Bound">A</a> <a id="1661" class="Symbol">→</a> <a id="1663" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1681" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1630" class="Bound">B</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1703" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1630" class="Bound">B</a>
<a id="1705" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="1712" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1712" class="Bound">x</a> <a id="1714" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1717" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1717" class="Bound">q</a> <a id="1719" class="Symbol">=</a> <a id="1721" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1717" class="Bound">q</a>
<a id="1723" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1729" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1729" class="Bound">x</a> <a id="1731" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1734" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1734" class="Bound">q</a> <a id="1736" class="Symbol">=</a> <a id="1738" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="1744" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1729" class="Bound">x</a>
<a id="1746" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1751" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1751" class="Bound">c</a> <a id="1753" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1753" class="Bound">x</a> <a id="1755" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1758" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1758" class="Bound">q</a> <a id="1760" class="Symbol">=</a> <a id="1762" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="1767" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1751" class="Bound">c</a> <a id="1769" class="Symbol">(λ</a> <a id="1772" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1772" class="Bound">r</a> <a id="1774" class="Symbol">→</a> <a id="1776" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1753" class="Bound">x</a> <a id="1778" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1772" class="Bound">r</a> <a id="1780" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1620" class="Function Operator">&gt;&gt;</a> <a id="1783" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1758" class="Bound">q</a><a id="1784" class="Symbol">)</a>



<a id="1789" class="Comment">-- Definition of simple contract</a>
<a id="1822" class="Keyword">record</a> <a id="Contract"></a><a id="1829" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1829" class="Record">Contract</a> <a id="1838" class="Symbol">:</a> <a id="1840" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1844" class="Keyword">where</a>
  <a id="1852" class="Keyword">constructor</a> <a id="contract"></a><a id="1864" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1864" class="InductiveConstructor">contract</a>
  <a id="1875" class="Keyword">field</a>
    <a id="Contract.amount"></a><a id="1885" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>   <a id="1894" class="Symbol">:</a> <a id="1896" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a>
    <a id="Contract.fun"></a><a id="1907" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a>  <a id="1912" class="Symbol">:</a> <a id="1914" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="1927" class="Symbol">→</a> <a id="1929" class="Symbol">(</a><a id="1930" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="1934" class="Symbol">→</a> <a id="1936" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="1954" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="1957" class="Symbol">)</a>

<a id="1960" class="Keyword">open</a> <a id="1965" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1829" class="Module">Contract</a> <a id="1974" class="Keyword">public</a>


<a id="1983" class="Comment">-- ledger</a>
<a id="Ledger"></a><a id="1993" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="2000" class="Symbol">:</a> <a id="2002" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2006" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="2013" class="Symbol">=</a> <a id="2015" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>  <a id="2024" class="Symbol">→</a> <a id="2026" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1829" class="Record">Contract</a>



<a id="2038" class="Comment">--- theses functions below we use them with do notation</a>

<a id="call"></a><a id="2095" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2095" class="Function">call</a> <a id="2100" class="Symbol">:</a> <a id="2102" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>  <a id="2111" class="Symbol">→</a> <a id="2113" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="2126" class="Symbol">→</a> <a id="2128" class="Symbol">(</a><a id="2129" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="2133" class="Symbol">→</a> <a id="2135" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2153" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="2156" class="Symbol">)</a>
<a id="2158" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2095" class="Function">call</a> <a id="2163" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2163" class="Bound">addr</a> <a id="2168" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2168" class="Bound">fname</a> <a id="2174" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2174" class="Bound">msg</a> <a id="2178" class="Symbol">=</a> <a id="2180" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2185" class="Symbol">(</a><a id="2186" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="InductiveConstructor">callc</a> <a id="2192" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2163" class="Bound">addr</a> <a id="2197" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2168" class="Bound">fname</a> <a id="2203" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2174" class="Bound">msg</a><a id="2206" class="Symbol">)</a> <a id="2208" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="update"></a><a id="2216" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2216" class="Function">update</a> <a id="2223" class="Symbol">:</a> <a id="2225" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="2238" class="Symbol">→</a> <a id="2240" class="Symbol">(</a><a id="2241" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="2245" class="Symbol">→</a> <a id="2247" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2265" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="2268" class="Symbol">)</a> <a id="2270" class="Symbol">→</a> <a id="2272" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2290" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="2292" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2216" class="Function">update</a> <a id="2299" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2299" class="Bound">fname</a> <a id="2305" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2305" class="Bound">fdef</a> <a id="2310" class="Symbol">=</a> <a id="2312" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2317" class="Symbol">(</a><a id="2318" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="InductiveConstructor">updatec</a> <a id="2326" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2299" class="Bound">fname</a> <a id="2332" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2305" class="Bound">fdef</a><a id="2336" class="Symbol">)</a> <a id="2338" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="currentAddrLookup"></a><a id="2346" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2346" class="Function">currentAddrLookup</a> <a id="2364" class="Symbol">:</a> <a id="2366" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2384" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
<a id="2392" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2346" class="Function">currentAddrLookup</a> <a id="2410" class="Symbol">=</a> <a id="2412" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2417" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="InductiveConstructor">currentAddrLookupc</a> <a id="2436" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="callAddrLookup"></a><a id="2444" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2444" class="Function">callAddrLookup</a> <a id="2459" class="Symbol">:</a> <a id="2461" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2479" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
<a id="2487" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2444" class="Function">callAddrLookup</a> <a id="2502" class="Symbol">=</a> <a id="2504" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2509" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="InductiveConstructor">callAddrLookupc</a> <a id="2525" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>

<a id="transfer"></a><a id="2533" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2533" class="Function">transfer</a> <a id="2542" class="Symbol">:</a> <a id="2544" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a> <a id="2551" class="Symbol">→</a> <a id="2553" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="2561" class="Symbol">→</a> <a id="2563" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2581" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
<a id="2583" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2533" class="Function">transfer</a> <a id="2592" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2592" class="Bound">amount</a> <a id="2599" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2599" class="Bound">addr</a> <a id="2604" class="Symbol">=</a>  <a id="2607" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="InductiveConstructor">exec</a> <a id="2612" class="Symbol">(</a><a id="2613" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="InductiveConstructor">transferc</a> <a id="2623" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2592" class="Bound">amount</a> <a id="2630" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2599" class="Bound">addr</a><a id="2634" class="Symbol">)</a> <a id="2636" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a>




<a id="2647" class="Keyword">record</a> <a id="ExecStackEl"></a><a id="2654" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2654" class="Record">ExecStackEl</a> <a id="2666" class="Symbol">:</a> <a id="2668" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2672" class="Keyword">where</a>
  <a id="2680" class="Keyword">constructor</a> <a id="execStackEl"></a><a id="2692" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2692" class="InductiveConstructor">execStackEl</a>
  <a id="2706" class="Keyword">field</a>
    <a id="ExecStackEl.callAddress"></a><a id="2716" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2716" class="Field">callAddress</a>    <a id="2731" class="Symbol">:</a> <a id="2733" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>   <a id="2743" class="Comment">--address for the last call</a>
    <a id="ExecStackEl.currentAddress"></a><a id="2775" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2775" class="Field">currentAddress</a> <a id="2790" class="Symbol">:</a> <a id="2792" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>   <a id="2802" class="Comment">--current address where we are in</a>
    <a id="ExecStackEl.continuation"></a><a id="2840" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2840" class="Field">continuation</a>   <a id="2855" class="Symbol">:</a> <a id="2857" class="Symbol">(</a><a id="2858" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="2862" class="Symbol">→</a> <a id="2864" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="2882" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="2885" class="Symbol">)</a>
<a id="2887" class="Keyword">open</a> <a id="2892" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2654" class="Module">ExecStackEl</a> <a id="2904" class="Keyword">public</a>




<a id="ExecutionStack"></a><a id="2915" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2915" class="Function">ExecutionStack</a> <a id="2930" class="Symbol">:</a> <a id="2932" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2936" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2915" class="Function">ExecutionStack</a> <a id="2951" class="Symbol">=</a> <a id="2953" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2958" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2654" class="Record">ExecStackEl</a>





<a id="2975" class="Comment">{- EvalState is an intermediate state when we are evaluating a function call
   in a contract
   it consists of
        - the ledger  (which might changed because of updates)
        - executionStack  contains partially evaluated calls to other contracts together with their addresses
        - the current address
        - and the currently partially evaluated function we are evaluating
-}</a>
<a id="3368" class="Keyword">record</a> <a id="StateExecFun"></a><a id="3375" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a> <a id="3388" class="Symbol">:</a> <a id="3390" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3394" class="Keyword">where</a>
  <a id="3402" class="Keyword">constructor</a> <a id="stateEF"></a><a id="3414" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a>
  <a id="3424" class="Keyword">field</a>
    <a id="StateExecFun.ledger"></a><a id="3434" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3434" class="Field">ledger</a> <a id="3441" class="Symbol">:</a> <a id="3443" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a>
    <a id="StateExecFun.executionStack"></a><a id="3454" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3454" class="Field">executionStack</a> <a id="3469" class="Symbol">:</a> <a id="3471" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2915" class="Function">ExecutionStack</a>
    <a id="StateExecFun.callAddress"></a><a id="3490" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3490" class="Field">callAddress</a>        <a id="3509" class="Symbol">:</a> <a id="3511" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
    <a id="StateExecFun.currentAddress"></a><a id="3523" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3523" class="Field">currentAddress</a>        <a id="3545" class="Symbol">:</a> <a id="3547" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>  
    <a id="StateExecFun.nextstep"></a><a id="3561" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3561" class="Field">nextstep</a>       <a id="3576" class="Symbol">:</a> <a id="3578" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="3596" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a>
<a id="3600" class="Keyword">open</a> <a id="3605" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Module">StateExecFun</a> <a id="3618" class="Keyword">public</a>


<a id="3627" class="Comment">--update ledger</a>
<a id="updateLedger"></a><a id="3643" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3643" class="Function">updateLedger</a> <a id="3656" class="Symbol">:</a> <a id="3658" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="3665" class="Symbol">→</a>  <a id="3668" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
               <a id="3691" class="Symbol">→</a> <a id="3693" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="3706" class="Symbol">→</a> <a id="3708" class="Symbol">(</a><a id="3709" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="3713" class="Symbol">→</a> <a id="3715" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="3733" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="3736" class="Symbol">)</a>
               <a id="3753" class="Symbol">→</a> <a id="3755" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a>
<a id="3762" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3643" class="Function">updateLedger</a> <a id="3775" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3775" class="Bound">ledger</a> <a id="3782" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3782" class="Bound">changedAddr</a> <a id="3794" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3794" class="Bound">changedFname</a> <a id="3807" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3807" class="Bound">f</a> <a id="3809" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3809" class="Bound">a</a> <a id="3811" class="Symbol">.</a><a id="3812" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a> <a id="3819" class="Symbol">=</a> <a id="3821" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3775" class="Bound">ledger</a> <a id="3828" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3809" class="Bound">a</a> <a id="3830" class="Symbol">.</a><a id="3831" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>
<a id="3838" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3643" class="Function">updateLedger</a> <a id="3851" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3851" class="Bound">ledger</a> <a id="3858" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3858" class="Bound">changedAddr</a> <a id="3870" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3870" class="Bound">changedFname</a> <a id="3883" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3883" class="Bound">f</a> <a id="3885" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3885" class="Bound">a</a> <a id="3887" class="Symbol">.</a><a id="3888" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="3892" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3892" class="Bound">fname</a>
         <a id="3907" class="Symbol">=</a> <a id="3909" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3912" class="Symbol">(</a><a id="3913" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3885" class="Bound">a</a> <a id="3915" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3918" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3858" class="Bound">changedAddr</a><a id="3929" class="Symbol">)</a> <a id="3931" href="Data.Bool.Base.html#986" class="Function Operator">∧</a> <a id="3933" class="Symbol">(</a><a id="3934" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3892" class="Bound">fname</a> <a id="3940" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#307" class="Function Operator">≡fun</a> <a id="3945" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3870" class="Bound">changedFname</a><a id="3957" class="Symbol">)</a>
            <a id="3971" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="3976" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3883" class="Bound">f</a> <a id="3978" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="3983" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3851" class="Bound">ledger</a> <a id="3990" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3885" class="Bound">a</a> <a id="3992" class="Symbol">.</a><a id="3993" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="3997" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3892" class="Bound">fname</a>

<a id="4004" class="Comment">--update ledger amount </a>
<a id="updateLedgerAmount"></a><a id="4028" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4028" class="Function">updateLedgerAmount</a> <a id="4047" class="Symbol">:</a> <a id="4049" class="Symbol">(</a><a id="4050" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4050" class="Bound">ledger</a> <a id="4057" class="Symbol">:</a> <a id="4059" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a><a id="4065" class="Symbol">)</a>
                 <a id="4084" class="Symbol">→</a> <a id="4086" class="Symbol">(</a><a id="4087" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4087" class="Bound">currentAddr</a> <a id="4099" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4099" class="Bound">destinationAddr</a> <a id="4115" class="Symbol">:</a> <a id="4117" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="4124" class="Symbol">)</a>
                    <a id="4146" class="Symbol">(</a><a id="4147" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4147" class="Bound">amount&#39;</a> <a id="4155" class="Symbol">:</a> <a id="4157" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a><a id="4163" class="Symbol">)</a>
                 <a id="4182" class="Symbol">→</a> <a id="4184" class="Symbol">(</a><a id="4185" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4185" class="Bound">correctAmount</a> <a id="4199" class="Symbol">:</a> <a id="4201" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4147" class="Bound">amount&#39;</a> <a id="4209" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="4213" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4050" class="Bound">ledger</a> <a id="4220" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4087" class="Bound">currentAddr</a> <a id="4232" class="Symbol">.</a><a id="4233" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="4239" class="Symbol">)</a>
                  <a id="4259" class="Symbol">→</a> <a id="4261" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a>
<a id="4268" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4028" class="Function">updateLedgerAmount</a> <a id="4287" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4287" class="Bound">ledger</a> <a id="4294" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4294" class="Bound">currentAddr</a> <a id="4306" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4306" class="Bound">destinationAddr</a> <a id="4322" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4322" class="Bound">amount&#39;</a> <a id="4330" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4330" class="Bound">correctAmount</a> <a id="4344" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4344" class="Bound">addr</a> <a id="4349" class="Symbol">.</a><a id="4350" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a> <a id="4357" class="Symbol">=</a>
     <a id="4364" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="4367" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4344" class="Bound">addr</a> <a id="4372" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="4375" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4294" class="Bound">currentAddr</a>
     <a id="4392" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="4397" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="4406" class="Symbol">(</a><a id="4407" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4287" class="Bound">ledger</a> <a id="4414" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4294" class="Bound">currentAddr</a> <a id="4426" class="Symbol">.</a><a id="4427" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="4433" class="Symbol">)</a> <a id="4435" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4322" class="Bound">amount&#39;</a> <a id="4443" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4330" class="Bound">correctAmount</a>
     <a id="4462" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="4467" class="Symbol">(</a><a id="4468" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="4471" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4344" class="Bound">addr</a> <a id="4476" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="4479" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4306" class="Bound">destinationAddr</a>
     <a id="4500" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="4505" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4287" class="Bound">ledger</a> <a id="4512" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4306" class="Bound">destinationAddr</a> <a id="4528" class="Symbol">.</a><a id="4529" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a> <a id="4536" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="4538" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4322" class="Bound">amount&#39;</a>
     <a id="4551" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="4556" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4287" class="Bound">ledger</a> <a id="4563" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4344" class="Bound">addr</a> <a id="4568" class="Symbol">.</a><a id="4569" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="4575" class="Symbol">)</a>
<a id="4577" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4028" class="Function">updateLedgerAmount</a> <a id="4596" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4596" class="Bound">ledger</a> <a id="4603" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4603" class="Bound">currentAddr</a> <a id="4615" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4615" class="Bound">newAddr</a> <a id="4623" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4623" class="Bound">amount&#39;</a> <a id="4631" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4631" class="Bound">correctAmount</a> <a id="4645" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4645" class="Bound">addr</a> <a id="4650" class="Symbol">.</a><a id="4651" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="4655" class="Symbol">=</a>
    <a id="4661" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4596" class="Bound">ledger</a> <a id="4668" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4645" class="Bound">addr</a> <a id="4673" class="Symbol">.</a><a id="4674" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a>



<a id="executeTransferAux"></a><a id="4681" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4681" class="Function">executeTransferAux</a> <a id="4700" class="Symbol">:</a> <a id="4702" class="Symbol">(</a><a id="4703" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4703" class="Bound">oldLedger</a> <a id="4713" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4713" class="Bound">currentLedger</a> <a id="4727" class="Symbol">:</a> <a id="4729" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a><a id="4735" class="Symbol">)</a>
                  <a id="4755" class="Symbol">→</a> <a id="4757" class="Symbol">(</a><a id="4758" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4758" class="Bound">executionStack</a> <a id="4773" class="Symbol">:</a> <a id="4775" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2915" class="Function">ExecutionStack</a><a id="4789" class="Symbol">)</a>
                  <a id="4809" class="Symbol">→</a> <a id="4811" class="Symbol">(</a><a id="4812" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4812" class="Bound">callAddr</a> <a id="4821" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4821" class="Bound">currentAddr</a> <a id="4833" class="Symbol">:</a> <a id="4835" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="4842" class="Symbol">)</a>
                  <a id="4862" class="Symbol">→</a> <a id="4864" class="Symbol">(</a><a id="4865" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4865" class="Bound">amount&#39;</a> <a id="4873" class="Symbol">:</a> <a id="4875" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a><a id="4881" class="Symbol">)</a>
                  <a id="4901" class="Symbol">→</a> <a id="4903" class="Symbol">(</a><a id="4904" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4904" class="Bound">destinationAddr</a> <a id="4920" class="Symbol">:</a> <a id="4922" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="4929" class="Symbol">)</a>
                  <a id="4949" class="Symbol">→</a> <a id="4951" class="Symbol">(</a><a id="4952" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4952" class="Bound">cont</a> <a id="4957" class="Symbol">:</a> <a id="4959" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="4977" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="4980" class="Symbol">)</a>
                  <a id="5000" class="Symbol">→</a> <a id="5002" class="Symbol">(</a><a id="5003" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5003" class="Bound">cp</a>  <a id="5007" class="Symbol">:</a> <a id="5009" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="5021" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4865" class="Bound">amount&#39;</a> <a id="5029" class="Symbol">(</a><a id="5030" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4713" class="Bound">currentLedger</a> <a id="5044" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4821" class="Bound">currentAddr</a> <a id="5056" class="Symbol">.</a><a id="5057" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>  <a id="5065" class="Symbol">))</a>
                  <a id="5086" class="Symbol">→</a> <a id="5088" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a>
<a id="5101" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4681" class="Function">executeTransferAux</a> <a id="5120" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5120" class="Bound">oldLedger</a> <a id="5130" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5130" class="Bound">currentLedger</a> <a id="5144" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5144" class="Bound">executionStack</a> <a id="5159" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5159" class="Bound">callAddr</a> <a id="5168" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5168" class="Bound">currentAddr</a> <a id="5180" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5180" class="Bound">amount&#39;</a> <a id="5188" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5188" class="Bound">destinationAddr</a> <a id="5204" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5204" class="Bound">cont</a> <a id="5209" class="Symbol">(</a><a id="5210" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="5214" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5214" class="Bound">x</a><a id="5215" class="Symbol">)</a> <a id="5217" class="Symbol">=</a>
          <a id="5229" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="5237" class="Symbol">(</a><a id="5238" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4028" class="Function">updateLedgerAmount</a> <a id="5257" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5130" class="Bound">currentLedger</a> <a id="5271" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5168" class="Bound">currentAddr</a> <a id="5283" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5188" class="Bound">destinationAddr</a> <a id="5299" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5180" class="Bound">amount&#39;</a> <a id="5307" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5214" class="Bound">x</a><a id="5308" class="Symbol">)</a>
             <a id="5323" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5144" class="Bound">executionStack</a> <a id="5338" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5159" class="Bound">callAddr</a> <a id="5347" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5168" class="Bound">currentAddr</a> <a id="5359" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5204" class="Bound">cont</a>

<a id="5365" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4681" class="Function">executeTransferAux</a> <a id="5384" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5384" class="Bound">oldLedger</a> <a id="5394" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5394" class="Bound">currentLedger</a> <a id="5408" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5408" class="Bound">executionStack</a> <a id="5423" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5423" class="Bound">callAddr</a> <a id="5432" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5432" class="Bound">currentAddr</a> <a id="5444" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5444" class="Bound">amount</a> <a id="5451" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5451" class="Bound">destinationAddr</a> <a id="5467" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5467" class="Bound">cont</a> <a id="5472" class="Symbol">(</a><a id="5473" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="5481" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5481" class="Bound">x</a><a id="5482" class="Symbol">)</a> <a id="5484" class="Symbol">=</a>
         <a id="5495" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="5503" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5384" class="Bound">oldLedger</a> <a id="5513" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5408" class="Bound">executionStack</a> <a id="5528" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5423" class="Bound">callAddr</a> <a id="5537" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5432" class="Bound">currentAddr</a>
             <a id="5562" class="Symbol">(</a><a id="5563" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="5569" class="Symbol">(</a><a id="5570" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#727" class="InductiveConstructor">strErr</a> <a id="5577" class="String">&quot;not enough money&quot;</a><a id="5595" class="Symbol">))</a>


<a id="executeTransfer"></a><a id="5600" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5600" class="Function">executeTransfer</a> <a id="5616" class="Symbol">:</a> <a id="5618" class="Symbol">(</a><a id="5619" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5619" class="Bound">oldLedger</a> <a id="5629" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5629" class="Bound">currentLedger</a> <a id="5643" class="Symbol">:</a> <a id="5645" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a><a id="5651" class="Symbol">)</a>
                  <a id="5671" class="Symbol">→</a> <a id="5673" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2915" class="Function">ExecutionStack</a>
                  <a id="5706" class="Symbol">→</a> <a id="5708" class="Symbol">(</a><a id="5709" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5709" class="Bound">callAddr</a> <a id="5718" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5718" class="Bound">currentAddr</a> <a id="5730" class="Symbol">:</a> <a id="5732" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="5739" class="Symbol">)</a>
                  <a id="5759" class="Symbol">→</a> <a id="5761" class="Symbol">(</a><a id="5762" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5762" class="Bound">amount&#39;</a> <a id="5770" class="Symbol">:</a> <a id="5772" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#411" class="Function">Amount</a><a id="5778" class="Symbol">)</a>
                  <a id="5798" class="Symbol">→</a> <a id="5800" class="Symbol">(</a><a id="5801" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5801" class="Bound">destinationAddr</a> <a id="5817" class="Symbol">:</a> <a id="5819" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a><a id="5826" class="Symbol">)</a>
                  <a id="5846" class="Symbol">→</a> <a id="5848" class="Symbol">(</a><a id="5849" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5849" class="Bound">cont</a> <a id="5854" class="Symbol">:</a> <a id="5856" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1225" class="Datatype">SmartContractExec</a> <a id="5874" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a><a id="5877" class="Symbol">)</a>
                  <a id="5897" class="Symbol">→</a> <a id="5899" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a>
<a id="5912" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5600" class="Function">executeTransfer</a> <a id="5928" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5928" class="Bound">oldLedger</a> <a id="5938" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5938" class="Bound">currentLedger</a> <a id="5952" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5952" class="Bound">exexecutionStack</a> <a id="5969" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5969" class="Bound">callAddr</a> <a id="5978" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5978" class="Bound">currentAddr</a> <a id="5990" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5990" class="Bound">amount&#39;</a> <a id="5998" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5998" class="Bound">destinationAddr</a> <a id="6014" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6014" class="Bound">cont</a>
                <a id="6035" class="Symbol">=</a> <a id="6037" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#4681" class="Function">executeTransferAux</a> <a id="6056" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5928" class="Bound">oldLedger</a> <a id="6066" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5938" class="Bound">currentLedger</a> <a id="6080" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5952" class="Bound">exexecutionStack</a> <a id="6097" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5969" class="Bound">callAddr</a> <a id="6106" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5978" class="Bound">currentAddr</a> <a id="6118" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5990" class="Bound">amount&#39;</a>
                   <a id="6145" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5998" class="Bound">destinationAddr</a> <a id="6161" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6014" class="Bound">cont</a>  <a id="6167" class="Symbol">(</a><a id="6168" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="6179" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5990" class="Bound">amount&#39;</a> <a id="6187" class="Symbol">(</a><a id="6188" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5938" class="Bound">currentLedger</a> <a id="6202" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5978" class="Bound">currentAddr</a> <a id="6214" class="Symbol">.</a><a id="6215" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a>  <a id="6223" class="Symbol">))</a>


<a id="stepEF"></a><a id="6228" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="Function">stepEF</a> <a id="6235" class="Symbol">:</a> <a id="6237" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="6244" class="Symbol">→</a> <a id="6246" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a> <a id="6259" class="Symbol">→</a> <a id="6261" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a>
<a id="6274" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="Function">stepEF</a> <a id="6281" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6281" class="Bound">oldLedger</a> <a id="6291" class="Symbol">(</a><a id="6292" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="6300" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6300" class="Bound">currentLedger</a> <a id="6314" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6317" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6317" class="Bound">callAddr</a> <a id="6326" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6326" class="Bound">currentAddr</a> <a id="6338" class="Symbol">(</a><a id="6339" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="6346" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6346" class="Bound">result</a><a id="6352" class="Symbol">))</a>
       <a id="6362" class="Symbol">=</a> <a id="6364" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="6372" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6300" class="Bound">currentLedger</a>  <a id="6387" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6390" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6317" class="Bound">callAddr</a> <a id="6399" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6326" class="Bound">currentAddr</a> <a id="6411" class="Symbol">(</a><a id="6412" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="6419" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6346" class="Bound">result</a><a id="6425" class="Symbol">)</a>
<a id="6427" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="Function">stepEF</a> <a id="6434" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6434" class="Bound">oldLedger</a> <a id="6444" class="Symbol">(</a><a id="6445" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="6453" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6453" class="Bound">currentLedger</a> <a id="6467" class="Symbol">(</a><a id="6468" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6468" class="Bound">execSEl</a> <a id="6476" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6478" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6478" class="Bound">executionStack</a><a id="6492" class="Symbol">)</a> <a id="6494" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6494" class="Bound">callAddr</a> <a id="6503" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6503" class="Bound">currentAddr</a> <a id="6515" class="Symbol">(</a><a id="6516" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="6523" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6523" class="Bound">result</a><a id="6529" class="Symbol">))</a>
       <a id="6539" class="Symbol">=</a> <a id="6541" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="6549" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6453" class="Bound">currentLedger</a> <a id="6563" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6478" class="Bound">executionStack</a> <a id="6578" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6494" class="Bound">callAddr</a>  <a id="6588" class="Symbol">(</a><a id="6589" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6468" class="Bound">execSEl</a> <a id="6597" class="Symbol">.</a><a id="6598" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2775" class="Field">currentAddress</a><a id="6612" class="Symbol">)</a> <a id="6614" class="Symbol">(</a><a id="6615" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6468" class="Bound">execSEl</a> <a id="6623" class="Symbol">.</a><a id="6624" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2840" class="Field">continuation</a> <a id="6637" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6523" class="Bound">result</a><a id="6643" class="Symbol">)</a>
<a id="6645" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="CatchallClause Function">stepEF</a><a id="6651" class="CatchallClause"> </a><a id="6652" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6652" class="CatchallClause Bound">oldLedger</a><a id="6661" class="CatchallClause"> </a><a id="6662" class="CatchallClause Symbol">(</a><a id="6663" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="6670" class="CatchallClause"> </a><a id="6671" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6671" class="CatchallClause Bound">currentLedger</a><a id="6684" class="CatchallClause"> </a><a id="6685" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6685" class="CatchallClause Bound">executionStack</a><a id="6699" class="CatchallClause"> </a><a id="6700" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6700" class="CatchallClause Bound">callAddr</a><a id="6708" class="CatchallClause"> </a><a id="6709" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6709" class="CatchallClause Bound">currentAddr</a><a id="6720" class="CatchallClause"> </a><a id="6721" class="CatchallClause Symbol">(</a><a id="6722" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="6726" class="CatchallClause"> </a><a id="6727" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#625" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="6745" class="CatchallClause"> </a><a id="6746" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6746" class="CatchallClause Bound">cont</a><a id="6750" class="CatchallClause Symbol">))</a>
       <a id="6760" class="Symbol">=</a> <a id="6762" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="6770" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6671" class="Bound">currentLedger</a> <a id="6784" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6685" class="Bound">executionStack</a> <a id="6799" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6700" class="Bound">callAddr</a> <a id="6808" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6709" class="Bound">currentAddr</a> <a id="6820" class="Symbol">(</a><a id="6821" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6746" class="Bound">cont</a> <a id="6826" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6709" class="Bound">currentAddr</a><a id="6837" class="Symbol">)</a>
<a id="6839" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="CatchallClause Function">stepEF</a><a id="6845" class="CatchallClause"> </a><a id="6846" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6846" class="CatchallClause Bound">oldLedger</a><a id="6855" class="CatchallClause"> </a><a id="6856" class="CatchallClause Symbol">(</a><a id="6857" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="6864" class="CatchallClause"> </a><a id="6865" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6865" class="CatchallClause Bound">currentLedger</a><a id="6878" class="CatchallClause"> </a><a id="6879" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6879" class="CatchallClause Bound">executionStack</a><a id="6893" class="CatchallClause"> </a><a id="6894" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6894" class="CatchallClause Bound">callAddr</a><a id="6902" class="CatchallClause"> </a><a id="6903" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6903" class="CatchallClause Bound">currentAddr</a><a id="6914" class="CatchallClause"> </a><a id="6915" class="CatchallClause Symbol">(</a><a id="6916" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="6920" class="CatchallClause"> </a><a id="6921" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#660" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="6936" class="CatchallClause"> </a><a id="6937" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6937" class="CatchallClause Bound">cont</a><a id="6941" class="CatchallClause Symbol">))</a>
       <a id="6951" class="Symbol">=</a> <a id="6953" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="6961" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6865" class="Bound">currentLedger</a> <a id="6975" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6879" class="Bound">executionStack</a> <a id="6990" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6894" class="Bound">callAddr</a> <a id="6999" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6903" class="Bound">currentAddr</a> <a id="7011" class="Symbol">(</a><a id="7012" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6937" class="Bound">cont</a> <a id="7017" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6894" class="Bound">callAddr</a><a id="7025" class="Symbol">)</a>
<a id="7027" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="CatchallClause Function">stepEF</a><a id="7033" class="CatchallClause"> </a><a id="7034" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7034" class="CatchallClause Bound">oldLedger</a><a id="7043" class="CatchallClause"> </a><a id="7044" class="CatchallClause Symbol">(</a><a id="7045" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="7052" class="CatchallClause"> </a><a id="7053" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7053" class="CatchallClause Bound">currentLedger</a><a id="7066" class="CatchallClause"> </a><a id="7067" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7067" class="CatchallClause Bound">executionStack</a><a id="7081" class="CatchallClause"> </a><a id="7082" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7082" class="CatchallClause Bound">callAddr</a><a id="7090" class="CatchallClause"> </a><a id="7091" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7091" class="CatchallClause Bound">currentAddr</a>
                            <a id="7131" class="CatchallClause Symbol">(</a><a id="7132" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7136" class="CatchallClause"> </a><a id="7137" class="CatchallClause Symbol">(</a><a id="7138" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#554" class="CatchallClause InductiveConstructor">updatec</a><a id="7145" class="CatchallClause"> </a><a id="7146" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7146" class="CatchallClause Bound">changedFname</a><a id="7158" class="CatchallClause"> </a><a id="7159" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7159" class="CatchallClause Bound">changedFdef</a><a id="7170" class="CatchallClause Symbol">)</a><a id="7171" class="CatchallClause"> </a><a id="7172" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7172" class="CatchallClause Bound">cont</a><a id="7176" class="CatchallClause Symbol">))</a>
       <a id="7186" class="Symbol">=</a> <a id="7188" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="7196" class="Symbol">(</a><a id="7197" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3643" class="Function">updateLedger</a> <a id="7210" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7053" class="Bound">currentLedger</a> <a id="7224" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7091" class="Bound">currentAddr</a> <a id="7236" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7146" class="Bound">changedFname</a> <a id="7249" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7159" class="Bound">changedFdef</a><a id="7260" class="Symbol">)</a>
                   <a id="7281" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7067" class="Bound">executionStack</a> <a id="7296" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7082" class="Bound">callAddr</a> <a id="7305" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7091" class="Bound">currentAddr</a> <a id="7317" class="Symbol">(</a><a id="7318" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7172" class="Bound">cont</a> <a id="7323" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="7325" class="Symbol">)</a>
<a id="7327" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="CatchallClause Function">stepEF</a><a id="7333" class="CatchallClause"> </a><a id="7334" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7334" class="CatchallClause Bound">oldLedger</a><a id="7343" class="CatchallClause"> </a><a id="7344" class="CatchallClause Symbol">(</a><a id="7345" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="7352" class="CatchallClause"> </a><a id="7353" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7353" class="CatchallClause Bound">currentLedger</a><a id="7366" class="CatchallClause"> </a><a id="7367" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7367" class="CatchallClause Bound">executionStack</a><a id="7381" class="CatchallClause"> </a><a id="7382" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7382" class="CatchallClause Bound">oldCalladdr</a><a id="7393" class="CatchallClause"> </a><a id="7394" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7394" class="CatchallClause Bound">oldCurrentAddr</a><a id="7408" class="CatchallClause"> </a><a id="7409" class="CatchallClause Symbol">(</a><a id="7410" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7414" class="CatchallClause"> </a><a id="7415" class="CatchallClause Symbol">(</a><a id="7416" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#692" class="CatchallClause InductiveConstructor">callc</a><a id="7421" class="CatchallClause"> </a><a id="7422" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7422" class="CatchallClause Bound">newaddr</a><a id="7429" class="CatchallClause"> </a><a id="7430" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7430" class="CatchallClause Bound">fname</a><a id="7435" class="CatchallClause"> </a><a id="7436" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7436" class="CatchallClause Bound">msg</a><a id="7439" class="CatchallClause Symbol">)</a><a id="7440" class="CatchallClause"> </a><a id="7441" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7441" class="CatchallClause Bound">cont</a><a id="7445" class="CatchallClause Symbol">))</a>
       <a id="7455" class="Symbol">=</a> <a id="7457" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="7465" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7353" class="Bound">currentLedger</a> <a id="7479" class="Symbol">(</a><a id="7480" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#2692" class="InductiveConstructor">execStackEl</a> <a id="7492" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7382" class="Bound">oldCalladdr</a> <a id="7504" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7394" class="Bound">oldCurrentAddr</a> <a id="7519" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7441" class="Bound">cont</a>  <a id="7525" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7527" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7367" class="Bound">executionStack</a><a id="7541" class="Symbol">)</a>  <a id="7544" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7394" class="Bound">oldCurrentAddr</a> <a id="7559" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7422" class="Bound">newaddr</a>
                   <a id="7586" class="Symbol">(</a><a id="7587" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7353" class="Bound">currentLedger</a> <a id="7601" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7422" class="Bound">newaddr</a> <a id="7609" class="Symbol">.</a><a id="7610" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="7614" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7430" class="Bound">fname</a> <a id="7620" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7436" class="Bound">msg</a><a id="7623" class="Symbol">)</a>

<a id="7626" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="CatchallClause Function">stepEF</a><a id="7632" class="CatchallClause"> </a><a id="7633" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7633" class="CatchallClause Bound">oldLedger</a><a id="7642" class="CatchallClause"> </a><a id="7643" class="CatchallClause Symbol">(</a><a id="7644" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="7651" class="CatchallClause"> </a><a id="7652" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7652" class="CatchallClause Bound">currentLedger</a><a id="7665" class="CatchallClause"> </a><a id="7666" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7666" class="CatchallClause Bound">executionStack</a><a id="7680" class="CatchallClause"> </a><a id="7681" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7681" class="CatchallClause Bound">callAddr</a><a id="7689" class="CatchallClause"> </a><a id="7690" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7690" class="CatchallClause Bound">currentAddr</a><a id="7701" class="CatchallClause"> </a><a id="7702" class="CatchallClause Symbol">(</a><a id="7703" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7707" class="CatchallClause"> </a><a id="7708" class="CatchallClause Symbol">(</a><a id="7709" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#747" class="CatchallClause InductiveConstructor">transferc</a><a id="7718" class="CatchallClause"> </a><a id="7719" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7719" class="CatchallClause Bound">amount</a><a id="7725" class="CatchallClause"> </a><a id="7726" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7726" class="CatchallClause Bound">destinationAddr</a><a id="7741" class="CatchallClause"> </a><a id="7742" class="CatchallClause Symbol">)</a><a id="7743" class="CatchallClause"> </a><a id="7744" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7744" class="CatchallClause Bound">cont</a><a id="7748" class="CatchallClause Symbol">))</a>
       <a id="7758" class="Symbol">=</a> <a id="7760" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#5600" class="Function">executeTransfer</a> <a id="7776" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7633" class="Bound">oldLedger</a> <a id="7786" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7652" class="Bound">currentLedger</a> <a id="7800" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7666" class="Bound">executionStack</a> <a id="7815" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7681" class="Bound">callAddr</a> <a id="7824" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7690" class="Bound">currentAddr</a> <a id="7836" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7719" class="Bound">amount</a> <a id="7843" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7726" class="Bound">destinationAddr</a> <a id="7859" class="Symbol">(</a><a id="7860" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7744" class="Bound">cont</a> <a id="7865" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="7867" class="Symbol">)</a> 
<a id="7870" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="CatchallClause Function">stepEF</a><a id="7876" class="CatchallClause"> </a><a id="7877" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7877" class="CatchallClause Bound">oldLedger</a><a id="7886" class="CatchallClause"> </a><a id="7887" class="CatchallClause Symbol">(</a><a id="7888" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="7895" class="CatchallClause"> </a><a id="7896" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7896" class="CatchallClause Bound">currentLedger</a><a id="7909" class="CatchallClause"> </a><a id="7910" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7910" class="CatchallClause Bound">executionStack</a><a id="7924" class="CatchallClause"> </a><a id="7925" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7925" class="CatchallClause Bound">callAddr</a><a id="7933" class="CatchallClause"> </a><a id="7934" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7934" class="CatchallClause Bound">currentAddr</a><a id="7945" class="CatchallClause"> </a><a id="7946" class="CatchallClause Symbol">(</a><a id="7947" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1351" class="CatchallClause InductiveConstructor">exec</a><a id="7951" class="CatchallClause"> </a><a id="7952" class="CatchallClause Symbol">(</a><a id="7953" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#793" class="CatchallClause InductiveConstructor">getAmountc</a><a id="7963" class="CatchallClause">  </a><a id="7965" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7965" class="CatchallClause Bound">addrLookedUp</a><a id="7977" class="CatchallClause Symbol">)</a><a id="7978" class="CatchallClause"> </a><a id="7979" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7979" class="CatchallClause Bound">cont</a><a id="7983" class="CatchallClause Symbol">))</a>
       <a id="7993" class="Symbol">=</a> <a id="7995" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="8003" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7896" class="Bound">currentLedger</a> <a id="8017" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7910" class="Bound">executionStack</a> <a id="8032" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7925" class="Bound">callAddr</a> <a id="8041" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7934" class="Bound">currentAddr</a> <a id="8053" class="Symbol">(</a><a id="8054" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7979" class="Bound">cont</a> <a id="8059" class="Symbol">(</a><a id="8060" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7896" class="Bound">currentLedger</a> <a id="8074" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#7965" class="Bound">addrLookedUp</a> <a id="8087" class="Symbol">.</a><a id="8088" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1885" class="Field">amount</a><a id="8094" class="Symbol">))</a>
<a id="8097" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="CatchallClause Function">stepEF</a><a id="8103" class="CatchallClause"> </a><a id="8104" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8104" class="CatchallClause Bound">oldLedger</a><a id="8113" class="CatchallClause"> </a><a id="8114" class="CatchallClause Symbol">(</a><a id="8115" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="8122" class="CatchallClause"> </a><a id="8123" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8123" class="CatchallClause Bound">currentLedger</a><a id="8136" class="CatchallClause"> </a><a id="8137" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8137" class="CatchallClause Bound">executionStack</a><a id="8151" class="CatchallClause"> </a><a id="8152" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8152" class="CatchallClause Bound">callAddr</a><a id="8160" class="CatchallClause"> </a><a id="8161" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8161" class="CatchallClause Bound">currentAddr</a><a id="8172" class="CatchallClause"> </a><a id="8173" class="CatchallClause Symbol">(</a><a id="8174" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="CatchallClause InductiveConstructor">error</a><a id="8179" class="CatchallClause"> </a><a id="8180" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8180" class="CatchallClause Bound">errorMsg</a><a id="8188" class="CatchallClause Symbol">))</a>
       <a id="8198" class="Symbol">=</a> <a id="8200" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="8208" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8104" class="Bound">oldLedger</a> <a id="8218" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8137" class="Bound">executionStack</a> <a id="8233" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8152" class="Bound">callAddr</a> <a id="8242" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8161" class="Bound">currentAddr</a> <a id="8254" class="Symbol">(</a><a id="8255" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="InductiveConstructor">error</a> <a id="8261" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8180" class="Bound">errorMsg</a><a id="8269" class="Symbol">)</a>



<a id="stepEFntimes"></a><a id="8274" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8274" class="Function">stepEFntimes</a> <a id="8287" class="Symbol">:</a> <a id="8289" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="8296" class="Symbol">→</a> <a id="8298" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a> <a id="8311" class="Symbol">→</a> <a id="8313" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="8315" class="Symbol">→</a> <a id="8317" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a>
<a id="8330" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8274" class="Function">stepEFntimes</a> <a id="8343" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8343" class="Bound">oldLedger</a> <a id="8353" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8353" class="Bound">ledgerstateexecfun</a> <a id="8372" class="Number">0</a>
             <a id="8387" class="Symbol">=</a> <a id="8389" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8353" class="Bound">ledgerstateexecfun</a>
<a id="8408" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8274" class="Function">stepEFntimes</a> <a id="8421" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8421" class="Bound">oldLedger</a> <a id="8431" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8431" class="Bound">ledgerstateexecfun</a> <a id="8450" class="Symbol">(</a><a id="8451" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="8455" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8455" class="Bound">n</a><a id="8456" class="Symbol">)</a>
      <a id="8464" class="Symbol">=</a> <a id="8466" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="Function">stepEF</a> <a id="8473" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8421" class="Bound">oldLedger</a> <a id="8483" class="Symbol">(</a><a id="8484" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8274" class="Function">stepEFntimes</a> <a id="8497" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8421" class="Bound">oldLedger</a> <a id="8507" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8431" class="Bound">ledgerstateexecfun</a> <a id="8526" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8455" class="Bound">n</a><a id="8527" class="Symbol">)</a>



<a id="stepLedgerFunntimes"></a><a id="8532" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8532" class="Function">stepLedgerFunntimes</a> <a id="8552" class="Symbol">:</a> <a id="8554" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="8561" class="Symbol">→</a> <a id="8563" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
                      <a id="8593" class="Symbol">→</a> <a id="8595" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="8603" class="Symbol">→</a> <a id="8605" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a>
                      <a id="8640" class="Symbol">→</a> <a id="8642" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="8646" class="Symbol">→</a> <a id="8648" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="8650" class="Symbol">→</a> <a id="8652" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a>
<a id="8665" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8532" class="Function">stepLedgerFunntimes</a> <a id="8685" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8685" class="Bound">ledger</a> <a id="8692" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8692" class="Bound">callAddr</a> <a id="8701" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8701" class="Bound">currentAddr</a> <a id="8713" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8713" class="Bound">funname</a> <a id="8721" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8721" class="Bound">msg</a> <a id="8725" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8725" class="Bound">n</a>
        <a id="8735" class="Symbol">=</a> <a id="8737" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8274" class="Function">stepEFntimes</a> <a id="8750" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8685" class="Bound">ledger</a> <a id="8757" class="Symbol">(</a><a id="8758" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="8766" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8685" class="Bound">ledger</a> <a id="8773" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="8776" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8692" class="Bound">callAddr</a> <a id="8785" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8701" class="Bound">currentAddr</a>
        <a id="8805" class="Symbol">(</a><a id="8806" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8685" class="Bound">ledger</a> <a id="8813" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8701" class="Bound">currentAddr</a> <a id="8825" class="Symbol">.</a><a id="8826" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="8830" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8713" class="Bound">funname</a> <a id="8838" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8721" class="Bound">msg</a><a id="8841" class="Symbol">))</a> <a id="8844" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8725" class="Bound">n</a>


<a id="stepLedgerFunntimesList"></a><a id="8848" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8848" class="Function">stepLedgerFunntimesList</a> <a id="8872" class="Symbol">:</a> <a id="8874" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="8881" class="Symbol">→</a> <a id="8883" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a>
                          <a id="8917" class="Symbol">→</a>  <a id="8920" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="8928" class="Symbol">→</a> <a id="8930" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a>
                          <a id="8969" class="Symbol">→</a> <a id="8971" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="8975" class="Symbol">→</a> <a id="8977" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="8979" class="Symbol">→</a> <a id="8981" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8986" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a>
<a id="8999" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8848" class="Function">stepLedgerFunntimesList</a> <a id="9023" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9023" class="Bound">ledger</a> <a id="9030" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9030" class="Bound">callAddr</a> <a id="9039" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9039" class="Bound">currentAddr</a> <a id="9051" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9051" class="Bound">funname</a> <a id="9059" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9059" class="Bound">msg</a> <a id="9063" class="Number">0</a> <a id="9065" class="Symbol">=</a> <a id="9067" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="9070" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8848" class="Function">stepLedgerFunntimesList</a> <a id="9094" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9094" class="Bound">ledger</a> <a id="9101" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9101" class="Bound">callAddr</a> <a id="9110" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9110" class="Bound">currentAddr</a> <a id="9122" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9122" class="Bound">funname</a> <a id="9130" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9130" class="Bound">msg</a> <a id="9134" class="Symbol">(</a><a id="9135" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="9139" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9139" class="Bound">n</a><a id="9140" class="Symbol">)</a>
        <a id="9150" class="Symbol">=</a> <a id="9152" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8532" class="Function">stepLedgerFunntimes</a> <a id="9172" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9094" class="Bound">ledger</a> <a id="9179" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9101" class="Bound">callAddr</a> <a id="9188" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9110" class="Bound">currentAddr</a> <a id="9200" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9122" class="Bound">funname</a> <a id="9208" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9130" class="Bound">msg</a> <a id="9212" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9139" class="Bound">n</a> <a id="9214" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a>
          <a id="9226" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#8848" class="Function">stepLedgerFunntimesList</a> <a id="9250" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9094" class="Bound">ledger</a> <a id="9257" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9101" class="Bound">callAddr</a> <a id="9266" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9110" class="Bound">currentAddr</a> <a id="9278" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9122" class="Bound">funname</a> <a id="9286" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9130" class="Bound">msg</a> <a id="9290" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9139" class="Bound">n</a>



<a id="9295" class="Symbol">{-#</a> <a id="9299" class="Keyword">NON_TERMINATING</a> <a id="9315" class="Symbol">#-}</a>
<a id="evaluateNonTerminatingAux"></a><a id="9319" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9319" class="Function">evaluateNonTerminatingAux</a> <a id="9345" class="Symbol">:</a> <a id="9347" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="9354" class="Symbol">→</a> <a id="9356" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3375" class="Record">StateExecFun</a> <a id="9369" class="Symbol">→</a> <a id="9371" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#764" class="Datatype">NatOrError</a>
<a id="9382" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9319" class="Function">evaluateNonTerminatingAux</a> <a id="9408" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9408" class="Bound">oldledger</a> <a id="9418" class="Symbol">(</a><a id="9419" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="9427" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9427" class="Bound">currentLedger</a> <a id="9441" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="9444" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9444" class="Bound">callAddr</a> <a id="9453" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9453" class="Bound">currentAddr</a> <a id="9465" class="Symbol">(</a><a id="9466" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="InductiveConstructor">return</a> <a id="9473" class="Symbol">(</a><a id="9474" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#593" class="InductiveConstructor">nat</a> <a id="9478" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9478" class="Bound">n</a><a id="9479" class="Symbol">)))</a> <a id="9483" class="Symbol">=</a> <a id="9485" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#788" class="InductiveConstructor">nat</a> <a id="9489" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9478" class="Bound">n</a>
<a id="9491" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9319" class="CatchallClause Function">evaluateNonTerminatingAux</a><a id="9516" class="CatchallClause"> </a><a id="9517" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9517" class="CatchallClause Bound">oldledger</a><a id="9526" class="CatchallClause"> </a><a id="9527" class="CatchallClause Symbol">(</a><a id="9528" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="9535" class="CatchallClause"> </a><a id="9536" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9536" class="CatchallClause Bound">currentLedger</a><a id="9549" class="CatchallClause"> </a><a id="9550" href="Agda.Builtin.List.html#185" class="CatchallClause InductiveConstructor">[]</a><a id="9552" class="CatchallClause"> </a><a id="9553" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9553" class="CatchallClause Bound">callAddr</a><a id="9561" class="CatchallClause"> </a><a id="9562" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9562" class="CatchallClause Bound">currentAddr</a><a id="9573" class="CatchallClause"> </a><a id="9574" class="CatchallClause Symbol">(</a><a id="9575" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1269" class="CatchallClause InductiveConstructor">return</a><a id="9581" class="CatchallClause"> </a><a id="9582" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9582" class="CatchallClause Bound">otherwise</a><a id="9591" class="CatchallClause Symbol">))</a> <a id="9594" class="Symbol">=</a> <a id="9596" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#810" class="InductiveConstructor">err</a> <a id="9600" class="Symbol">(</a><a id="9601" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#727" class="InductiveConstructor">strErr</a> <a id="9608" class="String">&quot;result returned not nat&quot;</a><a id="9633" class="Symbol">)</a>
<a id="9635" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9319" class="CatchallClause Function">evaluateNonTerminatingAux</a><a id="9660" class="CatchallClause"> </a><a id="9661" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9661" class="CatchallClause Bound">oldledger</a><a id="9670" class="CatchallClause"> </a><a id="9671" class="CatchallClause Symbol">(</a><a id="9672" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="CatchallClause InductiveConstructor">stateEF</a><a id="9679" class="CatchallClause"> </a><a id="9680" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9680" class="CatchallClause Bound">currentLedger</a><a id="9693" class="CatchallClause"> </a><a id="9694" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9694" class="CatchallClause Bound">s</a><a id="9695" class="CatchallClause"> </a><a id="9696" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9696" class="CatchallClause Bound">callAddr</a><a id="9704" class="CatchallClause"> </a><a id="9705" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9705" class="CatchallClause Bound">currentAddr</a><a id="9716" class="CatchallClause"> </a><a id="9717" class="CatchallClause Symbol">(</a><a id="9718" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1306" class="CatchallClause InductiveConstructor">error</a><a id="9723" class="CatchallClause"> </a><a id="9724" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9724" class="CatchallClause Bound">msg</a><a id="9727" class="CatchallClause Symbol">))</a> <a id="9730" class="Symbol">=</a> <a id="9732" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#810" class="InductiveConstructor">err</a> <a id="9736" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9724" class="Bound">msg</a>
<a id="9740" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9319" class="CatchallClause Function">evaluateNonTerminatingAux</a><a id="9765" class="CatchallClause"> </a><a id="9766" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9766" class="CatchallClause Bound">oldledger</a><a id="9775" class="CatchallClause"> </a><a id="9776" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9776" class="CatchallClause Bound">evals</a> <a id="9782" class="Symbol">=</a> <a id="9784" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9319" class="Function">evaluateNonTerminatingAux</a> <a id="9810" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9766" class="Bound">oldledger</a> <a id="9820" class="Symbol">(</a><a id="9821" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#6228" class="Function">stepEF</a>  <a id="9829" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9766" class="Bound">oldledger</a> <a id="9839" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9776" class="Bound">evals</a><a id="9844" class="Symbol">)</a>

<a id="evaluateNonTerminating"></a><a id="9847" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9847" class="Function">evaluateNonTerminating</a> <a id="9870" class="Symbol">:</a> <a id="9872" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1993" class="Function">Ledger</a> <a id="9879" class="Symbol">→</a> <a id="9881" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="9889" class="Symbol">→</a>  <a id="9892" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#438" class="Function">Address</a> <a id="9900" class="Symbol">→</a> <a id="9902" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#222" class="Function">FunctionName</a> <a id="9915" class="Symbol">→</a> <a id="9917" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#574" class="Datatype">Msg</a> <a id="9921" class="Symbol">→</a> <a id="9923" href="Simple-Model.library-simple-model.basicDataStructureWithSimpleModel.html#764" class="Datatype">NatOrError</a>
<a id="9934" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9847" class="Function">evaluateNonTerminating</a> <a id="9957" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9957" class="Bound">ledger</a> <a id="9964" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9964" class="Bound">callAddr</a> <a id="9973" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9973" class="Bound">currentAddr</a>  <a id="9986" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9986" class="Bound">funname</a> <a id="9994" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9994" class="Bound">msg</a>
            <a id="10010" class="Symbol">=</a>  <a id="10013" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9319" class="Function">evaluateNonTerminatingAux</a> <a id="10039" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9957" class="Bound">ledger</a>
            <a id="10058" class="Symbol">(</a><a id="10059" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#3414" class="InductiveConstructor">stateEF</a> <a id="10067" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9957" class="Bound">ledger</a> <a id="10074" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10077" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9964" class="Bound">callAddr</a> <a id="10086" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9973" class="Bound">currentAddr</a> <a id="10098" class="Symbol">(</a><a id="10099" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9957" class="Bound">ledger</a> <a id="10106" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9973" class="Bound">currentAddr</a> <a id="10118" class="Symbol">.</a><a id="10119" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#1907" class="Field">fun</a> <a id="10123" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9986" class="Bound">funname</a> <a id="10131" href="Simple-Model.ledgerversion.Ledger-Simple-Model.html#9994" class="Bound">msg</a><a id="10134" class="Symbol">))</a>




</pre></body></html>