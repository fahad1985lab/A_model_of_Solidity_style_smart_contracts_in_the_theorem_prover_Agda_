<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#275" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2430" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1561" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2366" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Complex-Model.ccomand.do-notation.html" class="Module">Complex-Model.ccomand.do-notation</a> <a id="699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>



<a id="742" class="Comment">-- update pure function in the ledger</a>
<a id="updateLedgerpurefun"></a><a id="780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="800" class="Symbol">:</a> <a id="802" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="809" class="Symbol">→</a>  <a id="812" href="basicDataStructure.html#387" class="Function">Address</a> <a id="820" class="Symbol">→</a> <a id="822" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="857" class="Symbol">→</a> <a id="859" class="Symbol">((</a><a id="861" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="865" class="Symbol">→</a> <a id="867" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="877" class="Symbol">)</a> <a id="879" class="Symbol">→</a> <a id="881" class="Symbol">(</a><a id="882" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="886" class="Symbol">→</a> <a id="888" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="898" class="Symbol">))</a>
                      <a id="923" class="Symbol">→</a> <a id="925" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a>
<a id="932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#952" class="Bound">ledger</a> <a id="959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#959" class="Bound">changedAddr</a> <a id="971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#971" class="Bound">changedFname</a> <a id="984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#984" class="Bound">f</a> <a id="986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#986" class="Bound">a</a> <a id="988" class="Symbol">.</a><a id="989" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="996" class="Symbol">=</a> <a id="998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#952" class="Bound">ledger</a> <a id="1005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#986" class="Bound">a</a> <a id="1007" class="Symbol">.</a><a id="1008" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="1015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="1035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1035" class="Bound">ledger</a> <a id="1042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1042" class="Bound">changedAddr</a> <a id="1054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1054" class="Bound">changedFname</a> <a id="1067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1067" class="Bound">f</a> <a id="1069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1069" class="Bound">a</a> <a id="1071" class="Symbol">.</a><a id="1072" href="libraries.Mainlibrary.html#830" class="Field">fun</a>  <a id="1077" class="Symbol">=</a> <a id="1079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1035" class="Bound">ledger</a> <a id="1086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1069" class="Bound">a</a> <a id="1088" class="Symbol">.</a><a id="1089" href="libraries.Mainlibrary.html#830" class="Field">fun</a> 
<a id="1094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="1114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1121" class="Bound">changedAddr</a> <a id="1133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1133" class="Bound">changedFname</a> <a id="1146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">f</a> <a id="1148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1150" class="Symbol">.</a><a id="1151" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a> <a id="1164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a> <a id="1170" class="Symbol">=</a>
       <a id="1179" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1182" class="Symbol">(</a><a id="1183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1133" class="Bound">changedFname</a> <a id="1196" href="basicDataStructure.html#257" class="Function Operator">≡fun</a> <a id="1201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a><a id="1206" class="Symbol">)</a> <a id="1208" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="1214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">f</a> <a id="1216" class="Symbol">(</a><a id="1217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1226" class="Symbol">.</a><a id="1227" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a> <a id="1240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a><a id="1245" class="Symbol">)</a>
                         <a id="1272" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="1278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1287" class="Symbol">.</a><a id="1288" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a> <a id="1301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a>


<a id="1309" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1351" class="Symbol">:</a> <a id="1353" class="Symbol">(</a><a id="1354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1354" class="Bound">ledger</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="1369" class="Symbol">)</a>
               <a id="1386" class="Symbol">→</a>  <a id="1389" class="Symbol">(</a><a id="1390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1390" class="Bound">calledAddr</a> <a id="1401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1401" class="Bound">destinationAddr</a> <a id="1417" class="Symbol">:</a> <a id="1419" href="basicDataStructure.html#387" class="Function">Address</a><a id="1426" class="Symbol">)</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1429" class="Bound">amount&#39;</a> <a id="1437" class="Symbol">:</a> <a id="1439" href="basicDataStructure.html#360" class="Function">Amount</a><a id="1445" class="Symbol">)</a>
               <a id="1462" class="Symbol">→</a> <a id="1464" class="Symbol">(</a><a id="1465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1465" class="Bound">correctAmount</a> <a id="1479" class="Symbol">:</a> <a id="1481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1429" class="Bound">amount&#39;</a> <a id="1489" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="1493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1354" class="Bound">ledger</a> <a id="1500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1390" class="Bound">calledAddr</a> <a id="1511" class="Symbol">.</a><a id="1512" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1518" class="Symbol">)</a>
                <a id="1536" class="Symbol">→</a> <a id="1538" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a>
<a id="1545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a> <a id="1582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a> <a id="1598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a> <a id="1606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1606" class="Bound">correctAmount</a> <a id="1620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1625" class="Symbol">.</a><a id="1626" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
     <a id="1638" class="Symbol">=</a> <a id="1640" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1648" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a>
     <a id="1667" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1672" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a> <a id="1700" class="Symbol">.</a><a id="1701" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1707" class="Symbol">)</a> <a id="1709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a> <a id="1717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1606" class="Bound">correctAmount</a>
     <a id="1736" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1741" class="Symbol">(</a><a id="1742" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1750" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a>
     <a id="1774" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a> <a id="1802" class="Symbol">.</a><a id="1803" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="1810" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a>
       <a id="1827" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1844" class="Symbol">.</a><a id="1845" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1851" class="Symbol">)</a>
<a id="1853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1879" class="Bound">calledAddr</a> <a id="1890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1890" class="Bound">newAddr</a> <a id="1898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1898" class="Bound">amount&#39;</a> <a id="1906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1906" class="Bound">correctAmount</a> <a id="1920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1920" class="Bound">addr</a> <a id="1925" class="Symbol">.</a><a id="1926" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
     <a id="1935" class="Symbol">=</a>  <a id="1938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1920" class="Bound">addr</a> <a id="1950" class="Symbol">.</a><a id="1951" href="libraries.Mainlibrary.html#830" class="Field">fun</a>

<a id="1956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1975" class="Bound">ledger</a> <a id="1982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1982" class="Bound">calledAddr</a> <a id="1993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1993" class="Bound">newAddr</a> <a id="2001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2001" class="Bound">amount&#39;</a> <a id="2009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2009" class="Bound">correctAmount</a> <a id="2023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2023" class="Bound">addr</a> <a id="2028" class="Symbol">.</a><a id="2029" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a>
     <a id="2047" class="Symbol">=</a> <a id="2049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1975" class="Bound">ledger</a> <a id="2056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2023" class="Bound">addr</a> <a id="2061" class="Symbol">.</a><a id="2062" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a>



<a id="2078" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2151" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2200" class="Symbol">:</a> <a id="2202" class="Symbol">(</a><a id="2203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2203" class="Bound">ledger</a> <a id="2210" class="Symbol">:</a> <a id="2212" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="2218" class="Symbol">)</a> <a id="2220" class="Symbol">→</a>  <a id="2223" class="Symbol">(</a><a id="2224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2224" class="Bound">calledAddr</a> <a id="2235" class="Symbol">:</a> <a id="2237" href="basicDataStructure.html#387" class="Function">Address</a><a id="2244" class="Symbol">)</a> <a id="2246" class="Symbol">(</a><a id="2247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2247" class="Bound">gascost</a> <a id="2255" class="Symbol">:</a> <a id="2257" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2258" class="Symbol">)</a>
                     <a id="2281" class="Symbol">→</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2284" class="Bound">correctAmount</a> <a id="2298" class="Symbol">:</a> <a id="2300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2247" class="Bound">gascost</a> <a id="2308" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="2312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2203" class="Bound">ledger</a> <a id="2319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2224" class="Bound">calledAddr</a> <a id="2330" class="Symbol">.</a><a id="2331" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2337" class="Symbol">)</a>
                     <a id="2360" class="Symbol">→</a> <a id="2362" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a>
<a id="2369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a> <a id="2407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2407" class="Bound">gascost</a> <a id="2415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2415" class="Bound">correctAmount</a> <a id="2429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2434" class="Symbol">.</a><a id="2435" href="libraries.Mainlibrary.html#808" class="Field">amount</a> 
     <a id="2448" class="Symbol">=</a> <a id="2450" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2458" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="2461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a>
     <a id="2477" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2482" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="2491" class="Symbol">(</a><a id="2492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a> <a id="2510" class="Symbol">.</a><a id="2511" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2517" class="Symbol">)</a> <a id="2519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2407" class="Bound">gascost</a> <a id="2527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2415" class="Bound">correctAmount</a>
     <a id="2546" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="2552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2564" class="Symbol">.</a><a id="2565" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="2572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2592" class="Bound">ledger</a> <a id="2599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2599" class="Bound">calledAddr</a> <a id="2610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Bound">gascost</a> <a id="2618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2618" class="Bound">correctAmount</a> <a id="2632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2632" class="Bound">addr</a> <a id="2637" class="Symbol">.</a><a id="2638" href="libraries.Mainlibrary.html#830" class="Field">fun</a> 
    <a id="2647" class="Symbol">=</a> <a id="2649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2592" class="Bound">ledger</a> <a id="2656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2632" class="Bound">addr</a> <a id="2661" class="Symbol">.</a><a id="2662" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="2666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2686" class="Bound">ledger</a> <a id="2693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2693" class="Bound">calledAddr</a> <a id="2704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2704" class="Bound">gascost</a> <a id="2712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2712" class="Bound">correctAmount</a> <a id="2726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2726" class="Bound">addr</a> <a id="2731" class="Symbol">.</a><a id="2732" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a>
    <a id="2749" class="Symbol">=</a> <a id="2751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2686" class="Bound">ledger</a> <a id="2758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2726" class="Bound">addr</a> <a id="2763" class="Symbol">.</a><a id="2764" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a>


<a id="2779" class="Comment">-- this function below we use it to refuend in two cases with stepEF</a>
<a id="2848" class="Comment">-- 1) when finish (first case)</a>
<a id="2879" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="2920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="2935" class="Symbol">:</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2938" class="Bound">ledger</a> <a id="2945" class="Symbol">:</a> <a id="2947" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="2953" class="Symbol">)</a>
         <a id="2964" class="Symbol">→</a>  <a id="2967" class="Symbol">(</a><a id="2968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2968" class="Bound">address</a> <a id="2976" class="Symbol">:</a> <a id="2978" href="basicDataStructure.html#387" class="Function">Address</a><a id="2985" class="Symbol">)</a> <a id="2987" class="Symbol">(</a><a id="2988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2988" class="Bound">amount&#39;</a> <a id="2996" class="Symbol">:</a> <a id="2998" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3004" class="Symbol">)</a>
         <a id="3015" class="Symbol">→</a> <a id="3017" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a>
<a id="3024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a> <a id="3054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3054" class="Bound">amount&#39;</a> <a id="3062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3067" class="Symbol">.</a><a id="3068" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
       <a id="3082" class="Symbol">=</a>   <a id="3086" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3094" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a>
           <a id="3116" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="3121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a> <a id="3136" class="Symbol">.</a><a id="3137" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="3144" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3054" class="Bound">amount&#39;</a>
           <a id="3165" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="3170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3182" class="Symbol">.</a><a id="3183" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="3190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3205" class="Bound">ledger</a> <a id="3212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3212" class="Bound">address</a> <a id="3220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3220" class="Bound">amount&#39;</a> <a id="3228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3228" class="Bound">addr</a> <a id="3233" class="Symbol">.</a><a id="3234" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
       <a id="3245" class="Symbol">=</a>   <a id="3249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3205" class="Bound">ledger</a> <a id="3256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3228" class="Bound">addr</a> <a id="3261" class="Symbol">.</a><a id="3262" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="3266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">ledger</a> <a id="3288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3288" class="Bound">address</a> <a id="3296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3296" class="Bound">amount&#39;</a> <a id="3304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3304" class="Bound">addr</a> <a id="3309" class="Symbol">.</a><a id="3310" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a>
       <a id="3330" class="Symbol">=</a> <a id="3332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">ledger</a> <a id="3339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3304" class="Bound">addr</a> <a id="3344" class="Symbol">.</a><a id="3345" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a>



<a id="3361" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="3391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="3410" class="Symbol">:</a> <a id="3412" class="Symbol">(</a><a id="3413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3413" class="Bound">oldLedger</a> <a id="3423" class="Symbol">:</a> <a id="3425" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="3431" class="Symbol">)</a>
                  <a id="3451" class="Symbol">→</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3454" class="Bound">ledger</a> <a id="3461" class="Symbol">:</a> <a id="3463" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="3469" class="Symbol">)</a> <a id="3471" class="Comment">--ledger == currentLedger</a>
                  <a id="3515" class="Symbol">→</a> <a id="3517" class="Symbol">(</a><a id="3518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3518" class="Bound">executionStack</a> <a id="3533" class="Symbol">:</a> <a id="3535" href="libraries.Mainlibrary.html#2035" class="Function">ExecutionStack</a><a id="3549" class="Symbol">)</a>
                  <a id="3569" class="Symbol">→</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3572" class="Bound">initialAddr</a> <a id="3584" class="Symbol">:</a> <a id="3586" href="basicDataStructure.html#387" class="Function">Address</a><a id="3593" class="Symbol">)</a>
                  <a id="3613" class="Symbol">→</a> <a id="3615" class="Symbol">(</a><a id="3616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3616" class="Bound">lastCallAddr</a> <a id="3629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3629" class="Bound">calledAddr</a> <a id="3640" class="Symbol">:</a> <a id="3642" href="basicDataStructure.html#387" class="Function">Address</a><a id="3649" class="Symbol">)</a>
                  <a id="3669" class="Symbol">→</a> <a id="3671" class="Symbol">(</a><a id="3672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3672" class="Bound">cont</a> <a id="3677" class="Symbol">:</a> <a id="3679" href="Complex-Model.ccomand.ccommands-cresponse.html#1494" class="Datatype">SmartContractExec</a> <a id="3697" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="3700" class="Symbol">)</a>
                  <a id="3720" class="Symbol">→</a> <a id="3722" class="Symbol">(</a><a id="3723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3723" class="Bound">gasleft</a> <a id="3731" class="Symbol">:</a> <a id="3733" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3734" class="Symbol">)</a>
                  <a id="3754" class="Symbol">→</a> <a id="3756" class="Symbol">(</a><a id="3757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3757" class="Bound">funNameevalState</a> <a id="3774" class="Symbol">:</a> <a id="3776" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="3788" class="Symbol">)</a>
                  <a id="3808" class="Symbol">→</a> <a id="3810" class="Symbol">(</a><a id="3811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3811" class="Bound">msgevalState</a> <a id="3824" class="Symbol">:</a> <a id="3826" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="3829" class="Symbol">)</a>
                  <a id="3849" class="Symbol">→</a> <a id="3851" class="Symbol">(</a><a id="3852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3852" class="Bound">amount&#39;</a> <a id="3860" class="Symbol">:</a> <a id="3862" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3868" class="Symbol">)</a>
                  <a id="3888" class="Symbol">→</a> <a id="3890" class="Symbol">(</a><a id="3891" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3891" class="Bound">destinationAddr</a> <a id="3907" class="Symbol">:</a> <a id="3909" href="basicDataStructure.html#387" class="Function">Address</a><a id="3916" class="Symbol">)</a>
                  <a id="3936" class="Symbol">→</a> <a id="3938" class="Symbol">(</a><a id="3939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3939" class="Bound">cp</a>  <a id="3943" class="Symbol">:</a> <a id="3945" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="3957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3852" class="Bound">amount&#39;</a> <a id="3965" class="Symbol">(</a><a id="3966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3454" class="Bound">ledger</a> <a id="3973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3629" class="Bound">calledAddr</a> <a id="3984" class="Symbol">.</a><a id="3985" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="3991" class="Symbol">))</a>
                  <a id="4012" class="Symbol">→</a> <a id="4014" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="4027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="4046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4046" class="Bound">oldLedger</a> <a id="4056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4056" class="Bound">ledger</a> <a id="4063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4063" class="Bound">executionStack</a> <a id="4078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4078" class="Bound">initialAddr</a> <a id="4090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">lastCallAddr</a> <a id="4103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4103" class="Bound">calledAddr</a> <a id="4114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4114" class="Bound">cont</a> <a id="4119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4119" class="Bound">gasleft</a>
                   <a id="4146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4146" class="Bound">funNameevalState</a> <a id="4163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4163" class="Bound">msgevalState</a> <a id="4176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4176" class="Bound">amount&#39;</a> <a id="4184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4184" class="Bound">destinationAddr</a> <a id="4200" class="Symbol">(</a><a id="4201" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="4205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4205" class="Bound">x</a><a id="4206" class="Symbol">)</a>
         <a id="4217" class="Symbol">=</a> <a id="4219" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="4227" class="Symbol">(</a><a id="4228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="4247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4056" class="Bound">ledger</a> <a id="4254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4103" class="Bound">calledAddr</a> <a id="4265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4184" class="Bound">destinationAddr</a> <a id="4281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4176" class="Bound">amount&#39;</a> <a id="4289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4205" class="Bound">x</a><a id="4290" class="Symbol">)</a>
          <a id="4302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4063" class="Bound">executionStack</a> <a id="4317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4078" class="Bound">initialAddr</a> <a id="4329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">lastCallAddr</a> <a id="4342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4103" class="Bound">calledAddr</a> <a id="4353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4114" class="Bound">cont</a> <a id="4358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4119" class="Bound">gasleft</a> <a id="4366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4146" class="Bound">funNameevalState</a> <a id="4383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4163" class="Bound">msgevalState</a>
<a id="4396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="4415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4415" class="Bound">oldLedger</a> <a id="4425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4425" class="Bound">ledger</a> <a id="4432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4432" class="Bound">executionStack</a> <a id="4447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4447" class="Bound">initialAddr</a> <a id="4459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4459" class="Bound">lastCallAddr</a> <a id="4472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4472" class="Bound">calledAddr</a> <a id="4483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4483" class="Bound">cont</a> <a id="4488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4488" class="Bound">gasleft</a>
                   <a id="4515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4515" class="Bound">funNameevalState</a> <a id="4532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4532" class="Bound">msgevalState</a> <a id="4545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4545" class="Bound">amount&#39;</a> <a id="4553" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4553" class="Bound">destinationAddr</a> <a id="4569" class="Symbol">(</a><a id="4570" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="4578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4578" class="Bound">x</a><a id="4579" class="Symbol">)</a>
          <a id="4591" class="Symbol">=</a> <a id="4593" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="4601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4415" class="Bound">oldLedger</a> <a id="4611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4432" class="Bound">executionStack</a> <a id="4626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4447" class="Bound">initialAddr</a> <a id="4638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4459" class="Bound">lastCallAddr</a> <a id="4651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4472" class="Bound">calledAddr</a>
            <a id="4674" class="Symbol">(</a><a id="4675" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="InductiveConstructor">error</a>  <a id="4682" class="Symbol">(</a><a id="4683" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="4690" class="String">&quot;not enough money&quot;</a><a id="4708" class="Symbol">)</a>
            <a id="4722" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="4724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4459" class="Bound">lastCallAddr</a> <a id="4737" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="4740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4447" class="Bound">initialAddr</a> <a id="4752" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="4754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4515" class="Bound">funNameevalState</a> <a id="4771" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="4773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4532" class="Bound">msgevalState</a> <a id="4786" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="4788" class="Symbol">)</a>
             <a id="4803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4488" class="Bound">gasleft</a> <a id="4811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4515" class="Bound">funNameevalState</a> <a id="4828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4532" class="Bound">msgevalState</a>

<a id="4842" class="Comment">-- execute transfer </a>
<a id="executeTransfer"></a><a id="4863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4863" class="Function">executeTransfer</a> <a id="4879" class="Symbol">:</a> <a id="4881" class="Symbol">(</a><a id="4882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4882" class="Bound">oldLedger</a> <a id="4892" class="Symbol">:</a> <a id="4894" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="4900" class="Symbol">)</a>
                  <a id="4920" class="Symbol">→</a> <a id="4922" class="Symbol">(</a><a id="4923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4923" class="Bound">ledger</a> <a id="4930" class="Symbol">:</a> <a id="4932" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="4938" class="Symbol">)</a>
                  <a id="4958" class="Symbol">→</a> <a id="4960" class="Symbol">(</a><a id="4961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4961" class="Bound">execStack</a> <a id="4971" class="Symbol">:</a> <a id="4973" href="libraries.Mainlibrary.html#2035" class="Function">ExecutionStack</a><a id="4987" class="Symbol">)</a>
                  <a id="5007" class="Symbol">→</a> <a id="5009" class="Symbol">(</a><a id="5010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5010" class="Bound">initialAddr</a> <a id="5022" class="Symbol">:</a> <a id="5024" href="basicDataStructure.html#387" class="Function">Address</a><a id="5031" class="Symbol">)</a>
                  <a id="5051" class="Symbol">→</a> <a id="5053" class="Symbol">(</a><a id="5054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5054" class="Bound">lastCallAddr</a> <a id="5067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5067" class="Bound">calledAddr</a> <a id="5078" class="Symbol">:</a> <a id="5080" href="basicDataStructure.html#387" class="Function">Address</a><a id="5087" class="Symbol">)</a>
                  <a id="5107" class="Symbol">→</a> <a id="5109" class="Symbol">(</a><a id="5110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5110" class="Bound">cont</a> <a id="5115" class="Symbol">:</a> <a id="5117" href="Complex-Model.ccomand.ccommands-cresponse.html#1494" class="Datatype">SmartContractExec</a> <a id="5135" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5138" class="Symbol">)</a>
                  <a id="5158" class="Symbol">→</a> <a id="5160" class="Symbol">(</a><a id="5161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5161" class="Bound">gasleft</a> <a id="5169" class="Symbol">:</a> <a id="5171" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5172" class="Symbol">)</a>

                  <a id="5193" class="Symbol">→</a> <a id="5195" class="Symbol">(</a><a id="5196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5196" class="Bound">funNameevalState</a> <a id="5213" class="Symbol">:</a> <a id="5215" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="5227" class="Symbol">)</a>
                  <a id="5247" class="Symbol">→</a> <a id="5249" class="Symbol">(</a><a id="5250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5250" class="Bound">msgevalState</a> <a id="5263" class="Symbol">:</a> <a id="5265" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5268" class="Symbol">)</a>
                  <a id="5288" class="Symbol">→</a> <a id="5290" class="Symbol">(</a><a id="5291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5291" class="Bound">amount&#39;</a> <a id="5299" class="Symbol">:</a> <a id="5301" href="basicDataStructure.html#360" class="Function">Amount</a><a id="5307" class="Symbol">)</a>
                  <a id="5327" class="Symbol">→</a> <a id="5329" class="Symbol">(</a><a id="5330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5330" class="Bound">destinationAddr</a> <a id="5346" class="Symbol">:</a> <a id="5348" href="basicDataStructure.html#387" class="Function">Address</a><a id="5355" class="Symbol">)</a>
                  <a id="5375" class="Symbol">→</a> <a id="5377" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="5390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4863" class="Function">executeTransfer</a> <a id="5406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5406" class="Bound">oldLedger</a> <a id="5416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5416" class="Bound">ledger</a> <a id="5423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5423" class="Bound">execStack</a> <a id="5433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5433" class="Bound">initialAddr</a> <a id="5445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5445" class="Bound">lastCallAddr</a> <a id="5458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5458" class="Bound">calledAddr</a>
                <a id="5485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5485" class="Bound">cont</a> <a id="5490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5490" class="Bound">gasleft</a>  <a id="5499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5499" class="Bound">funNameevalState</a> <a id="5516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5516" class="Bound">msgevalState</a> <a id="5529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5529" class="Bound">amount&#39;</a> <a id="5537" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5537" class="Bound">destinationAddr</a>
         <a id="5562" class="Symbol">=</a> <a id="5564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="5583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5406" class="Bound">oldLedger</a> <a id="5593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5416" class="Bound">ledger</a> <a id="5600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5423" class="Bound">execStack</a> <a id="5610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5433" class="Bound">initialAddr</a> <a id="5622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5445" class="Bound">lastCallAddr</a> <a id="5635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5458" class="Bound">calledAddr</a>
            <a id="5658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5485" class="Bound">cont</a> <a id="5663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5490" class="Bound">gasleft</a>  <a id="5672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5499" class="Bound">funNameevalState</a> <a id="5689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5516" class="Bound">msgevalState</a> <a id="5702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5529" class="Bound">amount&#39;</a>
            <a id="5722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5537" class="Bound">destinationAddr</a> <a id="5738" class="Symbol">(</a><a id="5739" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="5750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5529" class="Bound">amount&#39;</a> <a id="5758" class="Symbol">(</a><a id="5759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5416" class="Bound">ledger</a> <a id="5766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5458" class="Bound">calledAddr</a> <a id="5777" class="Symbol">.</a><a id="5778" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="5784" class="Symbol">))</a>



<a id="5790" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="5834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="Function">stepEF</a> <a id="5841" class="Symbol">:</a> <a id="5843" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="5850" class="Symbol">→</a> <a id="5852" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="5865" class="Symbol">→</a> <a id="5867" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="5880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="Function">stepEF</a> <a id="5887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5887" class="Bound">oldLedger</a> <a id="5897" class="Symbol">(</a><a id="5898" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="5906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5906" class="Bound">currentLedger</a> <a id="5920" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5923" class="Bound">initialAddr</a> <a id="5935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5935" class="Bound">lastCallAddr</a> <a id="5948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5948" class="Bound">calledAddr</a>
                 <a id="5976" class="Symbol">(</a><a id="5977" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="5984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5984" class="Bound">cost</a> <a id="5989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5989" class="Bound">result</a><a id="5995" class="Symbol">)</a> <a id="5997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5997" class="Bound">gasLeft</a>  <a id="6006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6006" class="Bound">funNameevalState</a> <a id="6023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6023" class="Bound">msgevalState</a><a id="6035" class="Symbol">)</a>
       <a id="6044" class="Symbol">=</a> <a id="6046" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="6054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5906" class="Bound">currentLedger</a> <a id="6068" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5923" class="Bound">initialAddr</a> <a id="6083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5935" class="Bound">lastCallAddr</a> <a id="6096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5948" class="Bound">calledAddr</a>
         <a id="6116" class="Symbol">(</a><a id="6117" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="6124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5984" class="Bound">cost</a> <a id="6129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5989" class="Bound">result</a><a id="6135" class="Symbol">)</a> <a id="6137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5997" class="Bound">gasLeft</a>  <a id="6146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6006" class="Bound">funNameevalState</a> <a id="6163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6023" class="Bound">msgevalState</a> 

<a id="6178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="Function">stepEF</a> <a id="6185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6185" class="Bound">oldLedger</a> <a id="6195" class="Symbol">(</a><a id="6196" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="6204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6204" class="Bound">currentLedger</a> <a id="6218" class="Symbol">(</a><a id="6219" href="libraries.Mainlibrary.html#1187" class="InductiveConstructor">execStackEl</a> <a id="6231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6231" class="Bound">prevLastCallAddress</a> <a id="6251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6251" class="Bound">prevCalledAddress</a> <a id="6269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6269" class="Bound">prevContinuation</a>
                 <a id="6303" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6303" class="Bound">prevCostCont</a> <a id="6316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6316" class="Bound">prevFunName</a> <a id="6328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6328" class="Bound">prevMsgExec</a> <a id="6340" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6342" class="Bound">executionStack</a><a id="6356" class="Symbol">)</a>
                  <a id="6376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6376" class="Bound">initialAddr</a> <a id="6388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6388" class="Bound">lastCallAddr</a> <a id="6401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6401" class="Bound">calledAddr</a> <a id="6412" class="Symbol">(</a><a id="6413" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="6420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6420" class="Bound">cost</a> <a id="6425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6425" class="Bound">result</a><a id="6431" class="Symbol">)</a> <a id="6433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6433" class="Bound">gasLeft</a> <a id="6441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6441" class="Bound">funNameevalState</a> <a id="6458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6458" class="Bound">msgevalState</a><a id="6470" class="Symbol">)</a>
            <a id="6484" class="Symbol">=</a> <a id="6486" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="6494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6204" class="Bound">currentLedger</a> <a id="6508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6342" class="Bound">executionStack</a> <a id="6523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6376" class="Bound">initialAddr</a> <a id="6535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6231" class="Bound">prevLastCallAddress</a> <a id="6555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6251" class="Bound">prevCalledAddress</a>
                        <a id="6597" class="Symbol">(</a><a id="6598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6269" class="Bound">prevContinuation</a> <a id="6615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6425" class="Bound">result</a><a id="6621" class="Symbol">)</a> <a id="6623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6433" class="Bound">gasLeft</a> <a id="6631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6316" class="Bound">prevFunName</a> <a id="6643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6328" class="Bound">prevMsgExec</a>

<a id="6656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="6662" class="CatchallClause"> </a><a id="6663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6663" class="CatchallClause Bound">oldLedger</a><a id="6672" class="CatchallClause"> </a><a id="6673" class="CatchallClause Symbol">(</a><a id="6674" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="6681" class="CatchallClause"> </a><a id="6682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6682" class="CatchallClause Bound">currentLedger</a><a id="6695" class="CatchallClause"> </a><a id="6696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6696" class="CatchallClause Bound">executionStack</a><a id="6710" class="CatchallClause"> </a><a id="6711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6711" class="CatchallClause Bound">initialAddr</a><a id="6722" class="CatchallClause"> </a><a id="6723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6723" class="CatchallClause Bound">lastCallAddr</a><a id="6735" class="CatchallClause"> </a><a id="6736" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6736" class="CatchallClause Bound">calledAddr</a>
                 <a id="6764" class="CatchallClause Symbol">(</a><a id="6765" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="6769" class="CatchallClause"> </a><a id="6770" href="Complex-Model.ccomand.ccommands-cresponse.html#608" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="6788" class="CatchallClause"> </a><a id="6789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6789" class="CatchallClause Bound">costcomputecont</a><a id="6804" class="CatchallClause"> </a><a id="6805" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6805" class="CatchallClause Bound">cont</a><a id="6809" class="CatchallClause Symbol">)</a><a id="6810" class="CatchallClause"> </a><a id="6811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="CatchallClause Bound">gasLeft</a>
                  <a id="6837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6837" class="CatchallClause Bound">funNameevalState</a><a id="6853" class="CatchallClause"> </a><a id="6854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6854" class="CatchallClause Bound">msgevalState</a><a id="6866" class="CatchallClause Symbol">)</a>
       <a id="6875" class="Symbol">=</a> <a id="6877" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="6885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6682" class="Bound">currentLedger</a> <a id="6899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6696" class="Bound">executionStack</a> <a id="6914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6711" class="Bound">initialAddr</a> <a id="6926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6723" class="Bound">lastCallAddr</a> <a id="6939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6736" class="Bound">calledAddr</a>
          <a id="6960" class="Symbol">(</a><a id="6961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6805" class="Bound">cont</a> <a id="6966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6736" class="Bound">calledAddr</a><a id="6976" class="Symbol">)</a> <a id="6978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="Bound">gasLeft</a>  <a id="6987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6837" class="Bound">funNameevalState</a> <a id="7004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6854" class="Bound">msgevalState</a> 

<a id="7019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="7025" class="CatchallClause"> </a><a id="7026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7026" class="CatchallClause Bound">oldLedger</a><a id="7035" class="CatchallClause"> </a><a id="7036" class="CatchallClause Symbol">(</a><a id="7037" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="7044" class="CatchallClause"> </a><a id="7045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7045" class="CatchallClause Bound">currentLedger</a><a id="7058" class="CatchallClause"> </a><a id="7059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7059" class="CatchallClause Bound">executionStack</a><a id="7073" class="CatchallClause"> </a><a id="7074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7074" class="CatchallClause Bound">initialAddr</a><a id="7085" class="CatchallClause"> </a><a id="7086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7086" class="CatchallClause Bound">lastCallAddr</a><a id="7098" class="CatchallClause"> </a><a id="7099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7099" class="CatchallClause Bound">calledAddr</a>
                 <a id="7127" class="CatchallClause Symbol">(</a><a id="7128" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="7132" class="CatchallClause"> </a><a id="7133" href="Complex-Model.ccomand.ccommands-cresponse.html#643" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="7148" class="CatchallClause"> </a><a id="7149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7149" class="CatchallClause Bound">costcomputecont</a><a id="7164" class="CatchallClause"> </a><a id="7165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7165" class="CatchallClause Bound">cont</a><a id="7169" class="CatchallClause Symbol">)</a><a id="7170" class="CatchallClause"> </a><a id="7171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7171" class="CatchallClause Bound">gasLeft</a>
                  <a id="7197" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7197" class="CatchallClause Bound">funNameevalState</a><a id="7213" class="CatchallClause"> </a><a id="7214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7214" class="CatchallClause Bound">msgevalState</a><a id="7226" class="CatchallClause Symbol">)</a>
       <a id="7235" class="Symbol">=</a> <a id="7237" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="7245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7045" class="Bound">currentLedger</a> <a id="7259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7059" class="Bound">executionStack</a> <a id="7274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7074" class="Bound">initialAddr</a> <a id="7286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7086" class="Bound">lastCallAddr</a> <a id="7299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7099" class="Bound">calledAddr</a> <a id="7310" class="Symbol">(</a><a id="7311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7165" class="Bound">cont</a> <a id="7316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7086" class="Bound">lastCallAddr</a><a id="7328" class="Symbol">)</a>
          <a id="7340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7171" class="Bound">gasLeft</a>  <a id="7349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7197" class="Bound">funNameevalState</a> <a id="7366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7214" class="Bound">msgevalState</a>

<a id="7380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="7386" class="CatchallClause"> </a><a id="7387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7387" class="CatchallClause Bound">oldLedger</a><a id="7396" class="CatchallClause"> </a><a id="7397" class="CatchallClause Symbol">(</a><a id="7398" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="7405" class="CatchallClause"> </a><a id="7406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7406" class="CatchallClause Bound">currentLedger</a><a id="7419" class="CatchallClause"> </a><a id="7420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7420" class="CatchallClause Bound">executionStack</a><a id="7434" class="CatchallClause"> </a><a id="7435" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7435" class="CatchallClause Bound">initialAddr</a><a id="7446" class="CatchallClause"> </a><a id="7447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7447" class="CatchallClause Bound">lastCallAddr</a><a id="7459" class="CatchallClause"> </a><a id="7460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7460" class="CatchallClause Bound">calledAddr</a>
                 <a id="7488" class="CatchallClause Symbol">(</a><a id="7489" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="7493" class="CatchallClause"> </a><a id="7494" class="CatchallClause Symbol">(</a><a id="7495" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">updatec</a><a id="7502" class="CatchallClause"> </a><a id="7503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7503" class="CatchallClause Bound">changedFname</a><a id="7515" class="CatchallClause"> </a><a id="7516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7516" class="CatchallClause Bound">changedPFun</a><a id="7527" class="CatchallClause"> </a><a id="7528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7528" class="CatchallClause Bound">cost</a><a id="7532" class="CatchallClause Symbol">)</a><a id="7533" class="CatchallClause"> </a><a id="7534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7534" class="CatchallClause Bound">costcomputecont</a><a id="7549" class="CatchallClause"> </a><a id="7550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7550" class="CatchallClause Bound">cont</a><a id="7554" class="CatchallClause Symbol">)</a>
                 <a id="7573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7573" class="CatchallClause Bound">gasLeft</a><a id="7580" class="CatchallClause">  </a><a id="7582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7582" class="CatchallClause Bound">funNameevalState</a><a id="7598" class="CatchallClause"> </a><a id="7599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7599" class="CatchallClause Bound">msgevalState</a><a id="7611" class="CatchallClause Symbol">)</a>
       <a id="7620" class="Symbol">=</a> <a id="7622" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="7630" class="Symbol">(</a><a id="7631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="7651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7406" class="Bound">currentLedger</a> <a id="7665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7460" class="Bound">calledAddr</a> <a id="7676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7503" class="Bound">changedFname</a>  <a id="7690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7516" class="Bound">changedPFun</a><a id="7701" class="Symbol">)</a>
          <a id="7713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7420" class="Bound">executionStack</a> <a id="7728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7435" class="Bound">initialAddr</a> <a id="7740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7447" class="Bound">lastCallAddr</a> <a id="7753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7460" class="Bound">calledAddr</a> <a id="7764" class="Symbol">(</a><a id="7765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7550" class="Bound">cont</a> <a id="7770" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="7772" class="Symbol">)</a> <a id="7774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7573" class="Bound">gasLeft</a>
            <a id="7794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7582" class="Bound">funNameevalState</a> <a id="7811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7599" class="Bound">msgevalState</a>

<a id="7825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="7831" class="CatchallClause"> </a><a id="7832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7832" class="CatchallClause Bound">oldLedger</a><a id="7841" class="CatchallClause"> </a><a id="7842" class="CatchallClause Symbol">(</a><a id="7843" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="7850" class="CatchallClause"> </a><a id="7851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7851" class="CatchallClause Bound">currentLedger</a><a id="7864" class="CatchallClause"> </a><a id="7865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7865" class="CatchallClause Bound">executionStack</a><a id="7879" class="CatchallClause"> </a><a id="7880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7880" class="CatchallClause Bound">initialAddr</a><a id="7891" class="CatchallClause"> </a><a id="7892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7892" class="CatchallClause Bound">oldlastCallAddr</a><a id="7907" class="CatchallClause"> </a><a id="7908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7908" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="7939" class="CatchallClause Symbol">(</a><a id="7940" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="7944" class="CatchallClause"> </a><a id="7945" class="CatchallClause Symbol">(</a><a id="7946" href="Complex-Model.ccomand.ccommands-cresponse.html#675" class="CatchallClause InductiveConstructor">callc</a><a id="7951" class="CatchallClause"> </a><a id="7952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7952" class="CatchallClause Bound">newaddr</a><a id="7959" class="CatchallClause"> </a><a id="7960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="CatchallClause Bound">fname</a><a id="7965" class="CatchallClause"> </a><a id="7966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7966" class="CatchallClause Bound">msg</a><a id="7969" class="CatchallClause Symbol">)</a><a id="7970" class="CatchallClause"> </a><a id="7971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7971" class="CatchallClause Bound">costcomputecont</a><a id="7986" class="CatchallClause"> </a><a id="7987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7987" class="CatchallClause Bound">cont</a><a id="7991" class="CatchallClause Symbol">)</a>
                 <a id="8010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8010" class="CatchallClause Bound">gasLeft</a><a id="8017" class="CatchallClause">  </a><a id="8019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8019" class="CatchallClause Bound">funNameevalState</a><a id="8035" class="CatchallClause"> </a><a id="8036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8036" class="CatchallClause Bound">msgevalState</a><a id="8048" class="CatchallClause Symbol">)</a>
       <a id="8057" class="Symbol">=</a> <a id="8059" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="8067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7851" class="Bound">currentLedger</a>
           <a id="8092" class="Symbol">(</a><a id="8093" href="libraries.Mainlibrary.html#1187" class="InductiveConstructor">execStackEl</a> <a id="8105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7892" class="Bound">oldlastCallAddr</a> <a id="8121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7908" class="Bound">oldcalledAddr</a> <a id="8135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7987" class="Bound">cont</a> <a id="8140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7971" class="Bound">costcomputecont</a> <a id="8156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8019" class="Bound">funNameevalState</a> <a id="8173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8036" class="Bound">msgevalState</a> <a id="8186" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7865" class="Bound">executionStack</a><a id="8202" class="Symbol">)</a>
           <a id="8215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7880" class="Bound">initialAddr</a> <a id="8227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7908" class="Bound">oldcalledAddr</a> <a id="8241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7952" class="Bound">newaddr</a> <a id="8249" class="Symbol">(</a><a id="8250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7851" class="Bound">currentLedger</a> <a id="8264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7952" class="Bound">newaddr</a> <a id="8272" class="Symbol">.</a><a id="8273" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="8277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="Bound">fname</a> <a id="8283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7966" class="Bound">msg</a><a id="8286" class="Symbol">)</a>
           <a id="8299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8010" class="Bound">gasLeft</a>  <a id="8308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="Bound">fname</a> <a id="8314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7966" class="Bound">msg</a>

<a id="8319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="8325" class="CatchallClause"> </a><a id="8326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8326" class="CatchallClause Bound">oldLedger</a><a id="8335" class="CatchallClause"> </a><a id="8336" class="CatchallClause Symbol">(</a><a id="8337" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="8344" class="CatchallClause"> </a><a id="8345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8345" class="CatchallClause Bound">currentLedger</a><a id="8358" class="CatchallClause"> </a><a id="8359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8359" class="CatchallClause Bound">executionStack</a><a id="8373" class="CatchallClause"> </a><a id="8374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8374" class="CatchallClause Bound">initialAddr</a><a id="8385" class="CatchallClause"> </a><a id="8386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8386" class="CatchallClause Bound">lastCallAddr</a><a id="8398" class="CatchallClause"> </a><a id="8399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8399" class="CatchallClause Bound">calledAddr</a>
                 <a id="8427" class="CatchallClause Symbol">(</a><a id="8428" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="8432" class="CatchallClause"> </a><a id="8433" class="CatchallClause Symbol">(</a><a id="8434" href="Complex-Model.ccomand.ccommands-cresponse.html#816" class="CatchallClause InductiveConstructor">transferc</a><a id="8443" class="CatchallClause"> </a><a id="8444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8444" class="CatchallClause Bound">amount</a><a id="8450" class="CatchallClause"> </a><a id="8451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8451" class="CatchallClause Bound">destinationAddr</a><a id="8466" class="CatchallClause Symbol">)</a><a id="8467" class="CatchallClause"> </a><a id="8468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8468" class="CatchallClause Bound">costcomputecont</a><a id="8483" class="CatchallClause"> </a><a id="8484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8484" class="CatchallClause Bound">cont</a><a id="8488" class="CatchallClause Symbol">)</a>
                  <a id="8508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="CatchallClause Bound">gasLeft</a><a id="8515" class="CatchallClause">  </a><a id="8517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8517" class="CatchallClause Bound">funNameevalState</a><a id="8533" class="CatchallClause"> </a><a id="8534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8534" class="CatchallClause Bound">msgevalState</a><a id="8546" class="CatchallClause Symbol">)</a>
       <a id="8555" class="Symbol">=</a> <a id="8557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4863" class="Function">executeTransfer</a> <a id="8573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8326" class="Bound">oldLedger</a> <a id="8583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8345" class="Bound">currentLedger</a> <a id="8597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8359" class="Bound">executionStack</a> <a id="8612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8374" class="Bound">initialAddr</a> <a id="8624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8386" class="Bound">lastCallAddr</a> <a id="8637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8399" class="Bound">calledAddr</a>
       <a id="8655" class="Symbol">(</a><a id="8656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8484" class="Bound">cont</a> <a id="8661" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="8663" class="Symbol">)</a> <a id="8665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="Bound">gasLeft</a>  <a id="8674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8517" class="Bound">funNameevalState</a> <a id="8691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8534" class="Bound">msgevalState</a>
           <a id="8715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8444" class="Bound">amount</a> <a id="8722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8451" class="Bound">destinationAddr</a>
           
<a id="8750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="8756" class="CatchallClause"> </a><a id="8757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8757" class="CatchallClause Bound">oldLedger</a><a id="8766" class="CatchallClause"> </a><a id="8767" class="CatchallClause Symbol">(</a><a id="8768" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="8775" class="CatchallClause"> </a><a id="8776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8776" class="CatchallClause Bound">currentLedger</a><a id="8789" class="CatchallClause"> </a><a id="8790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8790" class="CatchallClause Bound">executionStack</a><a id="8804" class="CatchallClause"> </a><a id="8805" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8805" class="CatchallClause Bound">initialAddr</a><a id="8816" class="CatchallClause"> </a><a id="8817" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8817" class="CatchallClause Bound">lastCallAddr</a><a id="8829" class="CatchallClause"> </a><a id="8830" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8830" class="CatchallClause Bound">calledAddr</a>
                 <a id="8858" class="CatchallClause Symbol">(</a><a id="8859" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="8863" class="CatchallClause"> </a><a id="8864" class="CatchallClause Symbol">(</a><a id="8865" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">getAmountc</a><a id="8875" class="CatchallClause"> </a><a id="8876" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8876" class="CatchallClause Bound">addrLookedUp</a><a id="8888" class="CatchallClause Symbol">)</a><a id="8889" class="CatchallClause"> </a><a id="8890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8890" class="CatchallClause Bound">costcomputecont</a><a id="8905" class="CatchallClause"> </a><a id="8906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8906" class="CatchallClause Bound">cont</a><a id="8910" class="CatchallClause Symbol">)</a><a id="8911" class="CatchallClause"> </a><a id="8912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8912" class="CatchallClause Bound">gasLeft</a>
                   <a id="8939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8939" class="CatchallClause Bound">funNameevalState</a><a id="8955" class="CatchallClause"> </a><a id="8956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8956" class="CatchallClause Bound">msgevalState</a><a id="8968" class="CatchallClause Symbol">)</a>
      <a id="8976" class="Symbol">=</a> <a id="8978" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="8986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8776" class="Bound">currentLedger</a> <a id="9000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8790" class="Bound">executionStack</a> <a id="9015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8805" class="Bound">initialAddr</a> <a id="9027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8817" class="Bound">lastCallAddr</a> <a id="9040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8830" class="Bound">calledAddr</a>
           <a id="9062" class="Symbol">(</a><a id="9063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8906" class="Bound">cont</a> <a id="9068" class="Symbol">(</a><a id="9069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8776" class="Bound">currentLedger</a> <a id="9083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8876" class="Bound">addrLookedUp</a> <a id="9096" class="Symbol">.</a><a id="9097" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="9103" class="Symbol">))</a> <a id="9106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8912" class="Bound">gasLeft</a>
              <a id="9128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8939" class="Bound">funNameevalState</a> <a id="9145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8956" class="Bound">msgevalState</a>
              
<a id="9173" class="Comment">--------------------- new for raiseException</a>
<a id="9218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="9224" class="CatchallClause"> </a><a id="9225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="CatchallClause Bound">oldLedger</a><a id="9234" class="CatchallClause"> </a><a id="9235" class="CatchallClause Symbol">(</a><a id="9236" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="9243" class="CatchallClause"> </a><a id="9244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9244" class="CatchallClause Bound">ledger</a><a id="9250" class="CatchallClause"> </a><a id="9251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9251" class="CatchallClause Bound">executionStack</a><a id="9265" class="CatchallClause"> </a><a id="9266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9266" class="CatchallClause Bound">initialAddr</a><a id="9277" class="CatchallClause"> </a><a id="9278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9278" class="CatchallClause Bound">lastCallAddr</a><a id="9290" class="CatchallClause"> </a><a id="9291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9291" class="CatchallClause Bound">calledAddr</a>
                   <a id="9321" class="CatchallClause Symbol">(</a><a id="9322" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="9326" class="CatchallClause"> </a><a id="9327" class="CatchallClause Symbol">(</a><a id="9328" href="Complex-Model.ccomand.ccommands-cresponse.html#899" class="CatchallClause InductiveConstructor">raiseException</a><a id="9342" class="CatchallClause"> </a><a id="9343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9343" class="CatchallClause Bound">cost</a><a id="9347" class="CatchallClause"> </a><a id="9348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9348" class="CatchallClause Bound">str</a><a id="9351" class="CatchallClause Symbol">)</a><a id="9352" class="CatchallClause"> </a><a id="9353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9353" class="CatchallClause Bound">costcomputecont</a><a id="9368" class="CatchallClause"> </a><a id="9369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9369" class="CatchallClause Bound">cont</a><a id="9373" class="CatchallClause Symbol">)</a>
                   <a id="9394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9394" class="CatchallClause Bound">gasLeft</a><a id="9401" class="CatchallClause"> </a><a id="9402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9402" class="CatchallClause Bound">funNameevalState</a><a id="9418" class="CatchallClause"> </a><a id="9419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9419" class="CatchallClause Bound">msgevalState</a><a id="9431" class="CatchallClause Symbol">)</a>
                   <a id="9452" class="Symbol">=</a> <a id="9454" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="9462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="Bound">oldLedger</a> <a id="9472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9251" class="Bound">executionStack</a> <a id="9487" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9266" class="Bound">initialAddr</a> <a id="9499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9278" class="Bound">lastCallAddr</a> <a id="9512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9291" class="Bound">calledAddr</a>
                     <a id="9544" class="Symbol">(</a><a id="9545" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="InductiveConstructor">error</a>  <a id="9552" class="Symbol">(</a><a id="9553" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="9560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9348" class="Bound">str</a><a id="9563" class="Symbol">)</a> 
                     <a id="9587" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="9589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9278" class="Bound">lastCallAddr</a> <a id="9602" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="9605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9266" class="Bound">initialAddr</a> <a id="9617" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="9619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9402" class="Bound">funNameevalState</a> <a id="9636" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="9638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9419" class="Bound">msgevalState</a> <a id="9651" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="9653" class="Symbol">)</a>
                     <a id="9676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9394" class="Bound">gasLeft</a> <a id="9684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9402" class="Bound">funNameevalState</a> <a id="9701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9419" class="Bound">msgevalState</a>



<a id="9717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="9723" class="CatchallClause"> </a><a id="9724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9724" class="CatchallClause Bound">oldLedger</a><a id="9733" class="CatchallClause"> </a><a id="9734" class="CatchallClause Symbol">(</a><a id="9735" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="9742" class="CatchallClause"> </a><a id="9743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9743" class="CatchallClause Bound">currentLedger</a><a id="9756" class="CatchallClause"> </a><a id="9757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9757" class="CatchallClause Bound">executionStack</a><a id="9771" class="CatchallClause"> </a><a id="9772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9772" class="CatchallClause Bound">initialAddr</a><a id="9783" class="CatchallClause"> </a><a id="9784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9784" class="CatchallClause Bound">lastCallAddr</a><a id="9796" class="CatchallClause"> </a><a id="9797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9797" class="CatchallClause Bound">calledAddr</a>
                 <a id="9825" class="CatchallClause Symbol">(</a><a id="9826" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="CatchallClause InductiveConstructor">error</a><a id="9831" class="CatchallClause"> </a><a id="9832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9832" class="CatchallClause Bound">errorMsg</a><a id="9840" class="CatchallClause"> </a><a id="9841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9841" class="CatchallClause Bound">debugInfo</a><a id="9850" class="CatchallClause Symbol">)</a><a id="9851" class="CatchallClause"> </a><a id="9852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9852" class="CatchallClause Bound">gasLeft</a><a id="9859" class="CatchallClause">  </a><a id="9861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9861" class="CatchallClause Bound">funNameevalState</a><a id="9877" class="CatchallClause"> </a><a id="9878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9878" class="CatchallClause Bound">msgevalState</a><a id="9890" class="CatchallClause Symbol">)</a>
       <a id="9899" class="Symbol">=</a> <a id="9901" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="9909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9724" class="Bound">oldLedger</a> <a id="9919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9757" class="Bound">executionStack</a> <a id="9934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9772" class="Bound">initialAddr</a> <a id="9946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9784" class="Bound">lastCallAddr</a> <a id="9959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9797" class="Bound">calledAddr</a>
         <a id="9979" class="Symbol">(</a><a id="9980" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="InductiveConstructor">error</a> <a id="9986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9832" class="Bound">errorMsg</a> <a id="9995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9841" class="Bound">debugInfo</a><a id="10004" class="Symbol">)</a>  <a id="10007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9852" class="Bound">gasLeft</a>  <a id="10016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9861" class="Bound">funNameevalState</a> <a id="10033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9878" class="Bound">msgevalState</a>


<a id="10048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="CatchallClause Function">stepEF</a><a id="10054" class="CatchallClause"> </a><a id="10055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10055" class="CatchallClause Bound">oldLedger</a><a id="10064" class="CatchallClause"> </a><a id="10065" class="CatchallClause Symbol">(</a><a id="10066" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="10073" class="CatchallClause"> </a><a id="10074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10074" class="CatchallClause Bound">currentLedger</a><a id="10087" class="CatchallClause"> </a><a id="10088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10088" class="CatchallClause Bound">executionStack</a><a id="10102" class="CatchallClause"> </a><a id="10103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10103" class="CatchallClause Bound">initialAddr</a><a id="10114" class="CatchallClause"> </a><a id="10115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10115" class="CatchallClause Bound">lastCallAddr</a><a id="10127" class="CatchallClause"> </a><a id="10128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10128" class="CatchallClause Bound">calledAddr</a>
                 <a id="10156" class="CatchallClause Symbol">(</a><a id="10157" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="10161" class="CatchallClause"> </a><a id="10162" class="CatchallClause Symbol">(</a><a id="10163" href="Complex-Model.ccomand.ccommands-cresponse.html#730" class="CatchallClause InductiveConstructor">callPure</a><a id="10171" class="CatchallClause"> </a><a id="10172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10172" class="CatchallClause Bound">addr</a><a id="10176" class="CatchallClause"> </a><a id="10177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10177" class="CatchallClause Bound">fname</a><a id="10182" class="CatchallClause"> </a><a id="10183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10183" class="CatchallClause Bound">msg</a><a id="10186" class="CatchallClause Symbol">)</a><a id="10187" class="CatchallClause"> </a><a id="10188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10188" class="CatchallClause Bound">costcomputecont</a><a id="10203" class="CatchallClause"> </a><a id="10204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10204" class="CatchallClause Bound">cont</a><a id="10208" class="CatchallClause Symbol">)</a><a id="10209" class="CatchallClause"> </a><a id="10210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10210" class="CatchallClause Bound">gasLeft</a>
                  <a id="10236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10236" class="CatchallClause Bound">funNameevalState</a><a id="10252" class="CatchallClause"> </a><a id="10253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10253" class="CatchallClause Bound">msgevalState</a><a id="10265" class="CatchallClause Symbol">)</a>
                  <a id="10285" class="Symbol">=</a> <a id="10287" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="10295" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10074" class="Bound">currentLedger</a> <a id="10309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10088" class="Bound">executionStack</a> <a id="10324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10103" class="Bound">initialAddr</a> <a id="10336" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10115" class="Bound">lastCallAddr</a> <a id="10349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10128" class="Bound">calledAddr</a>
                    <a id="10380" class="Symbol">(</a><a id="10381" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10204" class="Bound">cont</a> <a id="10386" class="Symbol">(</a><a id="10387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10074" class="Bound">currentLedger</a> <a id="10401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10172" class="Bound">addr</a> <a id="10406" class="Symbol">.</a><a id="10407" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a> <a id="10420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10177" class="Bound">fname</a> <a id="10426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10183" class="Bound">msg</a><a id="10429" class="Symbol">))</a>
                    <a id="10452" class="Symbol">(</a><a id="10453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10210" class="Bound">gasLeft</a> <a id="10461" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="10463" class="Symbol">(</a><a id="10464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10188" class="Bound">costcomputecont</a> <a id="10480" class="Symbol">(</a><a id="10481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10074" class="Bound">currentLedger</a> <a id="10495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10172" class="Bound">addr</a> <a id="10500" class="Symbol">.</a><a id="10501" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a> <a id="10514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10177" class="Bound">fname</a> <a id="10520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10183" class="Bound">msg</a><a id="10523" class="Symbol">)))</a> <a id="10527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10177" class="Bound">fname</a> <a id="10533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10183" class="Bound">msg</a>


<a id="10539" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="10583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10583" class="Function">stepEFgasAvailable</a> <a id="10602" class="Symbol">:</a> <a id="10604" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="10617" class="Symbol">→</a> <a id="10619" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="10621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10583" class="Function">stepEFgasAvailable</a> <a id="10640" class="Symbol">(</a><a id="10641" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="10649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10649" class="Bound">ledger</a> <a id="10656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10656" class="Bound">executionStack</a> <a id="10671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10671" class="Bound">initialAddr</a>
                   <a id="10702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10702" class="Bound">lastCallAddr</a> <a id="10715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10715" class="Bound">calledAddr</a>
                   <a id="10745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10745" class="Bound">nextstep</a> <a id="10754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10754" class="Bound">gasLeft</a>  <a id="10763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10763" class="Bound">funNameevalState</a> <a id="10780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10780" class="Bound">msgevalState</a><a id="10792" class="Symbol">)</a>
                   <a id="10813" class="Symbol">=</a> <a id="10815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10754" class="Bound">gasLeft</a>


<a id="10825" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="10882" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="10915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="Function">stepEFgasNeeded</a> <a id="10931" class="Symbol">:</a> <a id="10933" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="10946" class="Symbol">→</a> <a id="10948" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="10950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="Function">stepEFgasNeeded</a>  <a id="10967" class="Symbol">(</a><a id="10968" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="10976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10976" class="Bound">currentLedger</a> <a id="10990" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10993" class="Bound">initialAddr</a> <a id="11005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11005" class="Bound">lastCallAddr</a> <a id="11018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11018" class="Bound">calledAddr</a>
                 <a id="11046" class="Symbol">(</a><a id="11047" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="11054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11054" class="Bound">cost</a> <a id="11059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11059" class="Bound">result</a><a id="11065" class="Symbol">)</a> <a id="11067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11067" class="Bound">gasLeft</a>  <a id="11076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11076" class="Bound">funNameevalState</a> <a id="11093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11093" class="Bound">msgevalState</a><a id="11105" class="Symbol">)</a>
       <a id="11114" class="Symbol">=</a> <a id="11116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11054" class="Bound">cost</a> 
<a id="11122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="Function">stepEFgasNeeded</a>  <a id="11139" class="Symbol">(</a><a id="11140" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="11148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11148" class="Bound">currentLedger</a> <a id="11162" class="Symbol">(</a><a id="11163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11163" class="Bound">execSEl</a> <a id="11171" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11173" class="Bound">executionStack</a><a id="11187" class="Symbol">)</a> <a id="11189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11189" class="Bound">initialAddr</a> <a id="11201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11201" class="Bound">lastCallAddr</a> <a id="11214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11214" class="Bound">calledAddr</a>
                 <a id="11242" class="Symbol">(</a><a id="11243" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="11250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11250" class="Bound">cost</a> <a id="11255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11255" class="Bound">result</a><a id="11261" class="Symbol">)</a> <a id="11263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11263" class="Bound">gasLeft</a>  <a id="11272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11272" class="Bound">funNameevalState</a> <a id="11289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11289" class="Bound">msgevalState</a><a id="11301" class="Symbol">)</a>
       <a id="11310" class="Symbol">=</a> <a id="11312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11250" class="Bound">cost</a> 

<a id="11319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="11334" class="CatchallClause"> </a><a id="11335" class="CatchallClause Symbol">(</a><a id="11336" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="11343" class="CatchallClause"> </a><a id="11344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11344" class="CatchallClause Bound">currentLedger</a><a id="11357" class="CatchallClause"> </a><a id="11358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11358" class="CatchallClause Bound">executionStack</a><a id="11372" class="CatchallClause"> </a><a id="11373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11373" class="CatchallClause Bound">initialAddr</a><a id="11384" class="CatchallClause"> </a><a id="11385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11385" class="CatchallClause Bound">lastCallAddr</a><a id="11397" class="CatchallClause"> </a><a id="11398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11398" class="CatchallClause Bound">calledAddr</a>
                 <a id="11426" class="CatchallClause Symbol">(</a><a id="11427" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="11431" class="CatchallClause"> </a><a id="11432" href="Complex-Model.ccomand.ccommands-cresponse.html#608" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="11450" class="CatchallClause"> </a><a id="11451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11451" class="CatchallClause Bound">costcomputecont</a><a id="11466" class="CatchallClause"> </a><a id="11467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11467" class="CatchallClause Bound">cont</a><a id="11471" class="CatchallClause Symbol">)</a>
                 <a id="11490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11490" class="CatchallClause Bound">gasLeft</a><a id="11497" class="CatchallClause">  </a><a id="11499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11499" class="CatchallClause Bound">funNameevalState</a><a id="11515" class="CatchallClause"> </a><a id="11516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11516" class="CatchallClause Bound">msgevalState</a><a id="11528" class="CatchallClause Symbol">)</a>
       <a id="11537" class="Symbol">=</a> <a id="11539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11451" class="Bound">costcomputecont</a> <a id="11555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11398" class="Bound">calledAddr</a>

<a id="11567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="11582" class="CatchallClause"> </a><a id="11583" class="CatchallClause Symbol">(</a><a id="11584" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="11591" class="CatchallClause"> </a><a id="11592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11592" class="CatchallClause Bound">currentLedger</a><a id="11605" class="CatchallClause"> </a><a id="11606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11606" class="CatchallClause Bound">executionStack</a><a id="11620" class="CatchallClause"> </a><a id="11621" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11621" class="CatchallClause Bound">initialAddr</a><a id="11632" class="CatchallClause"> </a><a id="11633" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11633" class="CatchallClause Bound">lastCallAddr</a><a id="11645" class="CatchallClause"> </a><a id="11646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11646" class="CatchallClause Bound">calledAddr</a>
                 <a id="11674" class="CatchallClause Symbol">(</a><a id="11675" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="11679" class="CatchallClause"> </a><a id="11680" href="Complex-Model.ccomand.ccommands-cresponse.html#643" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="11695" class="CatchallClause"> </a><a id="11696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11696" class="CatchallClause Bound">costcomputecont</a><a id="11711" class="CatchallClause"> </a><a id="11712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11712" class="CatchallClause Bound">cont</a><a id="11716" class="CatchallClause Symbol">)</a>
                 <a id="11735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11735" class="CatchallClause Bound">gasLeft</a><a id="11742" class="CatchallClause">  </a><a id="11744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11744" class="CatchallClause Bound">funNameevalState</a><a id="11760" class="CatchallClause"> </a><a id="11761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11761" class="CatchallClause Bound">msgevalState</a><a id="11773" class="CatchallClause Symbol">)</a>
       <a id="11782" class="Symbol">=</a> <a id="11784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11696" class="Bound">costcomputecont</a> <a id="11800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11633" class="Bound">lastCallAddr</a>

<a id="11814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="11829" class="CatchallClause"> </a><a id="11830" class="CatchallClause Symbol">(</a><a id="11831" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="11838" class="CatchallClause"> </a><a id="11839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11839" class="CatchallClause Bound">currentLedger</a><a id="11852" class="CatchallClause"> </a><a id="11853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11853" class="CatchallClause Bound">executionStack</a><a id="11867" class="CatchallClause"> </a><a id="11868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11868" class="CatchallClause Bound">initialAddr</a><a id="11879" class="CatchallClause"> </a><a id="11880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11880" class="CatchallClause Bound">lastCallAddr</a><a id="11892" class="CatchallClause"> </a><a id="11893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11893" class="CatchallClause Bound">calledAddr</a>
                 <a id="11921" class="CatchallClause Symbol">(</a><a id="11922" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="11926" class="CatchallClause"> </a><a id="11927" class="CatchallClause Symbol">(</a><a id="11928" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">updatec</a><a id="11935" class="CatchallClause"> </a><a id="11936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="CatchallClause Bound">changedFname</a><a id="11948" class="CatchallClause"> </a><a id="11949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11949" class="CatchallClause Bound">changedPufun</a><a id="11961" class="CatchallClause"> </a><a id="11962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11962" class="CatchallClause Bound">cost</a><a id="11966" class="CatchallClause Symbol">)</a><a id="11967" class="CatchallClause"> </a><a id="11968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11968" class="CatchallClause Bound">costcomputecont</a><a id="11983" class="CatchallClause"> </a><a id="11984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11984" class="CatchallClause Bound">cont</a><a id="11988" class="CatchallClause Symbol">)</a>  
                 <a id="12009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12009" class="CatchallClause Bound">gasLeft</a><a id="12016" class="CatchallClause">  </a><a id="12018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12018" class="CatchallClause Bound">funNameevalState</a><a id="12034" class="CatchallClause"> </a><a id="12035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12035" class="CatchallClause Bound">msgevalState</a><a id="12047" class="CatchallClause Symbol">)</a>
       <a id="12056" class="Symbol">=</a> <a id="12058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11962" class="Bound">cost</a> <a id="12063" class="Symbol">(</a><a id="12064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11839" class="Bound">currentLedger</a> <a id="12078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11893" class="Bound">calledAddr</a> <a id="12089" class="Symbol">.</a><a id="12090" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a> <a id="12103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="Bound">changedFname</a><a id="12115" class="Symbol">)</a> <a id="12117" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="12119" class="Symbol">(</a><a id="12120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11968" class="Bound">costcomputecont</a> <a id="12136" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="12138" class="Symbol">)</a> 
   

<a id="12146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="12161" class="CatchallClause"> </a><a id="12162" class="CatchallClause Symbol">(</a><a id="12163" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="12170" class="CatchallClause"> </a><a id="12171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12171" class="CatchallClause Bound">currentLedger</a><a id="12184" class="CatchallClause"> </a><a id="12185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12185" class="CatchallClause Bound">executionStack</a><a id="12199" class="CatchallClause"> </a><a id="12200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12200" class="CatchallClause Bound">initialAddr</a><a id="12211" class="CatchallClause"> </a><a id="12212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12212" class="CatchallClause Bound">oldlastCallAddr</a><a id="12227" class="CatchallClause"> </a><a id="12228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12228" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="12259" class="CatchallClause Symbol">(</a><a id="12260" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="12264" class="CatchallClause"> </a><a id="12265" class="CatchallClause Symbol">(</a><a id="12266" href="Complex-Model.ccomand.ccommands-cresponse.html#675" class="CatchallClause InductiveConstructor">callc</a><a id="12271" class="CatchallClause"> </a><a id="12272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12272" class="CatchallClause Bound">newaddr</a><a id="12279" class="CatchallClause"> </a><a id="12280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12280" class="CatchallClause Bound">fname</a><a id="12285" class="CatchallClause"> </a><a id="12286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12286" class="CatchallClause Bound">msg</a><a id="12289" class="CatchallClause Symbol">)</a><a id="12290" class="CatchallClause"> </a><a id="12291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12291" class="CatchallClause Bound">costcomputecont</a><a id="12306" class="CatchallClause"> </a><a id="12307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12307" class="CatchallClause Bound">cont</a><a id="12311" class="CatchallClause Symbol">)</a>
                 <a id="12330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12330" class="CatchallClause Bound">gasLeft</a><a id="12337" class="CatchallClause">  </a><a id="12339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12339" class="CatchallClause Bound">funNameevalState</a><a id="12355" class="CatchallClause"> </a><a id="12356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12356" class="CatchallClause Bound">msgevalState</a><a id="12368" class="CatchallClause Symbol">)</a>
       <a id="12377" class="Symbol">=</a> <a id="12379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12291" class="Bound">costcomputecont</a> <a id="12395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12286" class="Bound">msg</a>

<a id="12400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="12415" class="CatchallClause"> </a><a id="12416" class="CatchallClause Symbol">(</a><a id="12417" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="12424" class="CatchallClause"> </a><a id="12425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12425" class="CatchallClause Bound">currentLedger</a><a id="12438" class="CatchallClause"> </a><a id="12439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12439" class="CatchallClause Bound">executionStack</a><a id="12453" class="CatchallClause"> </a><a id="12454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12454" class="CatchallClause Bound">initialAddr</a><a id="12465" class="CatchallClause"> </a><a id="12466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12466" class="CatchallClause Bound">lastCallAddr</a><a id="12478" class="CatchallClause"> </a><a id="12479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12479" class="CatchallClause Bound">calledAddr</a>
                 <a id="12507" class="CatchallClause Symbol">(</a><a id="12508" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="12512" class="CatchallClause"> </a><a id="12513" class="CatchallClause Symbol">(</a><a id="12514" href="Complex-Model.ccomand.ccommands-cresponse.html#816" class="CatchallClause InductiveConstructor">transferc</a><a id="12523" class="CatchallClause"> </a><a id="12524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12524" class="CatchallClause Bound">amount</a><a id="12530" class="CatchallClause"> </a><a id="12531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12531" class="CatchallClause Bound">destinationAddr</a><a id="12546" class="CatchallClause Symbol">)</a><a id="12547" class="CatchallClause"> </a><a id="12548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12548" class="CatchallClause Bound">costcomputecont</a><a id="12563" class="CatchallClause"> </a><a id="12564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12564" class="CatchallClause Bound">cont</a><a id="12568" class="CatchallClause Symbol">)</a>
                 <a id="12587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12587" class="CatchallClause Bound">gasLeft</a><a id="12594" class="CatchallClause">  </a><a id="12596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12596" class="CatchallClause Bound">funNameevalState</a><a id="12612" class="CatchallClause"> </a><a id="12613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12613" class="CatchallClause Bound">msgevalState</a><a id="12625" class="CatchallClause Symbol">)</a>
       <a id="12634" class="Symbol">=</a> <a id="12636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12548" class="Bound">costcomputecont</a> <a id="12652" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

<a id="12656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="12671" class="CatchallClause"> </a><a id="12672" class="CatchallClause Symbol">(</a><a id="12673" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="12680" class="CatchallClause"> </a><a id="12681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12681" class="CatchallClause Bound">currentLedger</a><a id="12694" class="CatchallClause"> </a><a id="12695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12695" class="CatchallClause Bound">executionStack</a><a id="12709" class="CatchallClause"> </a><a id="12710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12710" class="CatchallClause Bound">initialAddr</a><a id="12721" class="CatchallClause"> </a><a id="12722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12722" class="CatchallClause Bound">lastCallAddr</a><a id="12734" class="CatchallClause"> </a><a id="12735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12735" class="CatchallClause Bound">calledAddr</a>
                 <a id="12763" class="CatchallClause Symbol">(</a><a id="12764" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="12768" class="CatchallClause"> </a><a id="12769" class="CatchallClause Symbol">(</a><a id="12770" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">getAmountc</a><a id="12780" class="CatchallClause">  </a><a id="12782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12782" class="CatchallClause Bound">addrLookedUp</a><a id="12794" class="CatchallClause Symbol">)</a><a id="12795" class="CatchallClause"> </a><a id="12796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12796" class="CatchallClause Bound">costcomputecont</a><a id="12811" class="CatchallClause"> </a><a id="12812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12812" class="CatchallClause Bound">cont</a><a id="12816" class="CatchallClause Symbol">)</a>
                 <a id="12835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12835" class="CatchallClause Bound">gasLeft</a><a id="12842" class="CatchallClause">  </a><a id="12844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12844" class="CatchallClause Bound">funNameevalState</a><a id="12860" class="CatchallClause"> </a><a id="12861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12861" class="CatchallClause Bound">msgevalState</a><a id="12873" class="CatchallClause Symbol">)</a>
       <a id="12882" class="Symbol">=</a> <a id="12884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12796" class="Bound">costcomputecont</a> <a id="12900" class="Symbol">(</a><a id="12901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12681" class="Bound">currentLedger</a> <a id="12915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12782" class="Bound">addrLookedUp</a> <a id="12928" class="Symbol">.</a><a id="12929" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="12935" class="Symbol">)</a>

      
<a id="12945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="12960" class="CatchallClause"> </a><a id="12961" class="CatchallClause Symbol">(</a><a id="12962" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="12969" class="CatchallClause"> </a><a id="12970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12970" class="CatchallClause Bound">ledger</a><a id="12976" class="CatchallClause"> </a><a id="12977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12977" class="CatchallClause Bound">executionStack</a><a id="12991" class="CatchallClause"> </a><a id="12992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12992" class="CatchallClause Bound">initialAddr</a><a id="13003" class="CatchallClause"> </a><a id="13004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13004" class="CatchallClause Bound">lastCallAddr</a><a id="13016" class="CatchallClause"> </a><a id="13017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13017" class="CatchallClause Bound">calledAddr</a>
                 <a id="13045" class="CatchallClause Symbol">(</a><a id="13046" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="13050" class="CatchallClause"> </a><a id="13051" class="CatchallClause Symbol">(</a><a id="13052" href="Complex-Model.ccomand.ccommands-cresponse.html#899" class="CatchallClause InductiveConstructor">raiseException</a><a id="13066" class="CatchallClause"> </a><a id="13067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13067" class="CatchallClause Bound">cost</a><a id="13071" class="CatchallClause"> </a><a id="13072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13072" class="CatchallClause Bound">str</a><a id="13075" class="CatchallClause Symbol">)</a><a id="13076" class="CatchallClause"> </a><a id="13077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13077" class="CatchallClause Bound">costcomputecont</a><a id="13092" class="CatchallClause"> </a><a id="13093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13093" class="CatchallClause Bound">cont</a><a id="13097" class="CatchallClause Symbol">)</a>
                 <a id="13116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13116" class="CatchallClause Bound">gasLeft</a><a id="13123" class="CatchallClause"> </a><a id="13124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13124" class="CatchallClause Bound">funNameevalState</a><a id="13140" class="CatchallClause"> </a><a id="13141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13141" class="CatchallClause Bound">msgevalState</a><a id="13153" class="CatchallClause Symbol">)</a>
                 <a id="13172" class="Symbol">=</a> <a id="13174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13067" class="Bound">cost</a> 

<a id="13181" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="13196" class="CatchallClause"> </a><a id="13197" class="CatchallClause Symbol">(</a><a id="13198" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="13205" class="CatchallClause"> </a><a id="13206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13206" class="CatchallClause Bound">currentLedger</a><a id="13219" class="CatchallClause"> </a><a id="13220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13220" class="CatchallClause Bound">executionStack</a><a id="13234" class="CatchallClause"> </a><a id="13235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13235" class="CatchallClause Bound">initialAddr</a><a id="13246" class="CatchallClause"> </a><a id="13247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13247" class="CatchallClause Bound">lastCallAddr</a><a id="13259" class="CatchallClause"> </a><a id="13260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13260" class="CatchallClause Bound">calledAddr</a>
                 <a id="13288" class="CatchallClause Symbol">(</a><a id="13289" href="Complex-Model.ccomand.ccommands-cresponse.html#1636" class="CatchallClause InductiveConstructor">exec</a><a id="13293" class="CatchallClause"> </a><a id="13294" class="CatchallClause Symbol">(</a><a id="13295" href="Complex-Model.ccomand.ccommands-cresponse.html#730" class="CatchallClause InductiveConstructor">callPure</a><a id="13303" class="CatchallClause"> </a><a id="13304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13304" class="CatchallClause Bound">addr</a><a id="13308" class="CatchallClause"> </a><a id="13309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13309" class="CatchallClause Bound">fname</a><a id="13314" class="CatchallClause"> </a><a id="13315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13315" class="CatchallClause Bound">msg</a><a id="13318" class="CatchallClause Symbol">)</a><a id="13319" class="CatchallClause"> </a><a id="13320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13320" class="CatchallClause Bound">costcompute</a><a id="13331" class="CatchallClause"> </a><a id="13332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13332" class="CatchallClause Bound">cont</a><a id="13336" class="CatchallClause Symbol">)</a>
                 <a id="13355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13355" class="CatchallClause Bound">gasLeft</a><a id="13362" class="CatchallClause">  </a><a id="13364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13364" class="CatchallClause Bound">funNameevalState</a><a id="13380" class="CatchallClause"> </a><a id="13381" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13381" class="CatchallClause Bound">msgevalState</a><a id="13393" class="CatchallClause Symbol">)</a>
       <a id="13402" class="Symbol">=</a> <a id="13404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13320" class="Bound">costcompute</a> <a id="13416" class="Symbol">(</a><a id="13417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13206" class="Bound">currentLedger</a> <a id="13431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13260" class="Bound">calledAddr</a> <a id="13442" class="Symbol">.</a><a id="13443" href="libraries.Mainlibrary.html#888" class="Field">purefunction</a> <a id="13456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13309" class="Bound">fname</a> <a id="13462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13315" class="Bound">msg</a><a id="13465" class="Symbol">)</a>


<a id="13469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="CatchallClause Function">stepEFgasNeeded</a><a id="13484" class="CatchallClause"> </a><a id="13485" class="CatchallClause Symbol">(</a><a id="13486" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="13493" class="CatchallClause"> </a><a id="13494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13494" class="CatchallClause Bound">currentLedger</a><a id="13507" class="CatchallClause"> </a><a id="13508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13508" class="CatchallClause Bound">executionStack</a><a id="13522" class="CatchallClause"> </a><a id="13523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13523" class="CatchallClause Bound">initialAddr</a><a id="13534" class="CatchallClause"> </a><a id="13535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13535" class="CatchallClause Bound">lastCallAddr</a><a id="13547" class="CatchallClause"> </a><a id="13548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13548" class="CatchallClause Bound">calledAddr</a>
                 <a id="13576" class="CatchallClause Symbol">(</a><a id="13577" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="CatchallClause InductiveConstructor">error</a><a id="13582" class="CatchallClause"> </a><a id="13583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13583" class="CatchallClause Bound">errorMsg</a><a id="13591" class="CatchallClause"> </a><a id="13592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13592" class="CatchallClause Bound">debuginfo</a><a id="13601" class="CatchallClause Symbol">)</a><a id="13602" class="CatchallClause"> </a><a id="13603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13603" class="CatchallClause Bound">gasLeft</a><a id="13610" class="CatchallClause">  </a><a id="13612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13612" class="CatchallClause Bound">funNameevalState</a><a id="13628" class="CatchallClause"> </a><a id="13629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13629" class="CatchallClause Bound">msgevalState</a><a id="13641" class="CatchallClause Symbol">)</a>
       <a id="13650" class="Symbol">=</a> <a id="13652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="13658" class="Symbol">.</a><a id="13659" href="constantparameters.html#705" class="Field">costerror</a> <a id="13669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13583" class="Bound">errorMsg</a> 


<a id="13681" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="13747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13747" class="Function">deductGas</a> <a id="13757" class="Symbol">:</a> <a id="13759" class="Symbol">(</a><a id="13760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13760" class="Bound">statefun</a> <a id="13769" class="Symbol">:</a> <a id="13771" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a><a id="13783" class="Symbol">)(</a><a id="13785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13785" class="Bound">gasDeducted</a> <a id="13797" class="Symbol">:</a> <a id="13799" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="13800" class="Symbol">)</a>
            <a id="13814" class="Symbol">→</a> <a id="13816" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="13829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13747" class="Function">deductGas</a> <a id="13839" class="Symbol">(</a><a id="13840" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="13848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13848" class="Bound">ledger</a> <a id="13855" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13855" class="Bound">executionStack</a> <a id="13870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13870" class="Bound">initialAddr</a> <a id="13882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13882" class="Bound">lastCallAddr</a> <a id="13895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13895" class="Bound">calledAddr</a> <a id="13906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13906" class="Bound">nextstep</a>
            <a id="13927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13927" class="Bound">gasLeft</a>  <a id="13936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13936" class="Bound">funNameevalState</a> <a id="13953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13953" class="Bound">msgevalState</a><a id="13965" class="Symbol">)</a> <a id="13967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13967" class="Bound">gasDeducted</a>
       <a id="13986" class="Symbol">=</a> <a id="13988" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="13996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13848" class="Bound">ledger</a> <a id="14003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13855" class="Bound">executionStack</a> <a id="14018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13870" class="Bound">initialAddr</a> <a id="14030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13882" class="Bound">lastCallAddr</a> <a id="14043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13895" class="Bound">calledAddr</a> <a id="14054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13906" class="Bound">nextstep</a>
       <a id="14070" class="Symbol">(</a><a id="14071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13927" class="Bound">gasLeft</a> <a id="14079" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="14081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13967" class="Bound">gasDeducted</a><a id="14092" class="Symbol">)</a>  <a id="14095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13936" class="Bound">funNameevalState</a> <a id="14112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13953" class="Bound">msgevalState</a>



<a id="14128" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>

<a id="stepEFAuxCompare"></a><a id="14213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14213" class="Function">stepEFAuxCompare</a> <a id="14230" class="Symbol">:</a> <a id="14232" class="Symbol">(</a><a id="14233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14233" class="Bound">oldLedger</a> <a id="14243" class="Symbol">:</a> <a id="14245" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="14251" class="Symbol">)</a> <a id="14253" class="Symbol">→</a> <a id="14255" class="Symbol">(</a><a id="14256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14256" class="Bound">statefun</a> <a id="14265" class="Symbol">:</a> <a id="14267" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a><a id="14279" class="Symbol">)</a>
                   <a id="14300" class="Symbol">→</a> <a id="14302" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="14314" class="Symbol">(</a><a id="14315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="Function">stepEFgasNeeded</a> <a id="14331" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14256" class="Bound">statefun</a><a id="14339" class="Symbol">)</a> <a id="14341" class="Symbol">(</a><a id="14342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10583" class="Function">stepEFgasAvailable</a> <a id="14361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14256" class="Bound">statefun</a><a id="14369" class="Symbol">)</a>
                   <a id="14390" class="Symbol">→</a> <a id="14392" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="14405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14213" class="Function">stepEFAuxCompare</a> <a id="14422" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14422" class="Bound">oldLedger</a> <a id="14432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14432" class="Bound">statefun</a> <a id="14441" class="Symbol">(</a><a id="14442" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="14446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14446" class="Bound">x</a><a id="14447" class="Symbol">)</a> <a id="14449" class="Symbol">=</a> <a id="14451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13747" class="Function">deductGas</a> <a id="14461" class="Symbol">(</a><a id="14462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5834" class="Function">stepEF</a> <a id="14469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14422" class="Bound">oldLedger</a> <a id="14479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14432" class="Bound">statefun</a><a id="14487" class="Symbol">)</a> <a id="14489" class="Symbol">(</a><a id="14490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="Function">stepEFgasNeeded</a> <a id="14506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14432" class="Bound">statefun</a><a id="14514" class="Symbol">)</a>
<a id="14516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14213" class="Function">stepEFAuxCompare</a> <a id="14533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14533" class="Bound">oldLedger</a> <a id="14543" class="Symbol">(</a><a id="14544" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="14552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14552" class="Bound">ledger</a> <a id="14559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14559" class="Bound">executionStack</a> <a id="14574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14574" class="Bound">initialAddr</a> <a id="14586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14586" class="Bound">lastCallAddr</a> <a id="14599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14599" class="Bound">calledAddr</a> <a id="14610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14610" class="Bound">nextstep</a>
                           <a id="14646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14646" class="Bound">gasLeft</a>  <a id="14655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14655" class="Bound">funNameevalState</a> <a id="14672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14672" class="Bound">msgevalState</a><a id="14684" class="Symbol">)</a> <a id="14686" class="Symbol">(</a><a id="14687" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="14695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14695" class="Bound">x</a><a id="14696" class="Symbol">)</a>
        <a id="14706" class="Symbol">=</a> <a id="14708" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="14716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14533" class="Bound">oldLedger</a> <a id="14726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14559" class="Bound">executionStack</a> <a id="14741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14574" class="Bound">initialAddr</a> <a id="14753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14586" class="Bound">lastCallAddr</a> <a id="14766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14599" class="Bound">calledAddr</a> <a id="14777" class="Symbol">(</a><a id="14778" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="InductiveConstructor">error</a> <a id="14784" href="basicDataStructure.html#727" class="InductiveConstructor">outOfGasError</a>
            <a id="14810" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="14812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14586" class="Bound">lastCallAddr</a> <a id="14825" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="14828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14574" class="Bound">initialAddr</a> <a id="14840" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="14842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14655" class="Bound">funNameevalState</a> <a id="14859" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="14861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14672" class="Bound">msgevalState</a> <a id="14874" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="14876" class="Symbol">)</a> <a id="14878" class="Number">0</a>
            <a id="14892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14655" class="Bound">funNameevalState</a> <a id="14909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14672" class="Bound">msgevalState</a>



<a id="stepEFwithGasError"></a><a id="14925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14925" class="Function">stepEFwithGasError</a> <a id="14944" class="Symbol">:</a> <a id="14946" class="Symbol">(</a><a id="14947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14947" class="Bound">oldLedger</a> <a id="14957" class="Symbol">:</a> <a id="14959" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="14965" class="Symbol">)</a> <a id="14967" class="Symbol">→</a> <a id="14969" class="Symbol">(</a><a id="14970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14970" class="Bound">statefun</a> <a id="14979" class="Symbol">:</a> <a id="14981" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a><a id="14993" class="Symbol">)</a> <a id="14995" class="Symbol">→</a> <a id="14997" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="15010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14925" class="Function">stepEFwithGasError</a> <a id="15029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15029" class="Bound">oldLedger</a> <a id="15039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15039" class="Bound">statefun</a>  <a id="15049" class="Symbol">=</a> <a id="15051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14213" class="Function">stepEFAuxCompare</a> <a id="15068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15029" class="Bound">oldLedger</a> <a id="15078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15039" class="Bound">statefun</a>
                                      <a id="15125" class="Symbol">(</a><a id="15126" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="15137" class="Symbol">(</a><a id="15138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10915" class="Function">stepEFgasNeeded</a> <a id="15154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15039" class="Bound">statefun</a><a id="15162" class="Symbol">)</a>
                                      <a id="15202" class="Symbol">(</a><a id="15203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10583" class="Function">stepEFgasAvailable</a> <a id="15222" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15039" class="Bound">statefun</a><a id="15230" class="Symbol">))</a>







<a id="stepEFntimes"></a><a id="15240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15240" class="Function">stepEFntimes</a> <a id="15253" class="Symbol">:</a> <a id="15255" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="15262" class="Symbol">→</a> <a id="15264" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="15277" class="Symbol">→</a> <a id="15279" class="Symbol">(</a><a id="15280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15280" class="Bound">ntimes</a> <a id="15287" class="Symbol">:</a> <a id="15289" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15290" class="Symbol">)</a> <a id="15292" class="Symbol">→</a> <a id="15294" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="15307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15240" class="Function">stepEFntimes</a> <a id="15320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15320" class="Bound">oldLedger</a> <a id="15330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15330" class="Bound">ledgerstateexecfun</a> <a id="15349" class="Number">0</a>
             <a id="15364" class="Symbol">=</a> <a id="15366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15330" class="Bound">ledgerstateexecfun</a>
<a id="15385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15240" class="Function">stepEFntimes</a> <a id="15398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15398" class="Bound">oldLedger</a> <a id="15408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15408" class="Bound">ledgerstateexecfun</a> <a id="15427" class="Symbol">(</a><a id="15428" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15432" class="Bound">n</a><a id="15433" class="Symbol">)</a>
             <a id="15448" class="Symbol">=</a> <a id="15450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14925" class="Function">stepEFwithGasError</a> <a id="15469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15398" class="Bound">oldLedger</a> <a id="15479" class="Symbol">(</a><a id="15480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15240" class="Function">stepEFntimes</a> <a id="15493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15398" class="Bound">oldLedger</a> <a id="15503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15408" class="Bound">ledgerstateexecfun</a> <a id="15522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15432" class="Bound">n</a><a id="15523" class="Symbol">)</a>
                     



<a id="stepEFntimesList"></a><a id="15550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15550" class="Function">stepEFntimesList</a> <a id="15567" class="Symbol">:</a> <a id="15569" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="15576" class="Symbol">→</a> <a id="15578" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="15591" class="Symbol">→</a> <a id="15593" class="Symbol">(</a><a id="15594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15594" class="Bound">ntimes</a> <a id="15601" class="Symbol">:</a> <a id="15603" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15604" class="Symbol">)</a> <a id="15606" class="Symbol">→</a> <a id="15608" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="15613" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="15626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15550" class="Function">stepEFntimesList</a> <a id="15643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15643" class="Bound">oldLedger</a> <a id="15653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15653" class="Bound">ledgerstateexecfun</a> <a id="15672" class="Number">0</a>
                 <a id="15691" class="Symbol">=</a> <a id="15693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15653" class="Bound">ledgerstateexecfun</a> <a id="15712" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15714" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="15717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15550" class="Function">stepEFntimesList</a> <a id="15734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15734" class="Bound">oldLedger</a> <a id="15744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15744" class="Bound">ledgerstateexecfun</a> <a id="15763" class="Symbol">(</a><a id="15764" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15768" class="Bound">n</a><a id="15769" class="Symbol">)</a>
                 <a id="15788" class="Symbol">=</a> <a id="15790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15240" class="Function">stepEFntimes</a> <a id="15803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15734" class="Bound">oldLedger</a> <a id="15813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15744" class="Bound">ledgerstateexecfun</a> <a id="15832" class="Symbol">(</a><a id="15833" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15768" class="Bound">n</a><a id="15838" class="Symbol">)</a>
                   <a id="15859" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15550" class="Function">stepEFntimesList</a> <a id="15878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15734" class="Bound">oldLedger</a> <a id="15888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15744" class="Bound">ledgerstateexecfun</a> <a id="15907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15768" class="Bound">n</a>

<a id="15910" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="15972" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>

<a id="refund"></a><a id="16059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16059" class="Function">refund</a> <a id="16066" class="Symbol">:</a> <a id="16068" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="16081" class="Symbol">→</a>  <a id="16084" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="16097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16059" class="Function">refund</a> <a id="16104" class="Symbol">(</a><a id="16105" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="16113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16113" class="Bound">currentLedger</a> <a id="16127" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="16130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16130" class="Bound">initialAddr</a> <a id="16142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16142" class="Bound">lastCallAddr</a> <a id="16155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16155" class="Bound">calledAddr</a> <a id="16166" class="Symbol">(</a><a id="16167" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="16174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16174" class="Bound">cost</a> <a id="16179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16179" class="Bound">result</a><a id="16185" class="Symbol">)</a>
        <a id="16195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16195" class="Bound">gasLeft</a>  <a id="16204" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16204" class="Bound">funNameevalState</a> <a id="16221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16221" class="Bound">msgevalState</a><a id="16233" class="Symbol">)</a>
            <a id="16247" class="Symbol">=</a> <a id="16249" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="16257" class="Symbol">(</a><a id="16258" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="16273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16113" class="Bound">currentLedger</a> <a id="16287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16142" class="Bound">lastCallAddr</a> <a id="16300" class="Symbol">(</a><a id="16301" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="16310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="16316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16195" class="Bound">gasLeft</a><a id="16323" class="Symbol">))</a>
              <a id="16340" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="16343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16130" class="Bound">initialAddr</a> <a id="16355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16142" class="Bound">lastCallAddr</a> <a id="16368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16155" class="Bound">calledAddr</a> <a id="16379" class="Symbol">(</a><a id="16380" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="16387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16174" class="Bound">cost</a> <a id="16392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16179" class="Bound">result</a><a id="16398" class="Symbol">)</a>
               <a id="16415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16195" class="Bound">gasLeft</a>  
               <a id="16440" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16204" class="Bound">funNameevalState</a> <a id="16457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16221" class="Bound">msgevalState</a>
<a id="16470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16059" class="CatchallClause Function">refund</a><a id="16476" class="CatchallClause"> </a><a id="16477" class="CatchallClause Symbol">(</a><a id="16478" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="16485" class="CatchallClause"> </a><a id="16486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16486" class="CatchallClause Bound">currentLedger</a><a id="16499" class="CatchallClause"> </a><a id="16500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16500" class="CatchallClause Bound">executionStack</a><a id="16514" class="CatchallClause"> </a><a id="16515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16515" class="CatchallClause Bound">initialAddr</a><a id="16526" class="CatchallClause"> </a><a id="16527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16527" class="CatchallClause Bound">lastCallAddr</a><a id="16539" class="CatchallClause"> </a><a id="16540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16540" class="CatchallClause Bound">calledAddr</a>
       <a id="16558" class="CatchallClause Symbol">(</a><a id="16559" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="CatchallClause InductiveConstructor">error</a><a id="16564" class="CatchallClause"> </a><a id="16565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16565" class="CatchallClause Bound">errorMsg</a><a id="16573" class="CatchallClause"> </a><a id="16574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16574" class="CatchallClause Bound">debugInfo</a><a id="16583" class="CatchallClause Symbol">)</a><a id="16584" class="CatchallClause"> </a><a id="16585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16585" class="CatchallClause Bound">gasLeft</a><a id="16592" class="CatchallClause">  </a><a id="16594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16594" class="CatchallClause Bound">funNameevalState</a><a id="16610" class="CatchallClause"> </a><a id="16611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16611" class="CatchallClause Bound">msgevalState</a><a id="16623" class="CatchallClause Symbol">)</a>
            <a id="16637" class="Symbol">=</a> <a id="16639" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="16647" class="Symbol">(</a><a id="16648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="16663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16486" class="Bound">currentLedger</a>  <a id="16678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16527" class="Bound">lastCallAddr</a> <a id="16691" class="Symbol">(</a><a id="16692" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="16701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="16707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16585" class="Bound">gasLeft</a><a id="16714" class="Symbol">))</a>
              <a id="16731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16500" class="Bound">executionStack</a> <a id="16746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16515" class="Bound">initialAddr</a> <a id="16758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16527" class="Bound">lastCallAddr</a> <a id="16771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16540" class="Bound">calledAddr</a>
              <a id="16796" class="Symbol">(</a><a id="16797" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="InductiveConstructor">error</a> <a id="16803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16565" class="Bound">errorMsg</a> <a id="16812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16574" class="Bound">debugInfo</a><a id="16821" class="Symbol">)</a> <a id="16823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16585" class="Bound">gasLeft</a> 
               <a id="16847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16594" class="Bound">funNameevalState</a> <a id="16864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16611" class="Bound">msgevalState</a>
<a id="16877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16059" class="CatchallClause Function">refund</a><a id="16883" class="CatchallClause"> </a><a id="16884" class="CatchallClause Symbol">(</a><a id="16885" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="16892" class="CatchallClause"> </a><a id="16893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16893" class="CatchallClause Bound">ledger</a><a id="16899" class="CatchallClause"> </a><a id="16900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16900" class="CatchallClause Bound">executionStack</a><a id="16914" class="CatchallClause"> </a><a id="16915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16915" class="CatchallClause Bound">initialAddr</a><a id="16926" class="CatchallClause"> </a><a id="16927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16927" class="CatchallClause Bound">lastCallAddr</a><a id="16939" class="CatchallClause"> </a><a id="16940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16940" class="CatchallClause Bound">calledAddr</a>
        <a id="16959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16959" class="CatchallClause Bound">nextstep</a><a id="16967" class="CatchallClause"> </a><a id="16968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16968" class="CatchallClause Bound">gasLeft</a><a id="16975" class="CatchallClause">  </a><a id="16977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16977" class="CatchallClause Bound">funNameevalState</a><a id="16993" class="CatchallClause"> </a><a id="16994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16994" class="CatchallClause Bound">msgevalState</a><a id="17006" class="CatchallClause Symbol">)</a>
            <a id="17020" class="Symbol">=</a> <a id="17022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14925" class="Function">stepEFwithGasError</a> <a id="17041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16893" class="Bound">ledger</a> <a id="17048" class="Symbol">(</a><a id="17049" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="17057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16893" class="Bound">ledger</a> <a id="17064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16900" class="Bound">executionStack</a>
              <a id="17093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16915" class="Bound">initialAddr</a> <a id="17105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16927" class="Bound">lastCallAddr</a> <a id="17118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16940" class="Bound">calledAddr</a> <a id="17129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16959" class="Bound">nextstep</a> <a id="17138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16968" class="Bound">gasLeft</a>
                <a id="17162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16977" class="Bound">funNameevalState</a> <a id="17179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16994" class="Bound">msgevalState</a><a id="17191" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="17195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17195" class="Function">stepEFntimesWithRefund</a> <a id="17218" class="Symbol">:</a> <a id="17220" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="17227" class="Symbol">→</a> <a id="17229" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="17242" class="Symbol">→</a> <a id="17244" class="Symbol">(</a><a id="17245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17245" class="Bound">ntimes</a> <a id="17252" class="Symbol">:</a> <a id="17254" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17255" class="Symbol">)</a> <a id="17257" class="Symbol">→</a> <a id="17259" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="17272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17195" class="Function">stepEFntimesWithRefund</a> <a id="17295" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17295" class="Bound">oldLedger</a> <a id="17305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17305" class="Bound">ledgerstateexecfun</a> <a id="17324" class="Number">0</a>
                       <a id="17349" class="Symbol">=</a> <a id="17351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17305" class="Bound">ledgerstateexecfun</a>
<a id="17370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17195" class="Function">stepEFntimesWithRefund</a> <a id="17393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17393" class="Bound">oldLedger</a> <a id="17403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17403" class="Bound">ledgerstateexecfun</a> <a id="17422" class="Symbol">(</a><a id="17423" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="17427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17427" class="Bound">n</a><a id="17428" class="Symbol">)</a>
                       <a id="17453" class="Symbol">=</a> <a id="17455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16059" class="Function">refund</a> <a id="17462" class="Symbol">(</a><a id="17463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15240" class="Function">stepEFntimes</a> <a id="17476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17393" class="Bound">oldLedger</a> <a id="17486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17403" class="Bound">ledgerstateexecfun</a> <a id="17505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17427" class="Bound">n</a><a id="17506" class="Symbol">)</a>


<a id="17510" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="17590" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="17628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="Function">stepLedgerFunntimesAux</a> <a id="17651" class="Symbol">:</a> <a id="17653" class="Symbol">(</a><a id="17654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17654" class="Bound">ledger</a> <a id="17661" class="Symbol">:</a> <a id="17663" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="17669" class="Symbol">)</a> <a id="17671" class="Symbol">→</a> <a id="17673" class="Symbol">(</a><a id="17674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17674" class="Bound">initialAddr</a> <a id="17686" class="Symbol">:</a> <a id="17688" href="basicDataStructure.html#387" class="Function">Address</a><a id="17695" class="Symbol">)</a> <a id="17697" class="Symbol">→</a> <a id="17699" class="Symbol">(</a><a id="17700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17700" class="Bound">lastCallAddr</a> <a id="17713" class="Symbol">:</a> <a id="17715" href="basicDataStructure.html#387" class="Function">Address</a><a id="17722" class="Symbol">)</a> <a id="17724" class="Symbol">→</a> <a id="17726" class="Symbol">(</a><a id="17727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17727" class="Bound">calledAddr</a> <a id="17738" class="Symbol">:</a> <a id="17740" href="basicDataStructure.html#387" class="Function">Address</a><a id="17747" class="Symbol">)</a> <a id="17749" class="Symbol">→</a> <a id="17751" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                        <a id="17788" class="Symbol">→</a> <a id="17790" href="basicDataStructure.html#488" class="Datatype">Msg</a>  <a id="17795" class="Symbol">→</a> <a id="17797" class="Symbol">(</a><a id="17798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17798" class="Bound">gascost</a> <a id="17806" class="Symbol">:</a> <a id="17808" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17809" class="Symbol">)</a>  <a id="17812" class="Symbol">→</a> <a id="17814" class="Symbol">(</a><a id="17815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17815" class="Bound">ntimes</a> <a id="17822" class="Symbol">:</a> <a id="17824" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17825" class="Symbol">)</a>
                        <a id="17851" class="Symbol">→</a> <a id="17853" class="Symbol">(</a><a id="17854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17854" class="Bound">cp</a>  <a id="17858" class="Symbol">:</a> <a id="17860" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="17872" class="Symbol">(</a><a id="17873" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="17882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="17888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17798" class="Bound">gascost</a><a id="17895" class="Symbol">)</a> <a id="17897" class="Symbol">(</a><a id="17898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17654" class="Bound">ledger</a> <a id="17905" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17700" class="Bound">lastCallAddr</a> <a id="17918" class="Symbol">.</a><a id="17919" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="17925" class="Symbol">))</a>
                        <a id="17952" class="Symbol">→</a> <a id="17954" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="17960" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="17973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="Function">stepLedgerFunntimesAux</a> <a id="17996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17996" class="Bound">ledger</a> <a id="18003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18003" class="Bound">initialAddr</a> <a id="18015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18015" class="Bound">lastCallAddr</a> <a id="18028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18028" class="Bound">calledAddr</a> <a id="18039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18039" class="Bound">funname</a> <a id="18047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18047" class="Bound">msg</a> <a id="18051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18051" class="Bound">gascost</a>  <a id="18060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18060" class="Bound">ntimes</a>  <a id="18068" class="Symbol">(</a><a id="18069" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="18073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18073" class="Bound">leqpro</a><a id="18079" class="Symbol">)</a>
                             <a id="18110" class="Symbol">=</a> <a id="18112" class="Keyword">let</a>
                                 <a id="18149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18149" class="Bound">ledgerDeducted</a> <a id="18164" class="Symbol">:</a> <a id="18166" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a>
                                 <a id="18206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18149" class="Bound">ledgerDeducted</a> <a id="18221" class="Symbol">=</a> <a id="18223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="18243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17996" class="Bound">ledger</a> <a id="18250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18015" class="Bound">lastCallAddr</a> <a id="18263" class="Symbol">(</a><a id="18264" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="18273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="18279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18051" class="Bound">gascost</a><a id="18286" class="Symbol">)</a> <a id="18288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18073" class="Bound">leqpro</a>
                               <a id="18326" class="Keyword">in</a> <a id="18329" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="18334" class="Symbol">(</a><a id="18335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15240" class="Function">stepEFntimes</a> <a id="18348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18149" class="Bound">ledgerDeducted</a>
                               <a id="18394" class="Symbol">(</a><a id="18395" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="18403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18149" class="Bound">ledgerDeducted</a> <a id="18418" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="18421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18003" class="Bound">initialAddr</a> <a id="18433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18015" class="Bound">lastCallAddr</a> <a id="18446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18028" class="Bound">calledAddr</a>
                               <a id="18488" class="Symbol">(</a><a id="18489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18149" class="Bound">ledgerDeducted</a> <a id="18504" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18028" class="Bound">calledAddr</a> <a id="18515" class="Symbol">.</a><a id="18516" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="18520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18039" class="Bound">funname</a> <a id="18528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18047" class="Bound">msg</a><a id="18531" class="Symbol">)</a>
                               <a id="18564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18051" class="Bound">gascost</a> <a id="18572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18039" class="Bound">funname</a> <a id="18580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18047" class="Bound">msg</a><a id="18583" class="Symbol">)</a>
                               <a id="18616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18060" class="Bound">ntimes</a><a id="18622" class="Symbol">)</a>
                              
<a id="18655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="Function">stepLedgerFunntimesAux</a> <a id="18678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18678" class="Bound">ledger</a> <a id="18685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18685" class="Bound">initialAddr</a> <a id="18697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18697" class="Bound">lastCallAddr</a> <a id="18710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18710" class="Bound">calledAddr</a> <a id="18721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18721" class="Bound">funname</a> <a id="18729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18729" class="Bound">msg</a> <a id="18733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18733" class="Bound">gascost</a> <a id="18741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18741" class="Bound">ntimes</a> <a id="18748" class="Symbol">(</a><a id="18749" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="18757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18757" class="Bound">greaterpro</a><a id="18767" class="Symbol">)</a>
                             <a id="18798" class="Symbol">=</a> <a id="18800" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

<a id="18809" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="18893" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="18986" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="19062" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="19155" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="19254" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="19307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19307" class="Function">stepLedgerFunntimes</a> <a id="19327" class="Symbol">:</a> <a id="19329" class="Symbol">(</a><a id="19330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19330" class="Bound">ledger</a> <a id="19337" class="Symbol">:</a> <a id="19339" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="19345" class="Symbol">)</a>
                      <a id="19369" class="Symbol">→</a> <a id="19371" class="Symbol">(</a><a id="19372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19372" class="Bound">initialAddr</a> <a id="19384" class="Symbol">:</a> <a id="19386" href="basicDataStructure.html#387" class="Function">Address</a><a id="19393" class="Symbol">)</a>
                      <a id="19417" class="Symbol">→</a> <a id="19419" class="Symbol">(</a><a id="19420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19420" class="Bound">lastCallAddr</a> <a id="19433" class="Symbol">:</a> <a id="19435" href="basicDataStructure.html#387" class="Function">Address</a><a id="19442" class="Symbol">)</a>
                      <a id="19466" class="Symbol">→</a> <a id="19468" class="Symbol">(</a><a id="19469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19469" class="Bound">calledAddr</a> <a id="19480" class="Symbol">:</a> <a id="19482" href="basicDataStructure.html#387" class="Function">Address</a><a id="19489" class="Symbol">)</a>
                      <a id="19513" class="Symbol">→</a> <a id="19515" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="19550" class="Symbol">→</a> <a id="19552" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                      <a id="19578" class="Symbol">→</a> <a id="19580" class="Symbol">(</a><a id="19581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19581" class="Bound">gasreserved</a> <a id="19593" class="Symbol">:</a> <a id="19595" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19596" class="Symbol">)</a>

                      <a id="19621" class="Symbol">→</a> <a id="19623" class="Symbol">(</a><a id="19624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19624" class="Bound">ntimes</a> <a id="19631" class="Symbol">:</a> <a id="19633" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19634" class="Symbol">)</a>
                      <a id="19658" class="Symbol">→</a> <a id="19660" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="19666" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a>
<a id="19679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19307" class="Function">stepLedgerFunntimes</a> <a id="19699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19699" class="Bound">ledger</a> <a id="19706" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19706" class="Bound">initialAddr</a> <a id="19718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19718" class="Bound">lastCallAddr</a> <a id="19731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19731" class="Bound">calledAddr</a> <a id="19742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19742" class="Bound">funname</a> <a id="19750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19750" class="Bound">msg</a> <a id="19754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19754" class="Bound">gasreserved</a>  <a id="19767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19767" class="Bound">ntimes</a>
                     <a id="19795" class="Symbol">=</a> <a id="19797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="Function">stepLedgerFunntimesAux</a> <a id="19820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19699" class="Bound">ledger</a> <a id="19827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19706" class="Bound">initialAddr</a> <a id="19839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19718" class="Bound">lastCallAddr</a> <a id="19852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19731" class="Bound">calledAddr</a>
                       <a id="19886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19742" class="Bound">funname</a> <a id="19894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19750" class="Bound">msg</a> <a id="19898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19754" class="Bound">gasreserved</a>  <a id="19911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19767" class="Bound">ntimes</a>
                       <a id="19941" class="Symbol">(</a><a id="19942" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="19953" class="Symbol">(</a><a id="19954" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="19963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="19969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19754" class="Bound">gasreserved</a><a id="19980" class="Symbol">)</a> <a id="19982" class="Symbol">(</a><a id="19983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19699" class="Bound">ledger</a> <a id="19990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19718" class="Bound">lastCallAddr</a> <a id="20003" class="Symbol">.</a><a id="20004" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="20010" class="Symbol">))</a>


<a id="20015" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="20027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20027" class="Function">stepLedgerFunntimesListAux</a> <a id="20054" class="Symbol">:</a> <a id="20056" class="Symbol">(</a><a id="20057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20057" class="Bound">ledger</a> <a id="20064" class="Symbol">:</a> <a id="20066" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="20072" class="Symbol">)</a>
                           <a id="20101" class="Symbol">→</a> <a id="20103" class="Symbol">(</a><a id="20104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20104" class="Bound">initialAddr</a> <a id="20116" class="Symbol">:</a> <a id="20118" href="basicDataStructure.html#387" class="Function">Address</a><a id="20125" class="Symbol">)</a>
                           <a id="20154" class="Symbol">→</a> <a id="20156" class="Symbol">(</a><a id="20157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20157" class="Bound">lastCallAddr</a> <a id="20170" class="Symbol">:</a> <a id="20172" href="basicDataStructure.html#387" class="Function">Address</a><a id="20179" class="Symbol">)</a>
                           <a id="20208" class="Symbol">→</a> <a id="20210" class="Symbol">(</a><a id="20211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20211" class="Bound">calledAddr</a> <a id="20222" class="Symbol">:</a> <a id="20224" href="basicDataStructure.html#387" class="Function">Address</a><a id="20231" class="Symbol">)</a>
                           <a id="20260" class="Symbol">→</a> <a id="20262" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                           <a id="20302" class="Symbol">→</a> <a id="20304" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                           <a id="20335" class="Symbol">→</a> <a id="20337" class="Symbol">(</a><a id="20338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20338" class="Bound">gasreserved</a> <a id="20350" class="Symbol">:</a> <a id="20352" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20353" class="Symbol">)</a>

                           <a id="20383" class="Symbol">→</a> <a id="20385" class="Symbol">(</a><a id="20386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20386" class="Bound">ntimes</a> <a id="20393" class="Symbol">:</a> <a id="20395" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20396" class="Symbol">)</a>
                           <a id="20425" class="Symbol">→</a> <a id="20427" class="Symbol">(</a><a id="20428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20428" class="Bound">cp</a>  <a id="20432" class="Symbol">:</a> <a id="20434" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="20446" class="Symbol">(</a><a id="20447" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="20456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20338" class="Bound">gasreserved</a><a id="20473" class="Symbol">)</a> <a id="20475" class="Symbol">(</a><a id="20476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20057" class="Bound">ledger</a> <a id="20483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20157" class="Bound">lastCallAddr</a> <a id="20496" class="Symbol">.</a><a id="20497" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="20503" class="Symbol">))</a>
                           <a id="20533" class="Symbol">→</a> <a id="20535" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="20541" class="Symbol">(</a><a id="20542" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="20547" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a><a id="20559" class="Symbol">)</a>
<a id="20561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20027" class="Function">stepLedgerFunntimesListAux</a> <a id="20588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20588" class="Bound">ledger</a> <a id="20595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20595" class="Bound">initialAddr</a> <a id="20607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20607" class="Bound">lastCallAddr</a> <a id="20620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20620" class="Bound">calledAddr</a> <a id="20631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20631" class="Bound">funname</a> <a id="20639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20639" class="Bound">msg</a> <a id="20643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20643" class="Bound">gasreserved</a>  <a id="20656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20656" class="Bound">ntimes</a> <a id="20663" class="Symbol">(</a><a id="20664" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="20668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20668" class="Bound">leqpro</a><a id="20674" class="Symbol">)</a>
                            <a id="20704" class="Symbol">=</a> <a id="20706" class="Keyword">let</a>
                               <a id="20741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20741" class="Bound">ledgerDeducted</a> <a id="20756" class="Symbol">:</a> <a id="20758" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a>
                               <a id="20796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20741" class="Bound">ledgerDeducted</a> <a id="20811" class="Symbol">=</a> <a id="20813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="20833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20588" class="Bound">ledger</a> <a id="20840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20607" class="Bound">lastCallAddr</a> <a id="20853" class="Symbol">(</a><a id="20854" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="20863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20643" class="Bound">gasreserved</a><a id="20880" class="Symbol">)</a> <a id="20882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20668" class="Bound">leqpro</a>
                            <a id="20917" class="Keyword">in</a>
                              <a id="20950" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="20955" class="Symbol">(</a><a id="20956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15550" class="Function">stepEFntimesList</a> <a id="20973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20741" class="Bound">ledgerDeducted</a>
                                   <a id="21023" class="Symbol">(</a><a id="21024" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="21032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20741" class="Bound">ledgerDeducted</a> <a id="21047" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="21050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20595" class="Bound">initialAddr</a> <a id="21062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20607" class="Bound">lastCallAddr</a> <a id="21075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20620" class="Bound">calledAddr</a>
                                   <a id="21121" class="Symbol">(</a><a id="21122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20741" class="Bound">ledgerDeducted</a> <a id="21137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20620" class="Bound">calledAddr</a> <a id="21148" class="Symbol">.</a><a id="21149" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="21153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20631" class="Bound">funname</a> <a id="21161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20639" class="Bound">msg</a><a id="21164" class="Symbol">)</a> <a id="21166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20643" class="Bound">gasreserved</a> <a id="21178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20631" class="Bound">funname</a> <a id="21186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20639" class="Bound">msg</a><a id="21189" class="Symbol">)</a> <a id="21191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20656" class="Bound">ntimes</a><a id="21197" class="Symbol">)</a>
<a id="21199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20027" class="Function">stepLedgerFunntimesListAux</a> <a id="21226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21226" class="Bound">ledger</a> <a id="21233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21233" class="Bound">initialAddr</a> <a id="21245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21245" class="Bound">lastCallAddr</a> <a id="21258" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21258" class="Bound">calledAddr</a> <a id="21269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21269" class="Bound">funname</a> <a id="21277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21277" class="Bound">msg</a> <a id="21281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21281" class="Bound">gasreserved</a> <a id="21293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21293" class="Bound">ntimes</a> <a id="21300" class="Symbol">(</a><a id="21301" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="21309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21309" class="Bound">greaterpro</a><a id="21319" class="Symbol">)</a>
                            <a id="21349" class="Symbol">=</a> <a id="21351" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="21361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21361" class="Function">stepLedgerFunntimesList</a> <a id="21385" class="Symbol">:</a> <a id="21387" class="Symbol">(</a><a id="21388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21388" class="Bound">ledger</a> <a id="21395" class="Symbol">:</a> <a id="21397" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="21403" class="Symbol">)</a>
                          <a id="21431" class="Symbol">→</a> <a id="21433" class="Symbol">(</a><a id="21434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21434" class="Bound">initialAddr</a> <a id="21446" class="Symbol">:</a> <a id="21448" href="basicDataStructure.html#387" class="Function">Address</a><a id="21455" class="Symbol">)</a>
                          <a id="21483" class="Symbol">→</a> <a id="21485" class="Symbol">(</a><a id="21486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21486" class="Bound">lastCallAddr</a> <a id="21499" class="Symbol">:</a> <a id="21501" href="basicDataStructure.html#387" class="Function">Address</a><a id="21508" class="Symbol">)</a>
                          <a id="21536" class="Symbol">→</a> <a id="21538" class="Symbol">(</a><a id="21539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21539" class="Bound">calledAddr</a> <a id="21550" class="Symbol">:</a> <a id="21552" href="basicDataStructure.html#387" class="Function">Address</a><a id="21559" class="Symbol">)</a>
                          <a id="21587" class="Symbol">→</a> <a id="21589" class="Symbol">(</a><a id="21590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21590" class="Bound">funname</a> <a id="21598" class="Symbol">:</a> <a id="21600" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="21612" class="Symbol">)</a>
                          <a id="21640" class="Symbol">→</a> <a id="21642" class="Symbol">(</a><a id="21643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21643" class="Bound">msg</a> <a id="21647" class="Symbol">:</a> <a id="21649" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="21652" class="Symbol">)</a>
                          <a id="21680" class="Symbol">→</a> <a id="21682" class="Symbol">(</a><a id="21683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21683" class="Bound">gasreserved</a> <a id="21695" class="Symbol">:</a> <a id="21697" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21698" class="Symbol">)</a>

                          <a id="21727" class="Symbol">→</a> <a id="21729" class="Symbol">(</a><a id="21730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21730" class="Bound">ntimes</a> <a id="21737" class="Symbol">:</a> <a id="21739" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21740" class="Symbol">)</a>
                          <a id="21768" class="Symbol">→</a> <a id="21770" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="21776" class="Symbol">(</a><a id="21777" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="21782" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a><a id="21794" class="Symbol">)</a>
<a id="21796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21361" class="Function">stepLedgerFunntimesList</a> <a id="21820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21820" class="Bound">ledger</a> <a id="21827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21827" class="Bound">initialAddr</a> <a id="21839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21839" class="Bound">lastCallAddr</a> <a id="21852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21852" class="Bound">calledAddr</a> <a id="21863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21863" class="Bound">funname</a> <a id="21871" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21871" class="Bound">msg</a> <a id="21875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21875" class="Bound">gasreserved</a>  <a id="21888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21888" class="Bound">ntimes</a>
                        <a id="21919" class="Symbol">=</a> <a id="21921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20027" class="Function">stepLedgerFunntimesListAux</a> <a id="21948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21820" class="Bound">ledger</a> <a id="21955" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21827" class="Bound">initialAddr</a> <a id="21967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21839" class="Bound">lastCallAddr</a> <a id="21980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21852" class="Bound">calledAddr</a> <a id="21991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21863" class="Bound">funname</a> <a id="21999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21871" class="Bound">msg</a> <a id="22003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21875" class="Bound">gasreserved</a>  <a id="22016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21888" class="Bound">ntimes</a>
                       <a id="22046" class="Symbol">(</a><a id="22047" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="22058" class="Symbol">(</a><a id="22059" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="22068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21875" class="Bound">gasreserved</a><a id="22085" class="Symbol">)</a> <a id="22087" class="Symbol">(</a><a id="22088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21820" class="Bound">ledger</a> <a id="22095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21839" class="Bound">lastCallAddr</a> <a id="22108" class="Symbol">.</a><a id="22109" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="22115" class="Symbol">))</a>


<a id="22120" class="Comment">-- list to string</a>
<a id="Listmsg2String"></a><a id="22138" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22138" class="Function">Listmsg2String</a> <a id="22153" class="Symbol">:</a> <a id="22155" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="22160" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="22164" class="Symbol">→</a> <a id="22166" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="22173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22138" class="Function">Listmsg2String</a> <a id="22188" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="22191" class="Symbol">=</a> <a id="22193" class="String">&quot;&quot;</a>
<a id="22196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22138" class="Function">Listmsg2String</a> <a id="22211" class="Symbol">(</a><a id="22212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22212" class="Bound">msg</a> <a id="22216" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="22218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22218" class="Bound">rest</a><a id="22222" class="Symbol">)</a> <a id="22224" class="Symbol">=</a> <a id="22226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22138" class="Function">Listmsg2String</a> <a id="22241" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>  <a id="22245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22251" class="String">&quot;,&quot;</a> <a id="22255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22138" class="Function">Listmsg2String</a> <a id="22276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22218" class="Bound">rest</a>


<a id="msg2String"></a><a id="22283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22283" class="Function">msg2String</a> <a id="22294" class="Symbol">:</a> <a id="22296" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="22300" class="Symbol">→</a> <a id="22302" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="22309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22283" class="Function">msg2String</a> <a id="22320" class="Symbol">(</a><a id="22321" href="basicDataStructure.html#507" class="InductiveConstructor">nat</a> <a id="22325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22325" class="Bound">n</a><a id="22326" class="Symbol">)</a> <a id="22328" class="Symbol">=</a> <a id="22330" class="String">&quot;nat&quot;</a> <a id="22336" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22342" href="Data.Nat.Show.html#1928" class="Function">show</a> <a id="22347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22325" class="Bound">n</a>
<a id="22349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22283" class="Function">msg2String</a> <a id="22360" class="Symbol">(</a><a id="22361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22361" class="Bound">m</a> <a id="22363" href="basicDataStructure.html#543" class="InductiveConstructor Operator">+msg</a> <a id="22368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22368" class="Bound">m₁</a><a id="22370" class="Symbol">)</a> <a id="22372" class="Symbol">=</a> <a id="22374" class="String">&quot;(&quot;</a> <a id="22378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22384" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22283" class="Function">msg2String</a> <a id="22395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22361" class="Bound">m</a> <a id="22397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22403" class="String">&quot; , &quot;</a> <a id="22409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22283" class="Function">msg2String</a> <a id="22426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22368" class="Bound">m₁</a> <a id="22429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22435" class="String">&quot;)&quot;</a>
<a id="22439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22283" class="Function">msg2String</a> <a id="22450" class="Symbol">(</a><a id="22451" href="basicDataStructure.html#580" class="InductiveConstructor">list</a> <a id="22456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22456" class="Bound">l</a><a id="22457" class="Symbol">)</a> <a id="22459" class="Symbol">=</a> <a id="22461" class="String">&quot;[&quot;</a> <a id="22465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22138" class="Function">Listmsg2String</a> <a id="22486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22456" class="Bound">l</a> <a id="22488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22494" class="String">&quot;]&quot;</a>

<a id="msgOrErrorWithGas2StringOrError"></a><a id="22499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22499" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22531" class="Symbol">:</a> <a id="22533" class="Symbol">(</a><a id="22534" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="22541" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="22543" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="22560" class="Symbol">)</a>  <a id="22563" class="Symbol">→</a> <a id="22565" class="Symbol">(</a><a id="22566" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="22573" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="22575" href="basicDataStructure.html#2079" class="Record">StringOrErrorWithGas</a><a id="22595" class="Symbol">)</a>
<a id="22597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22499" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22629" class="Symbol">(</a><a id="22630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22630" class="Bound">ledger</a> <a id="22637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22640" class="Symbol">(</a><a id="22641" href="basicDataStructure.html#1560" class="InductiveConstructor">theMsg</a> <a id="22648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22648" class="Bound">x</a> <a id="22650" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22652" class="Bound">gas₁</a> <a id="22657" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22660" class="Symbol">))</a> <a id="22663" class="Symbol">=</a> <a id="22665" class="Symbol">(</a><a id="22666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22630" class="Bound">ledger</a> <a id="22673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22676" class="Symbol">(</a><a id="22677" href="basicDataStructure.html#1916" class="InductiveConstructor">theString</a> <a id="22687" class="Symbol">(</a><a id="22688" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22283" class="Function">msg2String</a> <a id="22699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22648" class="Bound">x</a><a id="22700" class="Symbol">)</a> <a id="22702" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22652" class="Bound">gas₁</a> <a id="22709" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22712" class="Symbol">))</a>
<a id="22715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22499" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22747" class="Symbol">(</a><a id="22748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22748" class="Bound">ledger</a> <a id="22755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22758" class="Symbol">(</a><a id="22759" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="22763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22763" class="Bound">x</a> <a id="22765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22765" class="Bound">x₁</a> <a id="22768" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22770" class="Bound">gas₁</a> <a id="22775" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22778" class="Symbol">))</a> <a id="22781" class="Symbol">=</a> <a id="22783" class="Symbol">(</a><a id="22784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22748" class="Bound">ledger</a> <a id="22791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22794" class="Symbol">(</a><a id="22795" href="basicDataStructure.html#1953" class="InductiveConstructor">err</a> <a id="22799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22763" class="Bound">x</a> <a id="22801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22765" class="Bound">x₁</a> <a id="22804" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22770" class="Bound">gas₁</a> <a id="22811" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22814" class="Symbol">)</a> <a id="22816" class="Symbol">)</a>
<a id="22818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22499" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22850" class="Symbol">(</a><a id="22851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22851" class="Bound">ledger</a> <a id="22858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22861" class="Symbol">(</a><a id="22862" href="basicDataStructure.html#1667" class="InductiveConstructor">invalidtransaction</a> <a id="22881" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22883" class="Bound">gas₁</a> <a id="22888" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22891" class="Symbol">))</a> <a id="22894" class="Symbol">=</a> <a id="22896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22851" class="Bound">ledger</a> <a id="22903" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22906" class="Symbol">(</a><a id="22907" href="basicDataStructure.html#2035" class="InductiveConstructor">invalidtransaction</a> <a id="22926" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22883" class="Bound">gas₁</a> <a id="22933" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22936" class="Symbol">)</a>


<a id="22940" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="22983" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateNonTerminatingAuxfinal0&#39;"></a><a id="23054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23054" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="23087" class="Symbol">:</a> <a id="23089" class="Symbol">(</a><a id="23090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23090" class="Bound">oldledger</a> <a id="23100" class="Symbol">:</a> <a id="23102" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="23108" class="Symbol">)</a>
                          <a id="23136" class="Symbol">→</a> <a id="23138" class="Symbol">(</a><a id="23139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23139" class="Bound">currentLedger</a> <a id="23153" class="Symbol">:</a> <a id="23155" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="23161" class="Symbol">)</a>
                          <a id="23189" class="Symbol">→</a> <a id="23191" class="Symbol">(</a><a id="23192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23192" class="Bound">initialAddr</a> <a id="23204" class="Symbol">:</a> <a id="23206" href="basicDataStructure.html#387" class="Function">Address</a><a id="23213" class="Symbol">)</a>
                          <a id="23241" class="Symbol">→</a> <a id="23243" class="Symbol">(</a><a id="23244" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23244" class="Bound">lastCallAddr</a> <a id="23257" class="Symbol">:</a> <a id="23259" href="basicDataStructure.html#387" class="Function">Address</a><a id="23266" class="Symbol">)</a>
                          <a id="23294" class="Symbol">→</a> <a id="23296" class="Symbol">(</a><a id="23297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23297" class="Bound">calledAddr</a> <a id="23308" class="Symbol">:</a> <a id="23310" href="basicDataStructure.html#387" class="Function">Address</a><a id="23317" class="Symbol">)</a>
                          <a id="23345" class="Symbol">→</a> <a id="23347" class="Symbol">(</a><a id="23348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23348" class="Bound">cost</a> <a id="23353" class="Symbol">:</a> <a id="23355" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23356" class="Symbol">)</a>
                          <a id="23384" class="Symbol">→</a> <a id="23386" class="Symbol">(</a><a id="23387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23387" class="Bound">returnvalue</a> <a id="23399" class="Symbol">:</a> <a id="23401" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="23404" class="Symbol">)</a>
                          <a id="23432" class="Symbol">→</a> <a id="23434" class="Symbol">(</a><a id="23435" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23435" class="Bound">gasLeft</a> <a id="23443" class="Symbol">:</a> <a id="23445" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23446" class="Symbol">)</a>
                          <a id="23474" class="Symbol">→</a> <a id="23476" class="Symbol">(</a><a id="23477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23477" class="Bound">funNameevalState</a> <a id="23494" class="Symbol">:</a> <a id="23496" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="23508" class="Symbol">)</a>
                          <a id="23536" class="Symbol">→</a> <a id="23538" class="Symbol">(</a><a id="23539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23539" class="Bound">msgevalState</a> <a id="23552" class="Symbol">:</a> <a id="23554" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="23557" class="Symbol">)</a>
                          <a id="23585" class="Symbol">→</a> <a id="23587" class="Symbol">(</a><a id="23588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23588" class="Bound">cp</a>  <a id="23592" class="Symbol">:</a> <a id="23594" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="23606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23348" class="Bound">cost</a> <a id="23611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23435" class="Bound">gasLeft</a><a id="23618" class="Symbol">)</a>
                          <a id="23646" class="Symbol">→</a> <a id="23648" class="Symbol">(</a><a id="23649" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="23656" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="23658" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="23675" class="Symbol">)</a>
<a id="23677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23054" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="23710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23710" class="Bound">oldledger</a> <a id="23720" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23720" class="Bound">currentLedger</a> <a id="23734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23734" class="Bound">initialAddr</a> <a id="23746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23746" class="Bound">lastCallAddr</a> <a id="23759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23759" class="Bound">calledAddr</a> <a id="23770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23770" class="Bound">cost</a> <a id="23775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23775" class="Bound">ms</a> <a id="23778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23778" class="Bound">gasLeft</a> <a id="23786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23786" class="Bound">funNameevalState</a> <a id="23803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23803" class="Bound">msgevalState</a> <a id="23816" class="Symbol">(</a><a id="23817" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="23821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23821" class="Bound">x</a><a id="23822" class="Symbol">)</a>
                               <a id="23855" class="Symbol">=</a>  <a id="23858" class="Symbol">(</a><a id="23859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="23874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23720" class="Bound">currentLedger</a> <a id="23888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23734" class="Bound">initialAddr</a>
                                   <a id="23935" class="Symbol">(</a><a id="23936" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="23945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="23951" class="Symbol">(</a><a id="23952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23778" class="Bound">gasLeft</a> <a id="23960" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="23962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23770" class="Bound">cost</a><a id="23966" class="Symbol">)))</a> <a id="23970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="23973" class="Symbol">(</a><a id="23974" href="basicDataStructure.html#1560" class="InductiveConstructor">theMsg</a> <a id="23981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23775" class="Bound">ms</a> <a id="23984" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="23986" class="Symbol">(</a><a id="23987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23778" class="Bound">gasLeft</a> <a id="23995" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="23997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23770" class="Bound">cost</a><a id="24001" class="Symbol">)</a> <a id="24003" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="24006" class="Symbol">)</a>

<a id="24009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23054" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="24042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24042" class="Bound">oldledger</a> <a id="24052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24052" class="Bound">currentLedger</a> <a id="24066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24066" class="Bound">initialAddr</a> <a id="24078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24078" class="Bound">lastCallAddr</a> <a id="24091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24091" class="Bound">calledAddr</a> <a id="24102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24102" class="Bound">cost</a> <a id="24107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24107" class="Bound">returnvalue</a> <a id="24119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24119" class="Bound">gasLeft</a> <a id="24127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24127" class="Bound">funNameevalState</a> <a id="24144" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24144" class="Bound">msgevalState</a> <a id="24157" class="Symbol">(</a><a id="24158" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="24166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24166" class="Bound">x</a><a id="24167" class="Symbol">)</a>
                               <a id="24200" class="Symbol">=</a> <a id="24202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24042" class="Bound">oldledger</a> <a id="24212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="24215" class="Symbol">((</a><a id="24217" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="24221" class="Symbol">(</a><a id="24222" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="24229" class="String">&quot; Out Of Gass &quot;</a><a id="24244" class="Symbol">)</a> <a id="24246" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="24248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24078" class="Bound">lastCallAddr</a> <a id="24261" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="24264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24066" class="Bound">initialAddr</a> <a id="24276" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="24278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24127" class="Bound">funNameevalState</a> <a id="24295" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="24297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24144" class="Bound">msgevalState</a> <a id="24310" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="24312" class="Symbol">)</a> <a id="24314" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="24316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24119" class="Bound">gasLeft</a> <a id="24324" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="24327" class="Symbol">)</a>



<a id="24332" class="Symbol">{-#</a> <a id="24336" class="Keyword">NON_TERMINATING</a> <a id="24352" class="Symbol">#-}</a>
<a id="evaluateNonTerminatingAuxfinal0"></a><a id="24356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24356" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="24388" class="Symbol">:</a> <a id="24390" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="24397" class="Symbol">→</a> <a id="24399" href="libraries.Mainlibrary.html#2143" class="Record">StateExecFun</a> <a id="24412" class="Symbol">→</a> <a id="24414" class="Symbol">(</a><a id="24415" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="24422" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="24424" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="24441" class="Symbol">)</a>
<a id="24443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24356" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="24475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24475" class="Bound">oldledger</a> <a id="24485" class="Symbol">(</a><a id="24486" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="24494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24494" class="Bound">currentLedger</a> <a id="24508" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="24511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24511" class="Bound">initialAddr</a> <a id="24523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24523" class="Bound">lastCallAddr</a> <a id="24536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24536" class="Bound">calledAddr</a> <a id="24547" class="Symbol">(</a><a id="24548" href="Complex-Model.ccomand.ccommands-cresponse.html#1538" class="InductiveConstructor">return</a> <a id="24555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24555" class="Bound">cost</a> <a id="24560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24560" class="Bound">ms</a><a id="24562" class="Symbol">)</a>
                            <a id="24592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24592" class="Bound">gasLeft</a>  <a id="24601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24601" class="Bound">funNameevalState</a> <a id="24618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24618" class="Bound">msgevalState</a><a id="24630" class="Symbol">)</a>
                            <a id="24660" class="Symbol">=</a> <a id="24662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23054" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="24695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24475" class="Bound">oldledger</a> <a id="24705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24494" class="Bound">currentLedger</a>
                                <a id="24751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24511" class="Bound">initialAddr</a> <a id="24763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24523" class="Bound">lastCallAddr</a> <a id="24776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24536" class="Bound">calledAddr</a> <a id="24787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24555" class="Bound">cost</a> <a id="24792" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24560" class="Bound">ms</a> <a id="24795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24592" class="Bound">gasLeft</a> <a id="24803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24601" class="Bound">funNameevalState</a> <a id="24820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24618" class="Bound">msgevalState</a> <a id="24833" class="Symbol">(</a><a id="24834" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="24845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24555" class="Bound">cost</a> <a id="24850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24592" class="Bound">gasLeft</a><a id="24857" class="Symbol">)</a>

<a id="24860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24356" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="24891" class="CatchallClause"> </a><a id="24892" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24892" class="CatchallClause Bound">oldledger</a><a id="24901" class="CatchallClause"> </a><a id="24902" class="CatchallClause Symbol">(</a><a id="24903" href="libraries.Mainlibrary.html#2182" class="CatchallClause InductiveConstructor">stateEF</a><a id="24910" class="CatchallClause"> </a><a id="24911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24911" class="CatchallClause Bound">currentLedger</a><a id="24924" class="CatchallClause"> </a><a id="24925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24925" class="CatchallClause Bound">s</a><a id="24926" class="CatchallClause"> </a><a id="24927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24927" class="CatchallClause Bound">initialAddr</a><a id="24938" class="CatchallClause"> </a><a id="24939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24939" class="CatchallClause Bound">lastCallAddr</a><a id="24951" class="CatchallClause"> </a><a id="24952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24952" class="CatchallClause Bound">calledAddr</a><a id="24962" class="CatchallClause"> </a><a id="24963" class="CatchallClause Symbol">(</a><a id="24964" href="Complex-Model.ccomand.ccommands-cresponse.html#1579" class="CatchallClause InductiveConstructor">error</a><a id="24969" class="CatchallClause"> </a><a id="24970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24970" class="CatchallClause Bound">msgg</a><a id="24974" class="CatchallClause"> </a><a id="24975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24975" class="CatchallClause Bound">debugInfo</a><a id="24984" class="CatchallClause Symbol">)</a>
                             <a id="25015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25015" class="CatchallClause Bound">gasLeft</a><a id="25022" class="CatchallClause">  </a><a id="25024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25024" class="CatchallClause Bound">funNameevalState</a><a id="25040" class="CatchallClause"> </a><a id="25041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25041" class="CatchallClause Bound">msgevalState</a><a id="25053" class="CatchallClause Symbol">)</a>
                          <a id="25081" class="Symbol">=</a> <a id="25083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="25098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24892" class="Bound">oldledger</a> <a id="25108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24927" class="Bound">initialAddr</a> <a id="25120" class="Symbol">(</a><a id="25121" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25015" class="Bound">gasLeft</a><a id="25143" class="Symbol">)</a> <a id="25145" class="Comment">{- 100 -}</a> <a id="25155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a>
                            <a id="25186" class="Symbol">(</a><a id="25187" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="25191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24970" class="Bound">msgg</a> <a id="25196" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a>  <a id="25199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24939" class="Bound">lastCallAddr</a> <a id="25212" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="25215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24927" class="Bound">initialAddr</a> <a id="25227" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="25229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25024" class="Bound">funNameevalState</a> <a id="25246" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="25248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25041" class="Bound">msgevalState</a> <a id="25261" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a> <a id="25264" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="25266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25015" class="Bound">gasLeft</a> <a id="25274" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="25277" class="Symbol">)</a>
<a id="25279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24356" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="25310" class="CatchallClause"> </a><a id="25311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25311" class="CatchallClause Bound">oldledger</a><a id="25320" class="CatchallClause"> </a><a id="25321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25321" class="CatchallClause Bound">statefun</a>
                          <a id="25356" class="Symbol">=</a> <a id="25358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24356" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="25390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25311" class="Bound">oldledger</a> <a id="25400" class="Symbol">(</a><a id="25401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14925" class="Function">stepEFwithGasError</a>  <a id="25421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25311" class="Bound">oldledger</a> <a id="25431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25321" class="Bound">statefun</a><a id="25439" class="Symbol">)</a>

<a id="evaluateNonTerminatingAuxfinal"></a><a id="25442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25442" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="25473" class="Symbol">:</a> <a id="25475" class="Symbol">(</a><a id="25476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25476" class="Bound">ledger</a> <a id="25483" class="Symbol">:</a> <a id="25485" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="25491" class="Symbol">)</a>
                          <a id="25519" class="Symbol">→</a> <a id="25521" class="Symbol">(</a><a id="25522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25522" class="Bound">initialAddr</a> <a id="25534" class="Symbol">:</a> <a id="25536" href="basicDataStructure.html#387" class="Function">Address</a><a id="25543" class="Symbol">)</a>
                          <a id="25571" class="Symbol">→</a> <a id="25573" class="Symbol">(</a><a id="25574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25574" class="Bound">lastCallAddr</a> <a id="25587" class="Symbol">:</a> <a id="25589" href="basicDataStructure.html#387" class="Function">Address</a><a id="25596" class="Symbol">)</a>
                          <a id="25624" class="Symbol">→</a> <a id="25626" class="Symbol">(</a><a id="25627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25627" class="Bound">calledAddr</a> <a id="25638" class="Symbol">:</a> <a id="25640" href="basicDataStructure.html#387" class="Function">Address</a><a id="25647" class="Symbol">)</a>
                          <a id="25675" class="Symbol">→</a> <a id="25677" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                          <a id="25716" class="Symbol">→</a> <a id="25718" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                          <a id="25748" class="Symbol">→</a> <a id="25750" class="Symbol">(</a><a id="25751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25751" class="Bound">gasreserved</a> <a id="25763" class="Symbol">:</a> <a id="25765" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25766" class="Symbol">)</a>

                          <a id="25795" class="Symbol">→</a> <a id="25797" class="Symbol">(</a><a id="25798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25798" class="Bound">cp</a>  <a id="25802" class="Symbol">:</a> <a id="25804" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="25816" class="Symbol">(</a><a id="25817" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25751" class="Bound">gasreserved</a><a id="25843" class="Symbol">)</a> <a id="25845" class="Symbol">(</a><a id="25846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25476" class="Bound">ledger</a> <a id="25853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25522" class="Bound">initialAddr</a> <a id="25865" class="Symbol">.</a><a id="25866" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="25872" class="Symbol">))</a>
                          <a id="25901" class="Symbol">→</a> <a id="25903" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="25909" class="Symbol">(</a><a id="25910" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="25917" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="25919" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="25936" class="Symbol">)</a>
<a id="25938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25442" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="25969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25969" class="Bound">ledger</a> <a id="25976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25976" class="Bound">initialAddr</a> <a id="25988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25988" class="Bound">lastCallAddr</a> <a id="26001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26001" class="Bound">calledAddr</a> <a id="26012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26012" class="Bound">funname</a> <a id="26020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26020" class="Bound">msg</a> <a id="26024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26024" class="Bound">gasreserved</a>  <a id="26037" class="Symbol">(</a><a id="26038" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="26042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26042" class="Bound">leqpr</a><a id="26047" class="Symbol">)</a>
                           <a id="26076" class="Symbol">=</a> <a id="26078" class="Keyword">let</a>
                               <a id="26113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">ledgerDeducted</a> <a id="26128" class="Symbol">:</a> <a id="26130" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a>
                               <a id="26168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">ledgerDeducted</a> <a id="26183" class="Symbol">=</a> <a id="26185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="26205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25969" class="Bound">ledger</a> <a id="26212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25976" class="Bound">initialAddr</a> <a id="26224" class="Symbol">(</a><a id="26225" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="26234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="26240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26024" class="Bound">gasreserved</a><a id="26251" class="Symbol">)</a> <a id="26253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26042" class="Bound">leqpr</a>
                             <a id="26288" class="Keyword">in</a> <a id="26291" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="26296" class="Symbol">(</a><a id="26297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24356" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="26329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">ledgerDeducted</a>
                                     <a id="26381" class="Symbol">(</a><a id="26382" href="libraries.Mainlibrary.html#2182" class="InductiveConstructor">stateEF</a> <a id="26390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">ledgerDeducted</a> <a id="26405" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="26408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25976" class="Bound">initialAddr</a> <a id="26420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25988" class="Bound">lastCallAddr</a> <a id="26433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26001" class="Bound">calledAddr</a> <a id="26444" class="Symbol">(</a><a id="26445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26113" class="Bound">ledgerDeducted</a> <a id="26460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26001" class="Bound">calledAddr</a> <a id="26471" class="Symbol">.</a><a id="26472" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="26476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26012" class="Bound">funname</a> <a id="26484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26020" class="Bound">msg</a><a id="26487" class="Symbol">)</a>
                                     <a id="26526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26024" class="Bound">gasreserved</a>  <a id="26539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26012" class="Bound">funname</a> <a id="26547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26020" class="Bound">msg</a><a id="26550" class="Symbol">))</a>

<a id="26554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25442" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="26585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26585" class="Bound">ledger</a> <a id="26592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26592" class="Bound">initialAddr</a> <a id="26604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26604" class="Bound">lastCallAddr</a> <a id="26617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26617" class="Bound">calledAddr</a> <a id="26628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26628" class="Bound">funname</a> <a id="26636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26636" class="Bound">msg</a> <a id="26640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26640" class="Bound">gasreserved</a>  <a id="26653" class="Symbol">(</a><a id="26654" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="26662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26662" class="Bound">greaterpr</a><a id="26671" class="Symbol">)</a>
                           <a id="26700" class="Symbol">=</a> <a id="26702" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="evaluateNonTerminatingfinal"></a><a id="26712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26712" class="Function">evaluateNonTerminatingfinal</a> <a id="26740" class="Symbol">:</a> <a id="26742" class="Symbol">(</a><a id="26743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26743" class="Bound">ledger</a> <a id="26750" class="Symbol">:</a> <a id="26752" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a><a id="26758" class="Symbol">)</a>
                         <a id="26785" class="Symbol">→</a> <a id="26787" class="Symbol">(</a><a id="26788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26788" class="Bound">initialAddr</a> <a id="26800" class="Symbol">:</a> <a id="26802" href="basicDataStructure.html#387" class="Function">Address</a><a id="26809" class="Symbol">)</a>
                            <a id="26839" class="Comment">-- Initial address is the address from which the very first call was made</a>
                         <a id="26938" class="Symbol">→</a> <a id="26940" class="Symbol">(</a><a id="26941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26941" class="Bound">lastCallAddr</a> <a id="26954" class="Symbol">:</a> <a id="26956" href="basicDataStructure.html#387" class="Function">Address</a><a id="26963" class="Symbol">)</a>
                            <a id="26993" class="Comment">-- lastCallAddr is the address from which the current call of a function in</a>
                            <a id="27097" class="Comment">--         calledAddr is made</a>
                         <a id="27152" class="Symbol">→</a> <a id="27154" class="Symbol">(</a><a id="27155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27155" class="Bound">calledAddr</a> <a id="27166" class="Symbol">:</a> <a id="27168" href="basicDataStructure.html#387" class="Function">Address</a><a id="27175" class="Symbol">)</a>
                            <a id="27205" class="Comment">-- calledAddr is the address where a function call is currently executed</a>
                            <a id="27306" class="Comment">--            it was called from calledAddr</a>
                         <a id="27375" class="Symbol">→</a> <a id="27377" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                         <a id="27415" class="Symbol">→</a> <a id="27417" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                         <a id="27446" class="Symbol">→</a> <a id="27448" class="Symbol">(</a><a id="27449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27449" class="Bound">gasreserved</a> <a id="27461" class="Symbol">:</a> <a id="27463" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="27464" class="Symbol">)</a>

                         <a id="27492" class="Symbol">→</a> <a id="27494" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="27500" class="Symbol">(</a><a id="27501" href="libraries.Mainlibrary.html#1067" class="Function">Ledger</a> <a id="27508" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="27510" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="27527" class="Symbol">)</a>
<a id="27529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26712" class="Function">evaluateNonTerminatingfinal</a> <a id="27557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27557" class="Bound">ledger</a> <a id="27564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27564" class="Bound">initialAddr</a> <a id="27576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27576" class="Bound">lastCallAddr</a> <a id="27589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27589" class="Bound">calledAddr</a> <a id="27600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27600" class="Bound">funname</a> <a id="27608" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27608" class="Bound">msg</a> <a id="27612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27612" class="Bound">gasreserved</a>
                      <a id="27646" class="Symbol">=</a>  <a id="27649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25442" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="27680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27557" class="Bound">ledger</a> <a id="27687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27564" class="Bound">initialAddr</a> <a id="27699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27576" class="Bound">lastCallAddr</a> <a id="27712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27589" class="Bound">calledAddr</a> <a id="27723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27600" class="Bound">funname</a> <a id="27731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27608" class="Bound">msg</a> <a id="27735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27612" class="Bound">gasreserved</a>
                         <a id="27772" class="Symbol">(</a><a id="27773" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="27784" class="Symbol">(</a><a id="27785" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="27794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27612" class="Bound">gasreserved</a><a id="27811" class="Symbol">)</a> <a id="27813" class="Symbol">(</a><a id="27814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27557" class="Bound">ledger</a> <a id="27821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27564" class="Bound">initialAddr</a> <a id="27833" class="Symbol">.</a><a id="27834" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="27840" class="Symbol">))</a>





</pre></body></html>