<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#275" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2430" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1561" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2366" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Complex-Model.ccomand.do-notation.html" class="Module">Complex-Model.ccomand.do-notation</a> <a id="699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>



<a id="742" class="Comment">-- update pure function in the ledger</a>
<a id="updateLedgerpurefun"></a><a id="780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="800" class="Symbol">:</a> <a id="802" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="809" class="Symbol">→</a>  <a id="812" href="basicDataStructure.html#387" class="Function">Address</a> <a id="820" class="Symbol">→</a> <a id="822" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="857" class="Symbol">→</a> <a id="859" class="Symbol">((</a><a id="861" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="865" class="Symbol">→</a> <a id="867" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="877" class="Symbol">)</a> <a id="879" class="Symbol">→</a> <a id="881" class="Symbol">(</a><a id="882" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="886" class="Symbol">→</a> <a id="888" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="898" class="Symbol">))</a>
                      <a id="923" class="Symbol">→</a> <a id="925" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#952" class="Bound">ledger</a> <a id="959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#959" class="Bound">changedAddr</a> <a id="971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#971" class="Bound">changedFname</a> <a id="984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#984" class="Bound">f</a> <a id="986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#986" class="Bound">a</a> <a id="988" class="Symbol">.</a><a id="989" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="996" class="Symbol">=</a> <a id="998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#952" class="Bound">ledger</a> <a id="1005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#986" class="Bound">a</a> <a id="1007" class="Symbol">.</a><a id="1008" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="1015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="1035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1035" class="Bound">ledger</a> <a id="1042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1042" class="Bound">changedAddr</a> <a id="1054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1054" class="Bound">changedFname</a> <a id="1067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1067" class="Bound">f</a> <a id="1069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1069" class="Bound">a</a> <a id="1071" class="Symbol">.</a><a id="1072" href="libraries.Mainlibrary.html#830" class="Field">fun</a>  <a id="1077" class="Symbol">=</a> <a id="1079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1035" class="Bound">ledger</a> <a id="1086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1069" class="Bound">a</a> <a id="1088" class="Symbol">.</a><a id="1089" href="libraries.Mainlibrary.html#830" class="Field">fun</a> 
<a id="1094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="1114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1121" class="Bound">changedAddr</a> <a id="1133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1133" class="Bound">changedFname</a> <a id="1146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">f</a> <a id="1148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1150" class="Symbol">.</a><a id="1151" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="1164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a> <a id="1170" class="Symbol">=</a>
       <a id="1179" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1182" class="Symbol">(</a><a id="1183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1133" class="Bound">changedFname</a> <a id="1196" href="basicDataStructure.html#257" class="Function Operator">≡fun</a> <a id="1201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a><a id="1206" class="Symbol">)</a> <a id="1208" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="1214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">f</a> <a id="1216" class="Symbol">(</a><a id="1217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1226" class="Symbol">.</a><a id="1227" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="1240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a><a id="1245" class="Symbol">)</a>
                         <a id="1272" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="1278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1287" class="Symbol">.</a><a id="1288" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="1301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a>


<a id="1309" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1351" class="Symbol">:</a> <a id="1353" class="Symbol">(</a><a id="1354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1354" class="Bound">ledger</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="1369" class="Symbol">)</a>
               <a id="1386" class="Symbol">→</a>  <a id="1389" class="Symbol">(</a><a id="1390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1390" class="Bound">calledAddr</a> <a id="1401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1401" class="Bound">destinationAddr</a> <a id="1417" class="Symbol">:</a> <a id="1419" href="basicDataStructure.html#387" class="Function">Address</a><a id="1426" class="Symbol">)</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1429" class="Bound">amount&#39;</a> <a id="1437" class="Symbol">:</a> <a id="1439" href="basicDataStructure.html#360" class="Function">Amount</a><a id="1445" class="Symbol">)</a>
               <a id="1462" class="Symbol">→</a> <a id="1464" class="Symbol">(</a><a id="1465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1465" class="Bound">correctAmount</a> <a id="1479" class="Symbol">:</a> <a id="1481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1429" class="Bound">amount&#39;</a> <a id="1489" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="1493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1354" class="Bound">ledger</a> <a id="1500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1390" class="Bound">calledAddr</a> <a id="1511" class="Symbol">.</a><a id="1512" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1518" class="Symbol">)</a>
                <a id="1536" class="Symbol">→</a> <a id="1538" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="1545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a> <a id="1582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a> <a id="1598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a> <a id="1606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1606" class="Bound">correctAmount</a> <a id="1620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1625" class="Symbol">.</a><a id="1626" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
     <a id="1638" class="Symbol">=</a> <a id="1640" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1648" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a>
     <a id="1667" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1672" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a> <a id="1700" class="Symbol">.</a><a id="1701" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1707" class="Symbol">)</a> <a id="1709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a> <a id="1717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1606" class="Bound">correctAmount</a>
     <a id="1736" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1741" class="Symbol">(</a><a id="1742" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1750" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a>
     <a id="1774" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a> <a id="1802" class="Symbol">.</a><a id="1803" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="1810" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a>
       <a id="1827" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1844" class="Symbol">.</a><a id="1845" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1851" class="Symbol">)</a>
<a id="1853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1879" class="Bound">calledAddr</a> <a id="1890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1890" class="Bound">newAddr</a> <a id="1898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1898" class="Bound">amount&#39;</a> <a id="1906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1906" class="Bound">correctAmount</a> <a id="1920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1920" class="Bound">addr</a> <a id="1925" class="Symbol">.</a><a id="1926" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
     <a id="1935" class="Symbol">=</a>  <a id="1938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1920" class="Bound">addr</a> <a id="1950" class="Symbol">.</a><a id="1951" href="libraries.Mainlibrary.html#830" class="Field">fun</a>

<a id="1956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1975" class="Bound">ledger</a> <a id="1982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1982" class="Bound">calledAddr</a> <a id="1993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1993" class="Bound">newAddr</a> <a id="2001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2001" class="Bound">amount&#39;</a> <a id="2009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2009" class="Bound">correctAmount</a> <a id="2023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2023" class="Bound">addr</a> <a id="2028" class="Symbol">.</a><a id="2029" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>
     <a id="2047" class="Symbol">=</a> <a id="2049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1975" class="Bound">ledger</a> <a id="2056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2023" class="Bound">addr</a> <a id="2061" class="Symbol">.</a><a id="2062" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>



<a id="2078" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2151" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2200" class="Symbol">:</a> <a id="2202" class="Symbol">(</a><a id="2203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2203" class="Bound">ledger</a> <a id="2210" class="Symbol">:</a> <a id="2212" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="2218" class="Symbol">)</a> <a id="2220" class="Symbol">→</a>  <a id="2223" class="Symbol">(</a><a id="2224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2224" class="Bound">calledAddr</a> <a id="2235" class="Symbol">:</a> <a id="2237" href="basicDataStructure.html#387" class="Function">Address</a><a id="2244" class="Symbol">)</a> <a id="2246" class="Symbol">(</a><a id="2247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2247" class="Bound">gascost</a> <a id="2255" class="Symbol">:</a> <a id="2257" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2258" class="Symbol">)</a>
                     <a id="2281" class="Symbol">→</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2284" class="Bound">correctAmount</a> <a id="2298" class="Symbol">:</a> <a id="2300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2247" class="Bound">gascost</a> <a id="2308" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="2312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2203" class="Bound">ledger</a> <a id="2319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2224" class="Bound">calledAddr</a> <a id="2330" class="Symbol">.</a><a id="2331" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2337" class="Symbol">)</a>
                     <a id="2360" class="Symbol">→</a> <a id="2362" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="2369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a> <a id="2407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2407" class="Bound">gascost</a> <a id="2415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2415" class="Bound">correctAmount</a> <a id="2429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2434" class="Symbol">.</a><a id="2435" href="libraries.Mainlibrary.html#808" class="Field">amount</a> 
     <a id="2448" class="Symbol">=</a> <a id="2450" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2458" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="2461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a>
     <a id="2477" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2482" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="2491" class="Symbol">(</a><a id="2492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a> <a id="2510" class="Symbol">.</a><a id="2511" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2517" class="Symbol">)</a> <a id="2519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2407" class="Bound">gascost</a> <a id="2527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2415" class="Bound">correctAmount</a>
     <a id="2546" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="2552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2564" class="Symbol">.</a><a id="2565" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="2572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2592" class="Bound">ledger</a> <a id="2599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2599" class="Bound">calledAddr</a> <a id="2610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Bound">gascost</a> <a id="2618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2618" class="Bound">correctAmount</a> <a id="2632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2632" class="Bound">addr</a> <a id="2637" class="Symbol">.</a><a id="2638" href="libraries.Mainlibrary.html#830" class="Field">fun</a> 
    <a id="2647" class="Symbol">=</a> <a id="2649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2592" class="Bound">ledger</a> <a id="2656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2632" class="Bound">addr</a> <a id="2661" class="Symbol">.</a><a id="2662" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="2666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2686" class="Bound">ledger</a> <a id="2693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2693" class="Bound">calledAddr</a> <a id="2704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2704" class="Bound">gascost</a> <a id="2712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2712" class="Bound">correctAmount</a> <a id="2726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2726" class="Bound">addr</a> <a id="2731" class="Symbol">.</a><a id="2732" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>
    <a id="2749" class="Symbol">=</a> <a id="2751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2686" class="Bound">ledger</a> <a id="2758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2726" class="Bound">addr</a> <a id="2763" class="Symbol">.</a><a id="2764" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>


<a id="2779" class="Comment">-- this function below we use it to refuend in two cases with stepEF</a>
<a id="2848" class="Comment">-- 1) when finish (first case)</a>
<a id="2879" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="2920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="2935" class="Symbol">:</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2938" class="Bound">ledger</a> <a id="2945" class="Symbol">:</a> <a id="2947" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="2953" class="Symbol">)</a>
         <a id="2964" class="Symbol">→</a>  <a id="2967" class="Symbol">(</a><a id="2968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2968" class="Bound">address</a> <a id="2976" class="Symbol">:</a> <a id="2978" href="basicDataStructure.html#387" class="Function">Address</a><a id="2985" class="Symbol">)</a> <a id="2987" class="Symbol">(</a><a id="2988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2988" class="Bound">amount&#39;</a> <a id="2996" class="Symbol">:</a> <a id="2998" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3004" class="Symbol">)</a>
         <a id="3015" class="Symbol">→</a> <a id="3017" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="3024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a> <a id="3054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3054" class="Bound">amount&#39;</a> <a id="3062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3067" class="Symbol">.</a><a id="3068" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
       <a id="3082" class="Symbol">=</a>   <a id="3086" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3094" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a>
           <a id="3116" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="3121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a> <a id="3136" class="Symbol">.</a><a id="3137" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="3144" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3054" class="Bound">amount&#39;</a>
           <a id="3165" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="3170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3182" class="Symbol">.</a><a id="3183" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="3190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3205" class="Bound">ledger</a> <a id="3212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3212" class="Bound">address</a> <a id="3220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3220" class="Bound">amount&#39;</a> <a id="3228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3228" class="Bound">addr</a> <a id="3233" class="Symbol">.</a><a id="3234" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
       <a id="3245" class="Symbol">=</a>   <a id="3249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3205" class="Bound">ledger</a> <a id="3256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3228" class="Bound">addr</a> <a id="3261" class="Symbol">.</a><a id="3262" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="3266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">ledger</a> <a id="3288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3288" class="Bound">address</a> <a id="3296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3296" class="Bound">amount&#39;</a> <a id="3304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3304" class="Bound">addr</a> <a id="3309" class="Symbol">.</a><a id="3310" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>
       <a id="3330" class="Symbol">=</a> <a id="3332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">ledger</a> <a id="3339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3304" class="Bound">addr</a> <a id="3344" class="Symbol">.</a><a id="3345" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>



<a id="3361" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="3391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="3410" class="Symbol">:</a> <a id="3412" class="Symbol">(</a><a id="3413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3413" class="Bound">oldLedger</a> <a id="3423" class="Symbol">:</a> <a id="3425" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="3431" class="Symbol">)</a>
                  <a id="3451" class="Symbol">→</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3454" class="Bound">ledger</a> <a id="3461" class="Symbol">:</a> <a id="3463" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="3469" class="Symbol">)</a> <a id="3471" class="Comment">--ledger == currentLedger</a>
                  <a id="3515" class="Symbol">→</a> <a id="3517" class="Symbol">(</a><a id="3518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3518" class="Bound">executionStack</a> <a id="3533" class="Symbol">:</a> <a id="3535" href="libraries.Mainlibrary.html#1991" class="Function">ExecutionStack</a><a id="3549" class="Symbol">)</a>
                  <a id="3569" class="Symbol">→</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3572" class="Bound">initialAddr</a> <a id="3584" class="Symbol">:</a> <a id="3586" href="basicDataStructure.html#387" class="Function">Address</a><a id="3593" class="Symbol">)</a>
                  <a id="3613" class="Symbol">→</a> <a id="3615" class="Symbol">(</a><a id="3616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3616" class="Bound">lastCallAddr</a> <a id="3629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3629" class="Bound">calledAddr</a> <a id="3640" class="Symbol">:</a> <a id="3642" href="basicDataStructure.html#387" class="Function">Address</a><a id="3649" class="Symbol">)</a>
                  <a id="3669" class="Symbol">→</a> <a id="3671" class="Symbol">(</a><a id="3672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3672" class="Bound">cont</a> <a id="3677" class="Symbol">:</a> <a id="3679" href="Complex-Model.ccomand.ccommands-cresponse.html#1474" class="Datatype">Prog</a> <a id="3684" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="3687" class="Symbol">)</a>
                  <a id="3707" class="Symbol">→</a> <a id="3709" class="Symbol">(</a><a id="3710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3710" class="Bound">gasleft</a> <a id="3718" class="Symbol">:</a> <a id="3720" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3721" class="Symbol">)</a>
                  <a id="3741" class="Symbol">→</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3744" class="Bound">funNameevalState</a> <a id="3761" class="Symbol">:</a> <a id="3763" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="3775" class="Symbol">)</a>
                  <a id="3795" class="Symbol">→</a> <a id="3797" class="Symbol">(</a><a id="3798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3798" class="Bound">msgevalState</a> <a id="3811" class="Symbol">:</a> <a id="3813" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="3816" class="Symbol">)</a>
                  <a id="3836" class="Symbol">→</a> <a id="3838" class="Symbol">(</a><a id="3839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3839" class="Bound">amount&#39;</a> <a id="3847" class="Symbol">:</a> <a id="3849" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3855" class="Symbol">)</a>
                  <a id="3875" class="Symbol">→</a> <a id="3877" class="Symbol">(</a><a id="3878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3878" class="Bound">destinationAddr</a> <a id="3894" class="Symbol">:</a> <a id="3896" href="basicDataStructure.html#387" class="Function">Address</a><a id="3903" class="Symbol">)</a>
                  <a id="3923" class="Symbol">→</a> <a id="3925" class="Symbol">(</a><a id="3926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3926" class="Bound">cp</a>  <a id="3930" class="Symbol">:</a> <a id="3932" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="3944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3839" class="Bound">amount&#39;</a> <a id="3952" class="Symbol">(</a><a id="3953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3454" class="Bound">ledger</a> <a id="3960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3629" class="Bound">calledAddr</a> <a id="3971" class="Symbol">.</a><a id="3972" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="3978" class="Symbol">))</a>
                  <a id="3999" class="Symbol">→</a> <a id="4001" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="4014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="4033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4033" class="Bound">oldLedger</a> <a id="4043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4043" class="Bound">ledger</a> <a id="4050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4050" class="Bound">executionStack</a> <a id="4065" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4065" class="Bound">initialAddr</a> <a id="4077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4077" class="Bound">lastCallAddr</a> <a id="4090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">calledAddr</a> <a id="4101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4101" class="Bound">cont</a> <a id="4106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4106" class="Bound">gasleft</a>
                   <a id="4133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4133" class="Bound">funNameevalState</a> <a id="4150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4150" class="Bound">msgevalState</a> <a id="4163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4163" class="Bound">amount&#39;</a> <a id="4171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4171" class="Bound">destinationAddr</a> <a id="4187" class="Symbol">(</a><a id="4188" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="4192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4192" class="Bound">x</a><a id="4193" class="Symbol">)</a>
         <a id="4204" class="Symbol">=</a> <a id="4206" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="4214" class="Symbol">(</a><a id="4215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="4234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4043" class="Bound">ledger</a> <a id="4241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">calledAddr</a> <a id="4252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4171" class="Bound">destinationAddr</a> <a id="4268" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4163" class="Bound">amount&#39;</a> <a id="4276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4192" class="Bound">x</a><a id="4277" class="Symbol">)</a>
          <a id="4289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4050" class="Bound">executionStack</a> <a id="4304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4065" class="Bound">initialAddr</a> <a id="4316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4077" class="Bound">lastCallAddr</a> <a id="4329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">calledAddr</a> <a id="4340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4101" class="Bound">cont</a> <a id="4345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4106" class="Bound">gasleft</a> <a id="4353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4133" class="Bound">funNameevalState</a> <a id="4370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4150" class="Bound">msgevalState</a>
<a id="4383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="4402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4402" class="Bound">oldLedger</a> <a id="4412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4412" class="Bound">ledger</a> <a id="4419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4419" class="Bound">executionStack</a> <a id="4434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4434" class="Bound">initialAddr</a> <a id="4446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4446" class="Bound">lastCallAddr</a> <a id="4459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4459" class="Bound">calledAddr</a> <a id="4470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4470" class="Bound">cont</a> <a id="4475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4475" class="Bound">gasleft</a>
                   <a id="4502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4502" class="Bound">funNameevalState</a> <a id="4519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4519" class="Bound">msgevalState</a> <a id="4532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4532" class="Bound">amount&#39;</a> <a id="4540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4540" class="Bound">destinationAddr</a> <a id="4556" class="Symbol">(</a><a id="4557" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="4565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4565" class="Bound">x</a><a id="4566" class="Symbol">)</a>
          <a id="4578" class="Symbol">=</a> <a id="4580" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="4588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4402" class="Bound">oldLedger</a> <a id="4598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4419" class="Bound">executionStack</a> <a id="4613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4434" class="Bound">initialAddr</a> <a id="4625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4446" class="Bound">lastCallAddr</a> <a id="4638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4459" class="Bound">calledAddr</a>
            <a id="4661" class="Symbol">(</a><a id="4662" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a>  <a id="4669" class="Symbol">(</a><a id="4670" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="4677" class="String">&quot;not enough money&quot;</a><a id="4695" class="Symbol">)</a>
            <a id="4709" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="4711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4446" class="Bound">lastCallAddr</a> <a id="4724" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="4727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4434" class="Bound">initialAddr</a> <a id="4739" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="4741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4502" class="Bound">funNameevalState</a> <a id="4758" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="4760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4519" class="Bound">msgevalState</a> <a id="4773" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="4775" class="Symbol">)</a>
             <a id="4790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4475" class="Bound">gasleft</a> <a id="4798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4502" class="Bound">funNameevalState</a> <a id="4815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4519" class="Bound">msgevalState</a>

<a id="4829" class="Comment">-- execute transfer </a>
<a id="executeTransfer"></a><a id="4850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4850" class="Function">executeTransfer</a> <a id="4866" class="Symbol">:</a> <a id="4868" class="Symbol">(</a><a id="4869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4869" class="Bound">oldLedger</a> <a id="4879" class="Symbol">:</a> <a id="4881" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="4887" class="Symbol">)</a>
                  <a id="4907" class="Symbol">→</a> <a id="4909" class="Symbol">(</a><a id="4910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4910" class="Bound">ledger</a> <a id="4917" class="Symbol">:</a> <a id="4919" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="4925" class="Symbol">)</a>
                  <a id="4945" class="Symbol">→</a> <a id="4947" class="Symbol">(</a><a id="4948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4948" class="Bound">execStack</a> <a id="4958" class="Symbol">:</a> <a id="4960" href="libraries.Mainlibrary.html#1991" class="Function">ExecutionStack</a><a id="4974" class="Symbol">)</a>
                  <a id="4994" class="Symbol">→</a> <a id="4996" class="Symbol">(</a><a id="4997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4997" class="Bound">initialAddr</a> <a id="5009" class="Symbol">:</a> <a id="5011" href="basicDataStructure.html#387" class="Function">Address</a><a id="5018" class="Symbol">)</a>
                  <a id="5038" class="Symbol">→</a> <a id="5040" class="Symbol">(</a><a id="5041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5041" class="Bound">lastCallAddr</a> <a id="5054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5054" class="Bound">calledAddr</a> <a id="5065" class="Symbol">:</a> <a id="5067" href="basicDataStructure.html#387" class="Function">Address</a><a id="5074" class="Symbol">)</a>
                  <a id="5094" class="Symbol">→</a> <a id="5096" class="Symbol">(</a><a id="5097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5097" class="Bound">cont</a> <a id="5102" class="Symbol">:</a> <a id="5104" href="Complex-Model.ccomand.ccommands-cresponse.html#1474" class="Datatype">Prog</a> <a id="5109" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5112" class="Symbol">)</a>
                  <a id="5132" class="Symbol">→</a> <a id="5134" class="Symbol">(</a><a id="5135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5135" class="Bound">gasleft</a> <a id="5143" class="Symbol">:</a> <a id="5145" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5146" class="Symbol">)</a>

                  <a id="5167" class="Symbol">→</a> <a id="5169" class="Symbol">(</a><a id="5170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5170" class="Bound">funNameevalState</a> <a id="5187" class="Symbol">:</a> <a id="5189" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="5201" class="Symbol">)</a>
                  <a id="5221" class="Symbol">→</a> <a id="5223" class="Symbol">(</a><a id="5224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5224" class="Bound">msgevalState</a> <a id="5237" class="Symbol">:</a> <a id="5239" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5242" class="Symbol">)</a>
                  <a id="5262" class="Symbol">→</a> <a id="5264" class="Symbol">(</a><a id="5265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5265" class="Bound">amount&#39;</a> <a id="5273" class="Symbol">:</a> <a id="5275" href="basicDataStructure.html#360" class="Function">Amount</a><a id="5281" class="Symbol">)</a>
                  <a id="5301" class="Symbol">→</a> <a id="5303" class="Symbol">(</a><a id="5304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5304" class="Bound">destinationAddr</a> <a id="5320" class="Symbol">:</a> <a id="5322" href="basicDataStructure.html#387" class="Function">Address</a><a id="5329" class="Symbol">)</a>
                  <a id="5349" class="Symbol">→</a> <a id="5351" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="5364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4850" class="Function">executeTransfer</a> <a id="5380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5380" class="Bound">oldLedger</a> <a id="5390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5390" class="Bound">ledger</a> <a id="5397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5397" class="Bound">execStack</a> <a id="5407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5407" class="Bound">initialAddr</a> <a id="5419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5419" class="Bound">lastCallAddr</a> <a id="5432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5432" class="Bound">calledAddr</a>
                <a id="5459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5459" class="Bound">cont</a> <a id="5464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5464" class="Bound">gasleft</a>  <a id="5473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5473" class="Bound">funNameevalState</a> <a id="5490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5490" class="Bound">msgevalState</a> <a id="5503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5503" class="Bound">amount&#39;</a> <a id="5511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5511" class="Bound">destinationAddr</a>
         <a id="5536" class="Symbol">=</a> <a id="5538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="5557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5380" class="Bound">oldLedger</a> <a id="5567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5390" class="Bound">ledger</a> <a id="5574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5397" class="Bound">execStack</a> <a id="5584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5407" class="Bound">initialAddr</a> <a id="5596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5419" class="Bound">lastCallAddr</a> <a id="5609" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5432" class="Bound">calledAddr</a>
            <a id="5632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5459" class="Bound">cont</a> <a id="5637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5464" class="Bound">gasleft</a>  <a id="5646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5473" class="Bound">funNameevalState</a> <a id="5663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5490" class="Bound">msgevalState</a> <a id="5676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5503" class="Bound">amount&#39;</a>
            <a id="5696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5511" class="Bound">destinationAddr</a> <a id="5712" class="Symbol">(</a><a id="5713" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="5724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5503" class="Bound">amount&#39;</a> <a id="5732" class="Symbol">(</a><a id="5733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5390" class="Bound">ledger</a> <a id="5740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5432" class="Bound">calledAddr</a> <a id="5751" class="Symbol">.</a><a id="5752" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="5758" class="Symbol">))</a>



<a id="5764" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="5808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="5815" class="Symbol">:</a> <a id="5817" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="5824" class="Symbol">→</a> <a id="5826" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="5839" class="Symbol">→</a> <a id="5841" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="5854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="5861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5861" class="Bound">oldLedger</a> <a id="5871" class="Symbol">(</a><a id="5872" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="5880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5880" class="Bound">currentLedger</a> <a id="5894" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5897" class="Bound">initialAddr</a> <a id="5909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5909" class="Bound">lastCallAddr</a> <a id="5922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5922" class="Bound">calledAddr</a>
                 <a id="5950" class="Symbol">(</a><a id="5951" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="5958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5958" class="Bound">cost</a> <a id="5963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5963" class="Bound">result</a><a id="5969" class="Symbol">)</a> <a id="5971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5971" class="Bound">gasLeft</a>  <a id="5980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5980" class="Bound">funNameevalState</a> <a id="5997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5997" class="Bound">msgevalState</a><a id="6009" class="Symbol">)</a>
       <a id="6018" class="Symbol">=</a> <a id="6020" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5880" class="Bound">currentLedger</a> <a id="6042" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5897" class="Bound">initialAddr</a> <a id="6057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5909" class="Bound">lastCallAddr</a> <a id="6070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5922" class="Bound">calledAddr</a>
         <a id="6090" class="Symbol">(</a><a id="6091" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="6098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5958" class="Bound">cost</a> <a id="6103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5963" class="Bound">result</a><a id="6109" class="Symbol">)</a> <a id="6111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5971" class="Bound">gasLeft</a>  <a id="6120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5980" class="Bound">funNameevalState</a> <a id="6137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5997" class="Bound">msgevalState</a> 

<a id="6152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="6159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6159" class="Bound">oldLedger</a> <a id="6169" class="Symbol">(</a><a id="6170" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6178" class="Bound">currentLedger</a> <a id="6192" class="Symbol">(</a><a id="6193" href="libraries.Mainlibrary.html#1164" class="InductiveConstructor">execStackEl</a> <a id="6205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6205" class="Bound">prevLastCallAddress</a> <a id="6225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6225" class="Bound">prevCalledAddress</a> <a id="6243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6243" class="Bound">prevContinuation</a>
                 <a id="6277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6277" class="Bound">prevCostCont</a> <a id="6290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6290" class="Bound">prevFunName</a> <a id="6302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6302" class="Bound">prevMsgExec</a> <a id="6314" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6316" class="Bound">executionStack</a><a id="6330" class="Symbol">)</a>
                  <a id="6350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6350" class="Bound">initialAddr</a> <a id="6362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6362" class="Bound">lastCallAddr</a> <a id="6375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6375" class="Bound">calledAddr</a> <a id="6386" class="Symbol">(</a><a id="6387" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="6394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6394" class="Bound">cost</a> <a id="6399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6399" class="Bound">result</a><a id="6405" class="Symbol">)</a> <a id="6407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6407" class="Bound">gasLeft</a> <a id="6415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6415" class="Bound">funNameevalState</a> <a id="6432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6432" class="Bound">msgevalState</a><a id="6444" class="Symbol">)</a>
            <a id="6458" class="Symbol">=</a> <a id="6460" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6178" class="Bound">currentLedger</a> <a id="6482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6316" class="Bound">executionStack</a> <a id="6497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6350" class="Bound">initialAddr</a> <a id="6509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6205" class="Bound">prevLastCallAddress</a> <a id="6529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6225" class="Bound">prevCalledAddress</a>
                        <a id="6571" class="Symbol">(</a><a id="6572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6243" class="Bound">prevContinuation</a> <a id="6589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6399" class="Bound">result</a><a id="6595" class="Symbol">)</a> <a id="6597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6407" class="Bound">gasLeft</a> <a id="6605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6290" class="Bound">prevFunName</a> <a id="6617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6302" class="Bound">prevMsgExec</a>

<a id="6630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="6636" class="CatchallClause"> </a><a id="6637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6637" class="CatchallClause Bound">oldLedger</a><a id="6646" class="CatchallClause"> </a><a id="6647" class="CatchallClause Symbol">(</a><a id="6648" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="6655" class="CatchallClause"> </a><a id="6656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6656" class="CatchallClause Bound">currentLedger</a><a id="6669" class="CatchallClause"> </a><a id="6670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6670" class="CatchallClause Bound">executionStack</a><a id="6684" class="CatchallClause"> </a><a id="6685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6685" class="CatchallClause Bound">initialAddr</a><a id="6696" class="CatchallClause"> </a><a id="6697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6697" class="CatchallClause Bound">lastCallAddr</a><a id="6709" class="CatchallClause"> </a><a id="6710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6710" class="CatchallClause Bound">calledAddr</a>
                 <a id="6738" class="CatchallClause Symbol">(</a><a id="6739" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="6743" class="CatchallClause"> </a><a id="6744" href="Complex-Model.ccomand.ccommands-cresponse.html#608" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="6762" class="CatchallClause"> </a><a id="6763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6763" class="CatchallClause Bound">costcomputecont</a><a id="6778" class="CatchallClause"> </a><a id="6779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6779" class="CatchallClause Bound">cont</a><a id="6783" class="CatchallClause Symbol">)</a><a id="6784" class="CatchallClause"> </a><a id="6785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6785" class="CatchallClause Bound">gasLeft</a>
                  <a id="6811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="CatchallClause Bound">funNameevalState</a><a id="6827" class="CatchallClause"> </a><a id="6828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6828" class="CatchallClause Bound">msgevalState</a><a id="6840" class="CatchallClause Symbol">)</a>
       <a id="6849" class="Symbol">=</a> <a id="6851" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6656" class="Bound">currentLedger</a> <a id="6873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6670" class="Bound">executionStack</a> <a id="6888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6685" class="Bound">initialAddr</a> <a id="6900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6697" class="Bound">lastCallAddr</a> <a id="6913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6710" class="Bound">calledAddr</a>
          <a id="6934" class="Symbol">(</a><a id="6935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6779" class="Bound">cont</a> <a id="6940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6710" class="Bound">calledAddr</a><a id="6950" class="Symbol">)</a> <a id="6952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6785" class="Bound">gasLeft</a>  <a id="6961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="Bound">funNameevalState</a> <a id="6978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6828" class="Bound">msgevalState</a> 

<a id="6993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="6999" class="CatchallClause"> </a><a id="7000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7000" class="CatchallClause Bound">oldLedger</a><a id="7009" class="CatchallClause"> </a><a id="7010" class="CatchallClause Symbol">(</a><a id="7011" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="7018" class="CatchallClause"> </a><a id="7019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7019" class="CatchallClause Bound">currentLedger</a><a id="7032" class="CatchallClause"> </a><a id="7033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7033" class="CatchallClause Bound">executionStack</a><a id="7047" class="CatchallClause"> </a><a id="7048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7048" class="CatchallClause Bound">initialAddr</a><a id="7059" class="CatchallClause"> </a><a id="7060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7060" class="CatchallClause Bound">lastCallAddr</a><a id="7072" class="CatchallClause"> </a><a id="7073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="CatchallClause Bound">calledAddr</a>
                 <a id="7101" class="CatchallClause Symbol">(</a><a id="7102" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="7106" class="CatchallClause"> </a><a id="7107" href="Complex-Model.ccomand.ccommands-cresponse.html#643" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="7122" class="CatchallClause"> </a><a id="7123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7123" class="CatchallClause Bound">costcomputecont</a><a id="7138" class="CatchallClause"> </a><a id="7139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7139" class="CatchallClause Bound">cont</a><a id="7143" class="CatchallClause Symbol">)</a><a id="7144" class="CatchallClause"> </a><a id="7145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7145" class="CatchallClause Bound">gasLeft</a>
                  <a id="7171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7171" class="CatchallClause Bound">funNameevalState</a><a id="7187" class="CatchallClause"> </a><a id="7188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7188" class="CatchallClause Bound">msgevalState</a><a id="7200" class="CatchallClause Symbol">)</a>
       <a id="7209" class="Symbol">=</a> <a id="7211" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="7219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7019" class="Bound">currentLedger</a> <a id="7233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7033" class="Bound">executionStack</a> <a id="7248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7048" class="Bound">initialAddr</a> <a id="7260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7060" class="Bound">lastCallAddr</a> <a id="7273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="Bound">calledAddr</a> <a id="7284" class="Symbol">(</a><a id="7285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7139" class="Bound">cont</a> <a id="7290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7060" class="Bound">lastCallAddr</a><a id="7302" class="Symbol">)</a>
          <a id="7314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7145" class="Bound">gasLeft</a>  <a id="7323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7171" class="Bound">funNameevalState</a> <a id="7340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7188" class="Bound">msgevalState</a>

<a id="7354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="7360" class="CatchallClause"> </a><a id="7361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7361" class="CatchallClause Bound">oldLedger</a><a id="7370" class="CatchallClause"> </a><a id="7371" class="CatchallClause Symbol">(</a><a id="7372" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="7379" class="CatchallClause"> </a><a id="7380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7380" class="CatchallClause Bound">currentLedger</a><a id="7393" class="CatchallClause"> </a><a id="7394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7394" class="CatchallClause Bound">executionStack</a><a id="7408" class="CatchallClause"> </a><a id="7409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7409" class="CatchallClause Bound">initialAddr</a><a id="7420" class="CatchallClause"> </a><a id="7421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7421" class="CatchallClause Bound">lastCallAddr</a><a id="7433" class="CatchallClause"> </a><a id="7434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7434" class="CatchallClause Bound">calledAddr</a>
                 <a id="7462" class="CatchallClause Symbol">(</a><a id="7463" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="7467" class="CatchallClause"> </a><a id="7468" class="CatchallClause Symbol">(</a><a id="7469" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">updatec</a><a id="7476" class="CatchallClause"> </a><a id="7477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7477" class="CatchallClause Bound">changedFname</a><a id="7489" class="CatchallClause"> </a><a id="7490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7490" class="CatchallClause Bound">changedPFun</a><a id="7501" class="CatchallClause"> </a><a id="7502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7502" class="CatchallClause Bound">cost</a><a id="7506" class="CatchallClause Symbol">)</a><a id="7507" class="CatchallClause"> </a><a id="7508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7508" class="CatchallClause Bound">costcomputecont</a><a id="7523" class="CatchallClause"> </a><a id="7524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7524" class="CatchallClause Bound">cont</a><a id="7528" class="CatchallClause Symbol">)</a>
                 <a id="7547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7547" class="CatchallClause Bound">gasLeft</a><a id="7554" class="CatchallClause">  </a><a id="7556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7556" class="CatchallClause Bound">funNameevalState</a><a id="7572" class="CatchallClause"> </a><a id="7573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7573" class="CatchallClause Bound">msgevalState</a><a id="7585" class="CatchallClause Symbol">)</a>
       <a id="7594" class="Symbol">=</a> <a id="7596" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="7604" class="Symbol">(</a><a id="7605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="7625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7380" class="Bound">currentLedger</a> <a id="7639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7434" class="Bound">calledAddr</a> <a id="7650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7477" class="Bound">changedFname</a>  <a id="7664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7490" class="Bound">changedPFun</a><a id="7675" class="Symbol">)</a>
          <a id="7687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7394" class="Bound">executionStack</a> <a id="7702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7409" class="Bound">initialAddr</a> <a id="7714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7421" class="Bound">lastCallAddr</a> <a id="7727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7434" class="Bound">calledAddr</a> <a id="7738" class="Symbol">(</a><a id="7739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7524" class="Bound">cont</a> <a id="7744" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="7746" class="Symbol">)</a> <a id="7748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7547" class="Bound">gasLeft</a>
            <a id="7768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7556" class="Bound">funNameevalState</a> <a id="7785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7573" class="Bound">msgevalState</a>

<a id="7799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="7805" class="CatchallClause"> </a><a id="7806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7806" class="CatchallClause Bound">oldLedger</a><a id="7815" class="CatchallClause"> </a><a id="7816" class="CatchallClause Symbol">(</a><a id="7817" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="7824" class="CatchallClause"> </a><a id="7825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7825" class="CatchallClause Bound">currentLedger</a><a id="7838" class="CatchallClause"> </a><a id="7839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7839" class="CatchallClause Bound">executionStack</a><a id="7853" class="CatchallClause"> </a><a id="7854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7854" class="CatchallClause Bound">initialAddr</a><a id="7865" class="CatchallClause"> </a><a id="7866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7866" class="CatchallClause Bound">oldlastCallAddr</a><a id="7881" class="CatchallClause"> </a><a id="7882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7882" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="7913" class="CatchallClause Symbol">(</a><a id="7914" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="7918" class="CatchallClause"> </a><a id="7919" class="CatchallClause Symbol">(</a><a id="7920" href="Complex-Model.ccomand.ccommands-cresponse.html#675" class="CatchallClause InductiveConstructor">callc</a><a id="7925" class="CatchallClause"> </a><a id="7926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7926" class="CatchallClause Bound">newaddr</a><a id="7933" class="CatchallClause"> </a><a id="7934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7934" class="CatchallClause Bound">fname</a><a id="7939" class="CatchallClause"> </a><a id="7940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="CatchallClause Bound">msg</a><a id="7943" class="CatchallClause Symbol">)</a><a id="7944" class="CatchallClause"> </a><a id="7945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7945" class="CatchallClause Bound">costcomputecont</a><a id="7960" class="CatchallClause"> </a><a id="7961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="CatchallClause Bound">cont</a><a id="7965" class="CatchallClause Symbol">)</a>
                 <a id="7984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7984" class="CatchallClause Bound">gasLeft</a><a id="7991" class="CatchallClause">  </a><a id="7993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7993" class="CatchallClause Bound">funNameevalState</a><a id="8009" class="CatchallClause"> </a><a id="8010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8010" class="CatchallClause Bound">msgevalState</a><a id="8022" class="CatchallClause Symbol">)</a>
       <a id="8031" class="Symbol">=</a> <a id="8033" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="8041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7825" class="Bound">currentLedger</a>
           <a id="8066" class="Symbol">(</a><a id="8067" href="libraries.Mainlibrary.html#1164" class="InductiveConstructor">execStackEl</a> <a id="8079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7866" class="Bound">oldlastCallAddr</a> <a id="8095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7882" class="Bound">oldcalledAddr</a> <a id="8109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Bound">cont</a> <a id="8114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7945" class="Bound">costcomputecont</a> <a id="8130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7993" class="Bound">funNameevalState</a> <a id="8147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8010" class="Bound">msgevalState</a> <a id="8160" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7839" class="Bound">executionStack</a><a id="8176" class="Symbol">)</a>
           <a id="8189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7854" class="Bound">initialAddr</a> <a id="8201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7882" class="Bound">oldcalledAddr</a> <a id="8215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7926" class="Bound">newaddr</a> <a id="8223" class="Symbol">(</a><a id="8224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7825" class="Bound">currentLedger</a> <a id="8238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7926" class="Bound">newaddr</a> <a id="8246" class="Symbol">.</a><a id="8247" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="8251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7934" class="Bound">fname</a> <a id="8257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="Bound">msg</a><a id="8260" class="Symbol">)</a>
           <a id="8273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7984" class="Bound">gasLeft</a>  <a id="8282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7934" class="Bound">fname</a> <a id="8288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="Bound">msg</a>

<a id="8293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="8299" class="CatchallClause"> </a><a id="8300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8300" class="CatchallClause Bound">oldLedger</a><a id="8309" class="CatchallClause"> </a><a id="8310" class="CatchallClause Symbol">(</a><a id="8311" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="8318" class="CatchallClause"> </a><a id="8319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8319" class="CatchallClause Bound">currentLedger</a><a id="8332" class="CatchallClause"> </a><a id="8333" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8333" class="CatchallClause Bound">executionStack</a><a id="8347" class="CatchallClause"> </a><a id="8348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8348" class="CatchallClause Bound">initialAddr</a><a id="8359" class="CatchallClause"> </a><a id="8360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8360" class="CatchallClause Bound">lastCallAddr</a><a id="8372" class="CatchallClause"> </a><a id="8373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8373" class="CatchallClause Bound">calledAddr</a>
                 <a id="8401" class="CatchallClause Symbol">(</a><a id="8402" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="8406" class="CatchallClause"> </a><a id="8407" class="CatchallClause Symbol">(</a><a id="8408" href="Complex-Model.ccomand.ccommands-cresponse.html#816" class="CatchallClause InductiveConstructor">transferc</a><a id="8417" class="CatchallClause"> </a><a id="8418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8418" class="CatchallClause Bound">amount</a><a id="8424" class="CatchallClause"> </a><a id="8425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8425" class="CatchallClause Bound">destinationAddr</a><a id="8440" class="CatchallClause Symbol">)</a><a id="8441" class="CatchallClause"> </a><a id="8442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8442" class="CatchallClause Bound">costcomputecont</a><a id="8457" class="CatchallClause"> </a><a id="8458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8458" class="CatchallClause Bound">cont</a><a id="8462" class="CatchallClause Symbol">)</a>
                  <a id="8482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8482" class="CatchallClause Bound">gasLeft</a><a id="8489" class="CatchallClause">  </a><a id="8491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8491" class="CatchallClause Bound">funNameevalState</a><a id="8507" class="CatchallClause"> </a><a id="8508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="CatchallClause Bound">msgevalState</a><a id="8520" class="CatchallClause Symbol">)</a>
       <a id="8529" class="Symbol">=</a> <a id="8531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4850" class="Function">executeTransfer</a> <a id="8547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8300" class="Bound">oldLedger</a> <a id="8557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8319" class="Bound">currentLedger</a> <a id="8571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8333" class="Bound">executionStack</a> <a id="8586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8348" class="Bound">initialAddr</a> <a id="8598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8360" class="Bound">lastCallAddr</a> <a id="8611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8373" class="Bound">calledAddr</a>
       <a id="8629" class="Symbol">(</a><a id="8630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8458" class="Bound">cont</a> <a id="8635" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="8637" class="Symbol">)</a> <a id="8639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8482" class="Bound">gasLeft</a>  <a id="8648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8491" class="Bound">funNameevalState</a> <a id="8665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="Bound">msgevalState</a>
           <a id="8689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8418" class="Bound">amount</a> <a id="8696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8425" class="Bound">destinationAddr</a>
           
<a id="8724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="8730" class="CatchallClause"> </a><a id="8731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8731" class="CatchallClause Bound">oldLedger</a><a id="8740" class="CatchallClause"> </a><a id="8741" class="CatchallClause Symbol">(</a><a id="8742" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="8749" class="CatchallClause"> </a><a id="8750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="CatchallClause Bound">currentLedger</a><a id="8763" class="CatchallClause"> </a><a id="8764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8764" class="CatchallClause Bound">executionStack</a><a id="8778" class="CatchallClause"> </a><a id="8779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8779" class="CatchallClause Bound">initialAddr</a><a id="8790" class="CatchallClause"> </a><a id="8791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8791" class="CatchallClause Bound">lastCallAddr</a><a id="8803" class="CatchallClause"> </a><a id="8804" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8804" class="CatchallClause Bound">calledAddr</a>
                 <a id="8832" class="CatchallClause Symbol">(</a><a id="8833" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="8837" class="CatchallClause"> </a><a id="8838" class="CatchallClause Symbol">(</a><a id="8839" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">getAmountc</a><a id="8849" class="CatchallClause"> </a><a id="8850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8850" class="CatchallClause Bound">addrLookedUp</a><a id="8862" class="CatchallClause Symbol">)</a><a id="8863" class="CatchallClause"> </a><a id="8864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8864" class="CatchallClause Bound">costcomputecont</a><a id="8879" class="CatchallClause"> </a><a id="8880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8880" class="CatchallClause Bound">cont</a><a id="8884" class="CatchallClause Symbol">)</a><a id="8885" class="CatchallClause"> </a><a id="8886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8886" class="CatchallClause Bound">gasLeft</a>
                   <a id="8913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8913" class="CatchallClause Bound">funNameevalState</a><a id="8929" class="CatchallClause"> </a><a id="8930" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8930" class="CatchallClause Bound">msgevalState</a><a id="8942" class="CatchallClause Symbol">)</a>
      <a id="8950" class="Symbol">=</a> <a id="8952" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="8960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="Bound">currentLedger</a> <a id="8974" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8764" class="Bound">executionStack</a> <a id="8989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8779" class="Bound">initialAddr</a> <a id="9001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8791" class="Bound">lastCallAddr</a> <a id="9014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8804" class="Bound">calledAddr</a>
           <a id="9036" class="Symbol">(</a><a id="9037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8880" class="Bound">cont</a> <a id="9042" class="Symbol">(</a><a id="9043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="Bound">currentLedger</a> <a id="9057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8850" class="Bound">addrLookedUp</a> <a id="9070" class="Symbol">.</a><a id="9071" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="9077" class="Symbol">))</a> <a id="9080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8886" class="Bound">gasLeft</a>
              <a id="9102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8913" class="Bound">funNameevalState</a> <a id="9119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8930" class="Bound">msgevalState</a>
              
<a id="9147" class="Comment">--------------------- new for raiseException</a>
<a id="9192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="9198" class="CatchallClause"> </a><a id="9199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9199" class="CatchallClause Bound">oldLedger</a><a id="9208" class="CatchallClause"> </a><a id="9209" class="CatchallClause Symbol">(</a><a id="9210" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="9217" class="CatchallClause"> </a><a id="9218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9218" class="CatchallClause Bound">ledger</a><a id="9224" class="CatchallClause"> </a><a id="9225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="CatchallClause Bound">executionStack</a><a id="9239" class="CatchallClause"> </a><a id="9240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9240" class="CatchallClause Bound">initialAddr</a><a id="9251" class="CatchallClause"> </a><a id="9252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9252" class="CatchallClause Bound">lastCallAddr</a><a id="9264" class="CatchallClause"> </a><a id="9265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9265" class="CatchallClause Bound">calledAddr</a>
                   <a id="9295" class="CatchallClause Symbol">(</a><a id="9296" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="9300" class="CatchallClause"> </a><a id="9301" class="CatchallClause Symbol">(</a><a id="9302" href="Complex-Model.ccomand.ccommands-cresponse.html#899" class="CatchallClause InductiveConstructor">raiseException</a><a id="9316" class="CatchallClause"> </a><a id="9317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9317" class="CatchallClause Bound">cost</a><a id="9321" class="CatchallClause"> </a><a id="9322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9322" class="CatchallClause Bound">str</a><a id="9325" class="CatchallClause Symbol">)</a><a id="9326" class="CatchallClause"> </a><a id="9327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9327" class="CatchallClause Bound">costcomputecont</a><a id="9342" class="CatchallClause"> </a><a id="9343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9343" class="CatchallClause Bound">cont</a><a id="9347" class="CatchallClause Symbol">)</a>
                   <a id="9368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9368" class="CatchallClause Bound">gasLeft</a><a id="9375" class="CatchallClause"> </a><a id="9376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9376" class="CatchallClause Bound">funNameevalState</a><a id="9392" class="CatchallClause"> </a><a id="9393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="CatchallClause Bound">msgevalState</a><a id="9405" class="CatchallClause Symbol">)</a>
                   <a id="9426" class="Symbol">=</a> <a id="9428" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="9436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9199" class="Bound">oldLedger</a> <a id="9446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="Bound">executionStack</a> <a id="9461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9240" class="Bound">initialAddr</a> <a id="9473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9252" class="Bound">lastCallAddr</a> <a id="9486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9265" class="Bound">calledAddr</a>
                     <a id="9518" class="Symbol">(</a><a id="9519" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a>  <a id="9526" class="Symbol">(</a><a id="9527" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="9534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9322" class="Bound">str</a><a id="9537" class="Symbol">)</a> 
                     <a id="9561" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="9563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9252" class="Bound">lastCallAddr</a> <a id="9576" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="9579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9240" class="Bound">initialAddr</a> <a id="9591" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="9593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9376" class="Bound">funNameevalState</a> <a id="9610" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="9612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="Bound">msgevalState</a> <a id="9625" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="9627" class="Symbol">)</a>
                     <a id="9650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9368" class="Bound">gasLeft</a> <a id="9658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9376" class="Bound">funNameevalState</a> <a id="9675" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="Bound">msgevalState</a>



<a id="9691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="9697" class="CatchallClause"> </a><a id="9698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="CatchallClause Bound">oldLedger</a><a id="9707" class="CatchallClause"> </a><a id="9708" class="CatchallClause Symbol">(</a><a id="9709" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="9716" class="CatchallClause"> </a><a id="9717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9717" class="CatchallClause Bound">currentLedger</a><a id="9730" class="CatchallClause"> </a><a id="9731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9731" class="CatchallClause Bound">executionStack</a><a id="9745" class="CatchallClause"> </a><a id="9746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9746" class="CatchallClause Bound">initialAddr</a><a id="9757" class="CatchallClause"> </a><a id="9758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9758" class="CatchallClause Bound">lastCallAddr</a><a id="9770" class="CatchallClause"> </a><a id="9771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9771" class="CatchallClause Bound">calledAddr</a>
                 <a id="9799" class="CatchallClause Symbol">(</a><a id="9800" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="9805" class="CatchallClause"> </a><a id="9806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="CatchallClause Bound">errorMsg</a><a id="9814" class="CatchallClause"> </a><a id="9815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9815" class="CatchallClause Bound">debugInfo</a><a id="9824" class="CatchallClause Symbol">)</a><a id="9825" class="CatchallClause"> </a><a id="9826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9826" class="CatchallClause Bound">gasLeft</a><a id="9833" class="CatchallClause">  </a><a id="9835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9835" class="CatchallClause Bound">funNameevalState</a><a id="9851" class="CatchallClause"> </a><a id="9852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9852" class="CatchallClause Bound">msgevalState</a><a id="9864" class="CatchallClause Symbol">)</a>
       <a id="9873" class="Symbol">=</a> <a id="9875" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="9883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="Bound">oldLedger</a> <a id="9893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9731" class="Bound">executionStack</a> <a id="9908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9746" class="Bound">initialAddr</a> <a id="9920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9758" class="Bound">lastCallAddr</a> <a id="9933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9771" class="Bound">calledAddr</a>
         <a id="9953" class="Symbol">(</a><a id="9954" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a> <a id="9960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="Bound">errorMsg</a> <a id="9969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9815" class="Bound">debugInfo</a><a id="9978" class="Symbol">)</a>  <a id="9981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9826" class="Bound">gasLeft</a>  <a id="9990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9835" class="Bound">funNameevalState</a> <a id="10007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9852" class="Bound">msgevalState</a>


<a id="10022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="10028" class="CatchallClause"> </a><a id="10029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10029" class="CatchallClause Bound">oldLedger</a><a id="10038" class="CatchallClause"> </a><a id="10039" class="CatchallClause Symbol">(</a><a id="10040" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="10047" class="CatchallClause"> </a><a id="10048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="CatchallClause Bound">currentLedger</a><a id="10061" class="CatchallClause"> </a><a id="10062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10062" class="CatchallClause Bound">executionStack</a><a id="10076" class="CatchallClause"> </a><a id="10077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10077" class="CatchallClause Bound">initialAddr</a><a id="10088" class="CatchallClause"> </a><a id="10089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10089" class="CatchallClause Bound">lastCallAddr</a><a id="10101" class="CatchallClause"> </a><a id="10102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10102" class="CatchallClause Bound">calledAddr</a>
                 <a id="10130" class="CatchallClause Symbol">(</a><a id="10131" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="10135" class="CatchallClause"> </a><a id="10136" class="CatchallClause Symbol">(</a><a id="10137" href="Complex-Model.ccomand.ccommands-cresponse.html#730" class="CatchallClause InductiveConstructor">callPure</a><a id="10145" class="CatchallClause"> </a><a id="10146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="CatchallClause Bound">addr</a><a id="10150" class="CatchallClause"> </a><a id="10151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="CatchallClause Bound">fname</a><a id="10156" class="CatchallClause"> </a><a id="10157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="CatchallClause Bound">msg</a><a id="10160" class="CatchallClause Symbol">)</a><a id="10161" class="CatchallClause"> </a><a id="10162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10162" class="CatchallClause Bound">costcomputecont</a><a id="10177" class="CatchallClause"> </a><a id="10178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10178" class="CatchallClause Bound">cont</a><a id="10182" class="CatchallClause Symbol">)</a><a id="10183" class="CatchallClause"> </a><a id="10184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10184" class="CatchallClause Bound">gasLeft</a>
                  <a id="10210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10210" class="CatchallClause Bound">funNameevalState</a><a id="10226" class="CatchallClause"> </a><a id="10227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10227" class="CatchallClause Bound">msgevalState</a><a id="10239" class="CatchallClause Symbol">)</a>
                  <a id="10259" class="Symbol">=</a> <a id="10261" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="10269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="Bound">currentLedger</a> <a id="10283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10062" class="Bound">executionStack</a> <a id="10298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10077" class="Bound">initialAddr</a> <a id="10310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10089" class="Bound">lastCallAddr</a> <a id="10323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10102" class="Bound">calledAddr</a>
                    <a id="10354" class="Symbol">(</a><a id="10355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10178" class="Bound">cont</a> <a id="10360" class="Symbol">(</a><a id="10361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="Bound">currentLedger</a> <a id="10375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="Bound">addr</a> <a id="10380" class="Symbol">.</a><a id="10381" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="10394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="Bound">fname</a> <a id="10400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="Bound">msg</a><a id="10403" class="Symbol">))</a>
                    <a id="10426" class="Symbol">(</a><a id="10427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10184" class="Bound">gasLeft</a> <a id="10435" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="10437" class="Symbol">(</a><a id="10438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10162" class="Bound">costcomputecont</a> <a id="10454" class="Symbol">(</a><a id="10455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="Bound">currentLedger</a> <a id="10469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="Bound">addr</a> <a id="10474" class="Symbol">.</a><a id="10475" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="10488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="Bound">fname</a> <a id="10494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="Bound">msg</a><a id="10497" class="Symbol">)))</a> <a id="10501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="Bound">fname</a> <a id="10507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="Bound">msg</a>


<a id="10513" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="10557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="10576" class="Symbol">:</a> <a id="10578" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="10591" class="Symbol">→</a> <a id="10593" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="10595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="10614" class="Symbol">(</a><a id="10615" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="10623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10623" class="Bound">ledger</a> <a id="10630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10630" class="Bound">executionStack</a> <a id="10645" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10645" class="Bound">initialAddr</a>
                   <a id="10676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10676" class="Bound">lastCallAddr</a> <a id="10689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10689" class="Bound">calledAddr</a>
                   <a id="10719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10719" class="Bound">nextstep</a> <a id="10728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10728" class="Bound">gasLeft</a>  <a id="10737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10737" class="Bound">funNameevalState</a> <a id="10754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10754" class="Bound">msgevalState</a><a id="10766" class="Symbol">)</a>
                   <a id="10787" class="Symbol">=</a> <a id="10789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10728" class="Bound">gasLeft</a>


<a id="10799" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="10856" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="10889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="10905" class="Symbol">:</a> <a id="10907" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="10920" class="Symbol">→</a> <a id="10922" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="10924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a>  <a id="10941" class="Symbol">(</a><a id="10942" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="10950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10950" class="Bound">currentLedger</a> <a id="10964" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10967" class="Bound">initialAddr</a> <a id="10979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10979" class="Bound">lastCallAddr</a> <a id="10992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10992" class="Bound">calledAddr</a>
                 <a id="11020" class="Symbol">(</a><a id="11021" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="11028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11028" class="Bound">cost</a> <a id="11033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11033" class="Bound">result</a><a id="11039" class="Symbol">)</a> <a id="11041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11041" class="Bound">gasLeft</a>  <a id="11050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11050" class="Bound">funNameevalState</a> <a id="11067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11067" class="Bound">msgevalState</a><a id="11079" class="Symbol">)</a>
       <a id="11088" class="Symbol">=</a> <a id="11090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11028" class="Bound">cost</a> 
<a id="11096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a>  <a id="11113" class="Symbol">(</a><a id="11114" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="11122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11122" class="Bound">currentLedger</a> <a id="11136" class="Symbol">(</a><a id="11137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11137" class="Bound">execSEl</a> <a id="11145" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11147" class="Bound">executionStack</a><a id="11161" class="Symbol">)</a> <a id="11163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11163" class="Bound">initialAddr</a> <a id="11175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11175" class="Bound">lastCallAddr</a> <a id="11188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11188" class="Bound">calledAddr</a>
                 <a id="11216" class="Symbol">(</a><a id="11217" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="11224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11224" class="Bound">cost</a> <a id="11229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11229" class="Bound">result</a><a id="11235" class="Symbol">)</a> <a id="11237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11237" class="Bound">gasLeft</a>  <a id="11246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11246" class="Bound">funNameevalState</a> <a id="11263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11263" class="Bound">msgevalState</a><a id="11275" class="Symbol">)</a>
       <a id="11284" class="Symbol">=</a> <a id="11286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11224" class="Bound">cost</a> 

<a id="11293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="11308" class="CatchallClause"> </a><a id="11309" class="CatchallClause Symbol">(</a><a id="11310" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="11317" class="CatchallClause"> </a><a id="11318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11318" class="CatchallClause Bound">currentLedger</a><a id="11331" class="CatchallClause"> </a><a id="11332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11332" class="CatchallClause Bound">executionStack</a><a id="11346" class="CatchallClause"> </a><a id="11347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11347" class="CatchallClause Bound">initialAddr</a><a id="11358" class="CatchallClause"> </a><a id="11359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11359" class="CatchallClause Bound">lastCallAddr</a><a id="11371" class="CatchallClause"> </a><a id="11372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11372" class="CatchallClause Bound">calledAddr</a>
                 <a id="11400" class="CatchallClause Symbol">(</a><a id="11401" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="11405" class="CatchallClause"> </a><a id="11406" href="Complex-Model.ccomand.ccommands-cresponse.html#608" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="11424" class="CatchallClause"> </a><a id="11425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11425" class="CatchallClause Bound">costcomputecont</a><a id="11440" class="CatchallClause"> </a><a id="11441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11441" class="CatchallClause Bound">cont</a><a id="11445" class="CatchallClause Symbol">)</a>
                 <a id="11464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11464" class="CatchallClause Bound">gasLeft</a><a id="11471" class="CatchallClause">  </a><a id="11473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11473" class="CatchallClause Bound">funNameevalState</a><a id="11489" class="CatchallClause"> </a><a id="11490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11490" class="CatchallClause Bound">msgevalState</a><a id="11502" class="CatchallClause Symbol">)</a>
       <a id="11511" class="Symbol">=</a> <a id="11513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11425" class="Bound">costcomputecont</a> <a id="11529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11372" class="Bound">calledAddr</a>

<a id="11541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="11556" class="CatchallClause"> </a><a id="11557" class="CatchallClause Symbol">(</a><a id="11558" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="11565" class="CatchallClause"> </a><a id="11566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11566" class="CatchallClause Bound">currentLedger</a><a id="11579" class="CatchallClause"> </a><a id="11580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11580" class="CatchallClause Bound">executionStack</a><a id="11594" class="CatchallClause"> </a><a id="11595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11595" class="CatchallClause Bound">initialAddr</a><a id="11606" class="CatchallClause"> </a><a id="11607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11607" class="CatchallClause Bound">lastCallAddr</a><a id="11619" class="CatchallClause"> </a><a id="11620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11620" class="CatchallClause Bound">calledAddr</a>
                 <a id="11648" class="CatchallClause Symbol">(</a><a id="11649" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="11653" class="CatchallClause"> </a><a id="11654" href="Complex-Model.ccomand.ccommands-cresponse.html#643" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="11669" class="CatchallClause"> </a><a id="11670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11670" class="CatchallClause Bound">costcomputecont</a><a id="11685" class="CatchallClause"> </a><a id="11686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11686" class="CatchallClause Bound">cont</a><a id="11690" class="CatchallClause Symbol">)</a>
                 <a id="11709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11709" class="CatchallClause Bound">gasLeft</a><a id="11716" class="CatchallClause">  </a><a id="11718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11718" class="CatchallClause Bound">funNameevalState</a><a id="11734" class="CatchallClause"> </a><a id="11735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11735" class="CatchallClause Bound">msgevalState</a><a id="11747" class="CatchallClause Symbol">)</a>
       <a id="11756" class="Symbol">=</a> <a id="11758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11670" class="Bound">costcomputecont</a> <a id="11774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11607" class="Bound">lastCallAddr</a>

<a id="11788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="11803" class="CatchallClause"> </a><a id="11804" class="CatchallClause Symbol">(</a><a id="11805" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="11812" class="CatchallClause"> </a><a id="11813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11813" class="CatchallClause Bound">currentLedger</a><a id="11826" class="CatchallClause"> </a><a id="11827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11827" class="CatchallClause Bound">executionStack</a><a id="11841" class="CatchallClause"> </a><a id="11842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11842" class="CatchallClause Bound">initialAddr</a><a id="11853" class="CatchallClause"> </a><a id="11854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11854" class="CatchallClause Bound">lastCallAddr</a><a id="11866" class="CatchallClause"> </a><a id="11867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11867" class="CatchallClause Bound">calledAddr</a>
                 <a id="11895" class="CatchallClause Symbol">(</a><a id="11896" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="11900" class="CatchallClause"> </a><a id="11901" class="CatchallClause Symbol">(</a><a id="11902" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">updatec</a><a id="11909" class="CatchallClause"> </a><a id="11910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11910" class="CatchallClause Bound">changedFname</a><a id="11922" class="CatchallClause"> </a><a id="11923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11923" class="CatchallClause Bound">changedPufun</a><a id="11935" class="CatchallClause"> </a><a id="11936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="CatchallClause Bound">cost</a><a id="11940" class="CatchallClause Symbol">)</a><a id="11941" class="CatchallClause"> </a><a id="11942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11942" class="CatchallClause Bound">costcomputecont</a><a id="11957" class="CatchallClause"> </a><a id="11958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11958" class="CatchallClause Bound">cont</a><a id="11962" class="CatchallClause Symbol">)</a>  
                 <a id="11983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11983" class="CatchallClause Bound">gasLeft</a><a id="11990" class="CatchallClause">  </a><a id="11992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11992" class="CatchallClause Bound">funNameevalState</a><a id="12008" class="CatchallClause"> </a><a id="12009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12009" class="CatchallClause Bound">msgevalState</a><a id="12021" class="CatchallClause Symbol">)</a>
       <a id="12030" class="Symbol">=</a> <a id="12032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="Bound">cost</a> <a id="12037" class="Symbol">(</a><a id="12038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11813" class="Bound">currentLedger</a> <a id="12052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11867" class="Bound">calledAddr</a> <a id="12063" class="Symbol">.</a><a id="12064" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="12077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11910" class="Bound">changedFname</a><a id="12089" class="Symbol">)</a> <a id="12091" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="12093" class="Symbol">(</a><a id="12094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11942" class="Bound">costcomputecont</a> <a id="12110" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="12112" class="Symbol">)</a> 
   

<a id="12120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12135" class="CatchallClause"> </a><a id="12136" class="CatchallClause Symbol">(</a><a id="12137" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12144" class="CatchallClause"> </a><a id="12145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12145" class="CatchallClause Bound">currentLedger</a><a id="12158" class="CatchallClause"> </a><a id="12159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12159" class="CatchallClause Bound">executionStack</a><a id="12173" class="CatchallClause"> </a><a id="12174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12174" class="CatchallClause Bound">initialAddr</a><a id="12185" class="CatchallClause"> </a><a id="12186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12186" class="CatchallClause Bound">oldlastCallAddr</a><a id="12201" class="CatchallClause"> </a><a id="12202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12202" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="12233" class="CatchallClause Symbol">(</a><a id="12234" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12238" class="CatchallClause"> </a><a id="12239" class="CatchallClause Symbol">(</a><a id="12240" href="Complex-Model.ccomand.ccommands-cresponse.html#675" class="CatchallClause InductiveConstructor">callc</a><a id="12245" class="CatchallClause"> </a><a id="12246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12246" class="CatchallClause Bound">newaddr</a><a id="12253" class="CatchallClause"> </a><a id="12254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12254" class="CatchallClause Bound">fname</a><a id="12259" class="CatchallClause"> </a><a id="12260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12260" class="CatchallClause Bound">msg</a><a id="12263" class="CatchallClause Symbol">)</a><a id="12264" class="CatchallClause"> </a><a id="12265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12265" class="CatchallClause Bound">costcomputecont</a><a id="12280" class="CatchallClause"> </a><a id="12281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12281" class="CatchallClause Bound">cont</a><a id="12285" class="CatchallClause Symbol">)</a>
                 <a id="12304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12304" class="CatchallClause Bound">gasLeft</a><a id="12311" class="CatchallClause">  </a><a id="12313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12313" class="CatchallClause Bound">funNameevalState</a><a id="12329" class="CatchallClause"> </a><a id="12330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12330" class="CatchallClause Bound">msgevalState</a><a id="12342" class="CatchallClause Symbol">)</a>
       <a id="12351" class="Symbol">=</a> <a id="12353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12265" class="Bound">costcomputecont</a> <a id="12369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12260" class="Bound">msg</a>

<a id="12374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12389" class="CatchallClause"> </a><a id="12390" class="CatchallClause Symbol">(</a><a id="12391" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12398" class="CatchallClause"> </a><a id="12399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12399" class="CatchallClause Bound">currentLedger</a><a id="12412" class="CatchallClause"> </a><a id="12413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12413" class="CatchallClause Bound">executionStack</a><a id="12427" class="CatchallClause"> </a><a id="12428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12428" class="CatchallClause Bound">initialAddr</a><a id="12439" class="CatchallClause"> </a><a id="12440" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12440" class="CatchallClause Bound">lastCallAddr</a><a id="12452" class="CatchallClause"> </a><a id="12453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12453" class="CatchallClause Bound">calledAddr</a>
                 <a id="12481" class="CatchallClause Symbol">(</a><a id="12482" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12486" class="CatchallClause"> </a><a id="12487" class="CatchallClause Symbol">(</a><a id="12488" href="Complex-Model.ccomand.ccommands-cresponse.html#816" class="CatchallClause InductiveConstructor">transferc</a><a id="12497" class="CatchallClause"> </a><a id="12498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12498" class="CatchallClause Bound">amount</a><a id="12504" class="CatchallClause"> </a><a id="12505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12505" class="CatchallClause Bound">destinationAddr</a><a id="12520" class="CatchallClause Symbol">)</a><a id="12521" class="CatchallClause"> </a><a id="12522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12522" class="CatchallClause Bound">costcomputecont</a><a id="12537" class="CatchallClause"> </a><a id="12538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12538" class="CatchallClause Bound">cont</a><a id="12542" class="CatchallClause Symbol">)</a>
                 <a id="12561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12561" class="CatchallClause Bound">gasLeft</a><a id="12568" class="CatchallClause">  </a><a id="12570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12570" class="CatchallClause Bound">funNameevalState</a><a id="12586" class="CatchallClause"> </a><a id="12587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12587" class="CatchallClause Bound">msgevalState</a><a id="12599" class="CatchallClause Symbol">)</a>
       <a id="12608" class="Symbol">=</a> <a id="12610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12522" class="Bound">costcomputecont</a> <a id="12626" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

<a id="12630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12645" class="CatchallClause"> </a><a id="12646" class="CatchallClause Symbol">(</a><a id="12647" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12654" class="CatchallClause"> </a><a id="12655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12655" class="CatchallClause Bound">currentLedger</a><a id="12668" class="CatchallClause"> </a><a id="12669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12669" class="CatchallClause Bound">executionStack</a><a id="12683" class="CatchallClause"> </a><a id="12684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12684" class="CatchallClause Bound">initialAddr</a><a id="12695" class="CatchallClause"> </a><a id="12696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12696" class="CatchallClause Bound">lastCallAddr</a><a id="12708" class="CatchallClause"> </a><a id="12709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12709" class="CatchallClause Bound">calledAddr</a>
                 <a id="12737" class="CatchallClause Symbol">(</a><a id="12738" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12742" class="CatchallClause"> </a><a id="12743" class="CatchallClause Symbol">(</a><a id="12744" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">getAmountc</a><a id="12754" class="CatchallClause">  </a><a id="12756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12756" class="CatchallClause Bound">addrLookedUp</a><a id="12768" class="CatchallClause Symbol">)</a><a id="12769" class="CatchallClause"> </a><a id="12770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12770" class="CatchallClause Bound">costcomputecont</a><a id="12785" class="CatchallClause"> </a><a id="12786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12786" class="CatchallClause Bound">cont</a><a id="12790" class="CatchallClause Symbol">)</a>
                 <a id="12809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12809" class="CatchallClause Bound">gasLeft</a><a id="12816" class="CatchallClause">  </a><a id="12818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12818" class="CatchallClause Bound">funNameevalState</a><a id="12834" class="CatchallClause"> </a><a id="12835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12835" class="CatchallClause Bound">msgevalState</a><a id="12847" class="CatchallClause Symbol">)</a>
       <a id="12856" class="Symbol">=</a> <a id="12858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12770" class="Bound">costcomputecont</a> <a id="12874" class="Symbol">(</a><a id="12875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12655" class="Bound">currentLedger</a> <a id="12889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12756" class="Bound">addrLookedUp</a> <a id="12902" class="Symbol">.</a><a id="12903" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="12909" class="Symbol">)</a>

      
<a id="12919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12934" class="CatchallClause"> </a><a id="12935" class="CatchallClause Symbol">(</a><a id="12936" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12943" class="CatchallClause"> </a><a id="12944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12944" class="CatchallClause Bound">ledger</a><a id="12950" class="CatchallClause"> </a><a id="12951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12951" class="CatchallClause Bound">executionStack</a><a id="12965" class="CatchallClause"> </a><a id="12966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12966" class="CatchallClause Bound">initialAddr</a><a id="12977" class="CatchallClause"> </a><a id="12978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12978" class="CatchallClause Bound">lastCallAddr</a><a id="12990" class="CatchallClause"> </a><a id="12991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12991" class="CatchallClause Bound">calledAddr</a>
                 <a id="13019" class="CatchallClause Symbol">(</a><a id="13020" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13024" class="CatchallClause"> </a><a id="13025" class="CatchallClause Symbol">(</a><a id="13026" href="Complex-Model.ccomand.ccommands-cresponse.html#899" class="CatchallClause InductiveConstructor">raiseException</a><a id="13040" class="CatchallClause"> </a><a id="13041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13041" class="CatchallClause Bound">cost</a><a id="13045" class="CatchallClause"> </a><a id="13046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13046" class="CatchallClause Bound">str</a><a id="13049" class="CatchallClause Symbol">)</a><a id="13050" class="CatchallClause"> </a><a id="13051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13051" class="CatchallClause Bound">costcomputecont</a><a id="13066" class="CatchallClause"> </a><a id="13067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13067" class="CatchallClause Bound">cont</a><a id="13071" class="CatchallClause Symbol">)</a>
                 <a id="13090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13090" class="CatchallClause Bound">gasLeft</a><a id="13097" class="CatchallClause"> </a><a id="13098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13098" class="CatchallClause Bound">funNameevalState</a><a id="13114" class="CatchallClause"> </a><a id="13115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13115" class="CatchallClause Bound">msgevalState</a><a id="13127" class="CatchallClause Symbol">)</a>
                 <a id="13146" class="Symbol">=</a> <a id="13148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13041" class="Bound">cost</a> 

<a id="13155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="13170" class="CatchallClause"> </a><a id="13171" class="CatchallClause Symbol">(</a><a id="13172" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="13179" class="CatchallClause"> </a><a id="13180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13180" class="CatchallClause Bound">currentLedger</a><a id="13193" class="CatchallClause"> </a><a id="13194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13194" class="CatchallClause Bound">executionStack</a><a id="13208" class="CatchallClause"> </a><a id="13209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13209" class="CatchallClause Bound">initialAddr</a><a id="13220" class="CatchallClause"> </a><a id="13221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13221" class="CatchallClause Bound">lastCallAddr</a><a id="13233" class="CatchallClause"> </a><a id="13234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13234" class="CatchallClause Bound">calledAddr</a>
                 <a id="13262" class="CatchallClause Symbol">(</a><a id="13263" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13267" class="CatchallClause"> </a><a id="13268" class="CatchallClause Symbol">(</a><a id="13269" href="Complex-Model.ccomand.ccommands-cresponse.html#730" class="CatchallClause InductiveConstructor">callPure</a><a id="13277" class="CatchallClause"> </a><a id="13278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13278" class="CatchallClause Bound">addr</a><a id="13282" class="CatchallClause"> </a><a id="13283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13283" class="CatchallClause Bound">fname</a><a id="13288" class="CatchallClause"> </a><a id="13289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13289" class="CatchallClause Bound">msg</a><a id="13292" class="CatchallClause Symbol">)</a><a id="13293" class="CatchallClause"> </a><a id="13294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13294" class="CatchallClause Bound">costcompute</a><a id="13305" class="CatchallClause"> </a><a id="13306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13306" class="CatchallClause Bound">cont</a><a id="13310" class="CatchallClause Symbol">)</a>
                 <a id="13329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13329" class="CatchallClause Bound">gasLeft</a><a id="13336" class="CatchallClause">  </a><a id="13338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13338" class="CatchallClause Bound">funNameevalState</a><a id="13354" class="CatchallClause"> </a><a id="13355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13355" class="CatchallClause Bound">msgevalState</a><a id="13367" class="CatchallClause Symbol">)</a>
       <a id="13376" class="Symbol">=</a> <a id="13378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13294" class="Bound">costcompute</a> <a id="13390" class="Symbol">(</a><a id="13391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13180" class="Bound">currentLedger</a> <a id="13405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13234" class="Bound">calledAddr</a> <a id="13416" class="Symbol">.</a><a id="13417" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="13430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13283" class="Bound">fname</a> <a id="13436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13289" class="Bound">msg</a><a id="13439" class="Symbol">)</a>


<a id="13443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="13458" class="CatchallClause"> </a><a id="13459" class="CatchallClause Symbol">(</a><a id="13460" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="13467" class="CatchallClause"> </a><a id="13468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13468" class="CatchallClause Bound">currentLedger</a><a id="13481" class="CatchallClause"> </a><a id="13482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13482" class="CatchallClause Bound">executionStack</a><a id="13496" class="CatchallClause"> </a><a id="13497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13497" class="CatchallClause Bound">initialAddr</a><a id="13508" class="CatchallClause"> </a><a id="13509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13509" class="CatchallClause Bound">lastCallAddr</a><a id="13521" class="CatchallClause"> </a><a id="13522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13522" class="CatchallClause Bound">calledAddr</a>
                 <a id="13550" class="CatchallClause Symbol">(</a><a id="13551" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="13556" class="CatchallClause"> </a><a id="13557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13557" class="CatchallClause Bound">errorMsg</a><a id="13565" class="CatchallClause"> </a><a id="13566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13566" class="CatchallClause Bound">debuginfo</a><a id="13575" class="CatchallClause Symbol">)</a><a id="13576" class="CatchallClause"> </a><a id="13577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13577" class="CatchallClause Bound">gasLeft</a><a id="13584" class="CatchallClause">  </a><a id="13586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13586" class="CatchallClause Bound">funNameevalState</a><a id="13602" class="CatchallClause"> </a><a id="13603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13603" class="CatchallClause Bound">msgevalState</a><a id="13615" class="CatchallClause Symbol">)</a>
       <a id="13624" class="Symbol">=</a> <a id="13626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="13632" class="Symbol">.</a><a id="13633" href="constantparameters.html#705" class="Field">costerror</a> <a id="13643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13557" class="Bound">errorMsg</a> 


<a id="13655" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="13721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13721" class="Function">deductGas</a> <a id="13731" class="Symbol">:</a> <a id="13733" class="Symbol">(</a><a id="13734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13734" class="Bound">statefun</a> <a id="13743" class="Symbol">:</a> <a id="13745" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="13757" class="Symbol">)(</a><a id="13759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13759" class="Bound">gasDeducted</a> <a id="13771" class="Symbol">:</a> <a id="13773" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="13774" class="Symbol">)</a>
            <a id="13788" class="Symbol">→</a> <a id="13790" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="13803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13721" class="Function">deductGas</a> <a id="13813" class="Symbol">(</a><a id="13814" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="13822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13822" class="Bound">ledger</a> <a id="13829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13829" class="Bound">executionStack</a> <a id="13844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13844" class="Bound">initialAddr</a> <a id="13856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13856" class="Bound">lastCallAddr</a> <a id="13869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13869" class="Bound">calledAddr</a> <a id="13880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13880" class="Bound">nextstep</a>
            <a id="13901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13901" class="Bound">gasLeft</a>  <a id="13910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13910" class="Bound">funNameevalState</a> <a id="13927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13927" class="Bound">msgevalState</a><a id="13939" class="Symbol">)</a> <a id="13941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13941" class="Bound">gasDeducted</a>
       <a id="13960" class="Symbol">=</a> <a id="13962" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="13970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13822" class="Bound">ledger</a> <a id="13977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13829" class="Bound">executionStack</a> <a id="13992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13844" class="Bound">initialAddr</a> <a id="14004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13856" class="Bound">lastCallAddr</a> <a id="14017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13869" class="Bound">calledAddr</a> <a id="14028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13880" class="Bound">nextstep</a>
       <a id="14044" class="Symbol">(</a><a id="14045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13901" class="Bound">gasLeft</a> <a id="14053" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="14055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13941" class="Bound">gasDeducted</a><a id="14066" class="Symbol">)</a>  <a id="14069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13910" class="Bound">funNameevalState</a> <a id="14086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13927" class="Bound">msgevalState</a>



<a id="14102" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>

<a id="stepEFAuxCompare"></a><a id="14187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="14204" class="Symbol">:</a> <a id="14206" class="Symbol">(</a><a id="14207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14207" class="Bound">oldLedger</a> <a id="14217" class="Symbol">:</a> <a id="14219" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="14225" class="Symbol">)</a> <a id="14227" class="Symbol">→</a> <a id="14229" class="Symbol">(</a><a id="14230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14230" class="Bound">statefun</a> <a id="14239" class="Symbol">:</a> <a id="14241" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="14253" class="Symbol">)</a>
                   <a id="14274" class="Symbol">→</a> <a id="14276" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="14288" class="Symbol">(</a><a id="14289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="14305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14230" class="Bound">statefun</a><a id="14313" class="Symbol">)</a> <a id="14315" class="Symbol">(</a><a id="14316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="14335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14230" class="Bound">statefun</a><a id="14343" class="Symbol">)</a>
                   <a id="14364" class="Symbol">→</a> <a id="14366" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="14379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="14396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14396" class="Bound">oldLedger</a> <a id="14406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14406" class="Bound">statefun</a> <a id="14415" class="Symbol">(</a><a id="14416" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="14420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14420" class="Bound">x</a><a id="14421" class="Symbol">)</a> <a id="14423" class="Symbol">=</a> <a id="14425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13721" class="Function">deductGas</a> <a id="14435" class="Symbol">(</a><a id="14436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="14443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14396" class="Bound">oldLedger</a> <a id="14453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14406" class="Bound">statefun</a><a id="14461" class="Symbol">)</a> <a id="14463" class="Symbol">(</a><a id="14464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="14480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14406" class="Bound">statefun</a><a id="14488" class="Symbol">)</a>
<a id="14490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="14507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14507" class="Bound">oldLedger</a> <a id="14517" class="Symbol">(</a><a id="14518" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="14526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14526" class="Bound">ledger</a> <a id="14533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14533" class="Bound">executionStack</a> <a id="14548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14548" class="Bound">initialAddr</a> <a id="14560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14560" class="Bound">lastCallAddr</a> <a id="14573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14573" class="Bound">calledAddr</a> <a id="14584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14584" class="Bound">nextstep</a>
                           <a id="14620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14620" class="Bound">gasLeft</a>  <a id="14629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="Bound">funNameevalState</a> <a id="14646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14646" class="Bound">msgevalState</a><a id="14658" class="Symbol">)</a> <a id="14660" class="Symbol">(</a><a id="14661" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="14669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14669" class="Bound">x</a><a id="14670" class="Symbol">)</a>
        <a id="14680" class="Symbol">=</a> <a id="14682" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="14690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14507" class="Bound">oldLedger</a> <a id="14700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14533" class="Bound">executionStack</a> <a id="14715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14548" class="Bound">initialAddr</a> <a id="14727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14560" class="Bound">lastCallAddr</a> <a id="14740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14573" class="Bound">calledAddr</a> <a id="14751" class="Symbol">(</a><a id="14752" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a> <a id="14758" href="basicDataStructure.html#727" class="InductiveConstructor">outOfGasError</a>
            <a id="14784" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="14786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14560" class="Bound">lastCallAddr</a> <a id="14799" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="14802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14548" class="Bound">initialAddr</a> <a id="14814" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="14816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="Bound">funNameevalState</a> <a id="14833" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="14835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14646" class="Bound">msgevalState</a> <a id="14848" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="14850" class="Symbol">)</a> <a id="14852" class="Number">0</a>
            <a id="14866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="Bound">funNameevalState</a> <a id="14883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14646" class="Bound">msgevalState</a>



<a id="stepEFwithGasError"></a><a id="14899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="14918" class="Symbol">:</a> <a id="14920" class="Symbol">(</a><a id="14921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14921" class="Bound">oldLedger</a> <a id="14931" class="Symbol">:</a> <a id="14933" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="14939" class="Symbol">)</a> <a id="14941" class="Symbol">→</a> <a id="14943" class="Symbol">(</a><a id="14944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14944" class="Bound">statefun</a> <a id="14953" class="Symbol">:</a> <a id="14955" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="14967" class="Symbol">)</a> <a id="14969" class="Symbol">→</a> <a id="14971" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="14984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="15003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15003" class="Bound">oldLedger</a> <a id="15013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">statefun</a>  <a id="15023" class="Symbol">=</a> <a id="15025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="15042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15003" class="Bound">oldLedger</a> <a id="15052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">statefun</a>
                                      <a id="15099" class="Symbol">(</a><a id="15100" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="15111" class="Symbol">(</a><a id="15112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="15128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">statefun</a><a id="15136" class="Symbol">)</a>
                                      <a id="15176" class="Symbol">(</a><a id="15177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="15196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">statefun</a><a id="15204" class="Symbol">))</a>







<a id="stepEFntimes"></a><a id="15214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15214" class="Function">stepEFntimes</a> <a id="15227" class="Symbol">:</a> <a id="15229" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="15236" class="Symbol">→</a> <a id="15238" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="15251" class="Symbol">→</a> <a id="15253" class="Symbol">(</a><a id="15254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15254" class="Bound">ntimes</a> <a id="15261" class="Symbol">:</a> <a id="15263" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15264" class="Symbol">)</a> <a id="15266" class="Symbol">→</a> <a id="15268" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="15281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15214" class="Function">stepEFntimes</a> <a id="15294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15294" class="Bound">oldLedger</a> <a id="15304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15304" class="Bound">ledgerstateexecfun</a> <a id="15323" class="Number">0</a>
             <a id="15338" class="Symbol">=</a> <a id="15340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15304" class="Bound">ledgerstateexecfun</a>
<a id="15359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15214" class="Function">stepEFntimes</a> <a id="15372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15372" class="Bound">oldLedger</a> <a id="15382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15382" class="Bound">ledgerstateexecfun</a> <a id="15401" class="Symbol">(</a><a id="15402" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15406" class="Bound">n</a><a id="15407" class="Symbol">)</a>
             <a id="15422" class="Symbol">=</a> <a id="15424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="15443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15372" class="Bound">oldLedger</a> <a id="15453" class="Symbol">(</a><a id="15454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15214" class="Function">stepEFntimes</a> <a id="15467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15372" class="Bound">oldLedger</a> <a id="15477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15382" class="Bound">ledgerstateexecfun</a> <a id="15496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15406" class="Bound">n</a><a id="15497" class="Symbol">)</a>
                     



<a id="stepEFntimesList"></a><a id="15524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15524" class="Function">stepEFntimesList</a> <a id="15541" class="Symbol">:</a> <a id="15543" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="15550" class="Symbol">→</a> <a id="15552" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="15565" class="Symbol">→</a> <a id="15567" class="Symbol">(</a><a id="15568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15568" class="Bound">ntimes</a> <a id="15575" class="Symbol">:</a> <a id="15577" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15578" class="Symbol">)</a> <a id="15580" class="Symbol">→</a> <a id="15582" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="15587" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="15600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15524" class="Function">stepEFntimesList</a> <a id="15617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15617" class="Bound">oldLedger</a> <a id="15627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15627" class="Bound">ledgerstateexecfun</a> <a id="15646" class="Number">0</a>
                 <a id="15665" class="Symbol">=</a> <a id="15667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15627" class="Bound">ledgerstateexecfun</a> <a id="15686" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15688" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="15691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15524" class="Function">stepEFntimesList</a> <a id="15708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15708" class="Bound">oldLedger</a> <a id="15718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15718" class="Bound">ledgerstateexecfun</a> <a id="15737" class="Symbol">(</a><a id="15738" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15742" class="Bound">n</a><a id="15743" class="Symbol">)</a>
                 <a id="15762" class="Symbol">=</a> <a id="15764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15214" class="Function">stepEFntimes</a> <a id="15777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15708" class="Bound">oldLedger</a> <a id="15787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15718" class="Bound">ledgerstateexecfun</a> <a id="15806" class="Symbol">(</a><a id="15807" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15742" class="Bound">n</a><a id="15812" class="Symbol">)</a>
                   <a id="15833" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15524" class="Function">stepEFntimesList</a> <a id="15852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15708" class="Bound">oldLedger</a> <a id="15862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15718" class="Bound">ledgerstateexecfun</a> <a id="15881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15742" class="Bound">n</a>

<a id="15884" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="15946" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>

<a id="refund"></a><a id="16033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16033" class="Function">refund</a> <a id="16040" class="Symbol">:</a> <a id="16042" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="16055" class="Symbol">→</a>  <a id="16058" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="16071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16033" class="Function">refund</a> <a id="16078" class="Symbol">(</a><a id="16079" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="16087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16087" class="Bound">currentLedger</a> <a id="16101" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="16104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16104" class="Bound">initialAddr</a> <a id="16116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16116" class="Bound">lastCallAddr</a> <a id="16129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16129" class="Bound">calledAddr</a> <a id="16140" class="Symbol">(</a><a id="16141" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="16148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16148" class="Bound">cost</a> <a id="16153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16153" class="Bound">result</a><a id="16159" class="Symbol">)</a>
        <a id="16169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16169" class="Bound">gasLeft</a>  <a id="16178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16178" class="Bound">funNameevalState</a> <a id="16195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16195" class="Bound">msgevalState</a><a id="16207" class="Symbol">)</a>
            <a id="16221" class="Symbol">=</a> <a id="16223" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="16231" class="Symbol">(</a><a id="16232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="16247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16087" class="Bound">currentLedger</a> <a id="16261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16116" class="Bound">lastCallAddr</a> <a id="16274" class="Symbol">(</a><a id="16275" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="16284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="16290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16169" class="Bound">gasLeft</a><a id="16297" class="Symbol">))</a>
              <a id="16314" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="16317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16104" class="Bound">initialAddr</a> <a id="16329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16116" class="Bound">lastCallAddr</a> <a id="16342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16129" class="Bound">calledAddr</a> <a id="16353" class="Symbol">(</a><a id="16354" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="16361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16148" class="Bound">cost</a> <a id="16366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16153" class="Bound">result</a><a id="16372" class="Symbol">)</a>
               <a id="16389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16169" class="Bound">gasLeft</a>  
               <a id="16414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16178" class="Bound">funNameevalState</a> <a id="16431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16195" class="Bound">msgevalState</a>
<a id="16444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16033" class="CatchallClause Function">refund</a><a id="16450" class="CatchallClause"> </a><a id="16451" class="CatchallClause Symbol">(</a><a id="16452" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="16459" class="CatchallClause"> </a><a id="16460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16460" class="CatchallClause Bound">currentLedger</a><a id="16473" class="CatchallClause"> </a><a id="16474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16474" class="CatchallClause Bound">executionStack</a><a id="16488" class="CatchallClause"> </a><a id="16489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16489" class="CatchallClause Bound">initialAddr</a><a id="16500" class="CatchallClause"> </a><a id="16501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16501" class="CatchallClause Bound">lastCallAddr</a><a id="16513" class="CatchallClause"> </a><a id="16514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16514" class="CatchallClause Bound">calledAddr</a>
       <a id="16532" class="CatchallClause Symbol">(</a><a id="16533" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="16538" class="CatchallClause"> </a><a id="16539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16539" class="CatchallClause Bound">errorMsg</a><a id="16547" class="CatchallClause"> </a><a id="16548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16548" class="CatchallClause Bound">debugInfo</a><a id="16557" class="CatchallClause Symbol">)</a><a id="16558" class="CatchallClause"> </a><a id="16559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16559" class="CatchallClause Bound">gasLeft</a><a id="16566" class="CatchallClause">  </a><a id="16568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16568" class="CatchallClause Bound">funNameevalState</a><a id="16584" class="CatchallClause"> </a><a id="16585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16585" class="CatchallClause Bound">msgevalState</a><a id="16597" class="CatchallClause Symbol">)</a>
            <a id="16611" class="Symbol">=</a> <a id="16613" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="16621" class="Symbol">(</a><a id="16622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="16637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16460" class="Bound">currentLedger</a>  <a id="16652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16501" class="Bound">lastCallAddr</a> <a id="16665" class="Symbol">(</a><a id="16666" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="16675" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="16681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16559" class="Bound">gasLeft</a><a id="16688" class="Symbol">))</a>
              <a id="16705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16474" class="Bound">executionStack</a> <a id="16720" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16489" class="Bound">initialAddr</a> <a id="16732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16501" class="Bound">lastCallAddr</a> <a id="16745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16514" class="Bound">calledAddr</a>
              <a id="16770" class="Symbol">(</a><a id="16771" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a> <a id="16777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16539" class="Bound">errorMsg</a> <a id="16786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16548" class="Bound">debugInfo</a><a id="16795" class="Symbol">)</a> <a id="16797" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16559" class="Bound">gasLeft</a> 
               <a id="16821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16568" class="Bound">funNameevalState</a> <a id="16838" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16585" class="Bound">msgevalState</a>
<a id="16851" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16033" class="CatchallClause Function">refund</a><a id="16857" class="CatchallClause"> </a><a id="16858" class="CatchallClause Symbol">(</a><a id="16859" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="16866" class="CatchallClause"> </a><a id="16867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16867" class="CatchallClause Bound">ledger</a><a id="16873" class="CatchallClause"> </a><a id="16874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16874" class="CatchallClause Bound">executionStack</a><a id="16888" class="CatchallClause"> </a><a id="16889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16889" class="CatchallClause Bound">initialAddr</a><a id="16900" class="CatchallClause"> </a><a id="16901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16901" class="CatchallClause Bound">lastCallAddr</a><a id="16913" class="CatchallClause"> </a><a id="16914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16914" class="CatchallClause Bound">calledAddr</a>
        <a id="16933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16933" class="CatchallClause Bound">nextstep</a><a id="16941" class="CatchallClause"> </a><a id="16942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16942" class="CatchallClause Bound">gasLeft</a><a id="16949" class="CatchallClause">  </a><a id="16951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16951" class="CatchallClause Bound">funNameevalState</a><a id="16967" class="CatchallClause"> </a><a id="16968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16968" class="CatchallClause Bound">msgevalState</a><a id="16980" class="CatchallClause Symbol">)</a>
            <a id="16994" class="Symbol">=</a> <a id="16996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="17015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16867" class="Bound">ledger</a> <a id="17022" class="Symbol">(</a><a id="17023" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="17031" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16867" class="Bound">ledger</a> <a id="17038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16874" class="Bound">executionStack</a>
              <a id="17067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16889" class="Bound">initialAddr</a> <a id="17079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16901" class="Bound">lastCallAddr</a> <a id="17092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16914" class="Bound">calledAddr</a> <a id="17103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16933" class="Bound">nextstep</a> <a id="17112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16942" class="Bound">gasLeft</a>
                <a id="17136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16951" class="Bound">funNameevalState</a> <a id="17153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16968" class="Bound">msgevalState</a><a id="17165" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="17169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17169" class="Function">stepEFntimesWithRefund</a> <a id="17192" class="Symbol">:</a> <a id="17194" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="17201" class="Symbol">→</a> <a id="17203" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="17216" class="Symbol">→</a> <a id="17218" class="Symbol">(</a><a id="17219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17219" class="Bound">ntimes</a> <a id="17226" class="Symbol">:</a> <a id="17228" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17229" class="Symbol">)</a> <a id="17231" class="Symbol">→</a> <a id="17233" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="17246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17169" class="Function">stepEFntimesWithRefund</a> <a id="17269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17269" class="Bound">oldLedger</a> <a id="17279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17279" class="Bound">ledgerstateexecfun</a> <a id="17298" class="Number">0</a>
                       <a id="17323" class="Symbol">=</a> <a id="17325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17279" class="Bound">ledgerstateexecfun</a>
<a id="17344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17169" class="Function">stepEFntimesWithRefund</a> <a id="17367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17367" class="Bound">oldLedger</a> <a id="17377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17377" class="Bound">ledgerstateexecfun</a> <a id="17396" class="Symbol">(</a><a id="17397" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="17401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17401" class="Bound">n</a><a id="17402" class="Symbol">)</a>
                       <a id="17427" class="Symbol">=</a> <a id="17429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16033" class="Function">refund</a> <a id="17436" class="Symbol">(</a><a id="17437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15214" class="Function">stepEFntimes</a> <a id="17450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17367" class="Bound">oldLedger</a> <a id="17460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17377" class="Bound">ledgerstateexecfun</a> <a id="17479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17401" class="Bound">n</a><a id="17480" class="Symbol">)</a>


<a id="17484" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="17564" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="17602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17602" class="Function">stepLedgerFunntimesAux</a> <a id="17625" class="Symbol">:</a> <a id="17627" class="Symbol">(</a><a id="17628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="Bound">ledger</a> <a id="17635" class="Symbol">:</a> <a id="17637" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="17643" class="Symbol">)</a> <a id="17645" class="Symbol">→</a> <a id="17647" class="Symbol">(</a><a id="17648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17648" class="Bound">initialAddr</a> <a id="17660" class="Symbol">:</a> <a id="17662" href="basicDataStructure.html#387" class="Function">Address</a><a id="17669" class="Symbol">)</a> <a id="17671" class="Symbol">→</a> <a id="17673" class="Symbol">(</a><a id="17674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17674" class="Bound">lastCallAddr</a> <a id="17687" class="Symbol">:</a> <a id="17689" href="basicDataStructure.html#387" class="Function">Address</a><a id="17696" class="Symbol">)</a> <a id="17698" class="Symbol">→</a> <a id="17700" class="Symbol">(</a><a id="17701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17701" class="Bound">calledAddr</a> <a id="17712" class="Symbol">:</a> <a id="17714" href="basicDataStructure.html#387" class="Function">Address</a><a id="17721" class="Symbol">)</a> <a id="17723" class="Symbol">→</a> <a id="17725" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                        <a id="17762" class="Symbol">→</a> <a id="17764" href="basicDataStructure.html#488" class="Datatype">Msg</a>  <a id="17769" class="Symbol">→</a> <a id="17771" class="Symbol">(</a><a id="17772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17772" class="Bound">gascost</a> <a id="17780" class="Symbol">:</a> <a id="17782" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17783" class="Symbol">)</a>  <a id="17786" class="Symbol">→</a> <a id="17788" class="Symbol">(</a><a id="17789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17789" class="Bound">ntimes</a> <a id="17796" class="Symbol">:</a> <a id="17798" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17799" class="Symbol">)</a>
                        <a id="17825" class="Symbol">→</a> <a id="17827" class="Symbol">(</a><a id="17828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17828" class="Bound">cp</a>  <a id="17832" class="Symbol">:</a> <a id="17834" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="17846" class="Symbol">(</a><a id="17847" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="17856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="17862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17772" class="Bound">gascost</a><a id="17869" class="Symbol">)</a> <a id="17871" class="Symbol">(</a><a id="17872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="Bound">ledger</a> <a id="17879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17674" class="Bound">lastCallAddr</a> <a id="17892" class="Symbol">.</a><a id="17893" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="17899" class="Symbol">))</a>
                        <a id="17926" class="Symbol">→</a> <a id="17928" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="17934" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="17947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17602" class="Function">stepLedgerFunntimesAux</a> <a id="17970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17970" class="Bound">ledger</a> <a id="17977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17977" class="Bound">initialAddr</a> <a id="17989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17989" class="Bound">lastCallAddr</a> <a id="18002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18002" class="Bound">calledAddr</a> <a id="18013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18013" class="Bound">funname</a> <a id="18021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18021" class="Bound">msg</a> <a id="18025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18025" class="Bound">gascost</a>  <a id="18034" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18034" class="Bound">ntimes</a>  <a id="18042" class="Symbol">(</a><a id="18043" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="18047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18047" class="Bound">leqpro</a><a id="18053" class="Symbol">)</a>
                             <a id="18084" class="Symbol">=</a> <a id="18086" class="Keyword">let</a>
                                 <a id="18123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18123" class="Bound">ledgerDeducted</a> <a id="18138" class="Symbol">:</a> <a id="18140" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
                                 <a id="18180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18123" class="Bound">ledgerDeducted</a> <a id="18195" class="Symbol">=</a> <a id="18197" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="18217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17970" class="Bound">ledger</a> <a id="18224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17989" class="Bound">lastCallAddr</a> <a id="18237" class="Symbol">(</a><a id="18238" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="18247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="18253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18025" class="Bound">gascost</a><a id="18260" class="Symbol">)</a> <a id="18262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18047" class="Bound">leqpro</a>
                               <a id="18300" class="Keyword">in</a> <a id="18303" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="18308" class="Symbol">(</a><a id="18309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15214" class="Function">stepEFntimes</a> <a id="18322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18123" class="Bound">ledgerDeducted</a>
                               <a id="18368" class="Symbol">(</a><a id="18369" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="18377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18123" class="Bound">ledgerDeducted</a> <a id="18392" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="18395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17977" class="Bound">initialAddr</a> <a id="18407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17989" class="Bound">lastCallAddr</a> <a id="18420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18002" class="Bound">calledAddr</a>
                               <a id="18462" class="Symbol">(</a><a id="18463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18123" class="Bound">ledgerDeducted</a> <a id="18478" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18002" class="Bound">calledAddr</a> <a id="18489" class="Symbol">.</a><a id="18490" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="18494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18013" class="Bound">funname</a> <a id="18502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18021" class="Bound">msg</a><a id="18505" class="Symbol">)</a>
                               <a id="18538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18025" class="Bound">gascost</a> <a id="18546" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18013" class="Bound">funname</a> <a id="18554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18021" class="Bound">msg</a><a id="18557" class="Symbol">)</a>
                               <a id="18590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18034" class="Bound">ntimes</a><a id="18596" class="Symbol">)</a>
                              
<a id="18629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17602" class="Function">stepLedgerFunntimesAux</a> <a id="18652" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18652" class="Bound">ledger</a> <a id="18659" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18659" class="Bound">initialAddr</a> <a id="18671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18671" class="Bound">lastCallAddr</a> <a id="18684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18684" class="Bound">calledAddr</a> <a id="18695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18695" class="Bound">funname</a> <a id="18703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18703" class="Bound">msg</a> <a id="18707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18707" class="Bound">gascost</a> <a id="18715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18715" class="Bound">ntimes</a> <a id="18722" class="Symbol">(</a><a id="18723" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="18731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18731" class="Bound">greaterpro</a><a id="18741" class="Symbol">)</a>
                             <a id="18772" class="Symbol">=</a> <a id="18774" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

<a id="18783" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="18867" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="18960" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="19036" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="19129" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="19228" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="19281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19281" class="Function">stepLedgerFunntimes</a> <a id="19301" class="Symbol">:</a> <a id="19303" class="Symbol">(</a><a id="19304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19304" class="Bound">ledger</a> <a id="19311" class="Symbol">:</a> <a id="19313" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="19319" class="Symbol">)</a>
                      <a id="19343" class="Symbol">→</a> <a id="19345" class="Symbol">(</a><a id="19346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19346" class="Bound">initialAddr</a> <a id="19358" class="Symbol">:</a> <a id="19360" href="basicDataStructure.html#387" class="Function">Address</a><a id="19367" class="Symbol">)</a>
                      <a id="19391" class="Symbol">→</a> <a id="19393" class="Symbol">(</a><a id="19394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19394" class="Bound">lastCallAddr</a> <a id="19407" class="Symbol">:</a> <a id="19409" href="basicDataStructure.html#387" class="Function">Address</a><a id="19416" class="Symbol">)</a>
                      <a id="19440" class="Symbol">→</a> <a id="19442" class="Symbol">(</a><a id="19443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19443" class="Bound">calledAddr</a> <a id="19454" class="Symbol">:</a> <a id="19456" href="basicDataStructure.html#387" class="Function">Address</a><a id="19463" class="Symbol">)</a>
                      <a id="19487" class="Symbol">→</a> <a id="19489" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="19524" class="Symbol">→</a> <a id="19526" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                      <a id="19552" class="Symbol">→</a> <a id="19554" class="Symbol">(</a><a id="19555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19555" class="Bound">gasreserved</a> <a id="19567" class="Symbol">:</a> <a id="19569" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19570" class="Symbol">)</a>

                      <a id="19595" class="Symbol">→</a> <a id="19597" class="Symbol">(</a><a id="19598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19598" class="Bound">ntimes</a> <a id="19605" class="Symbol">:</a> <a id="19607" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19608" class="Symbol">)</a>
                      <a id="19632" class="Symbol">→</a> <a id="19634" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="19640" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="19653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19281" class="Function">stepLedgerFunntimes</a> <a id="19673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19673" class="Bound">ledger</a> <a id="19680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19680" class="Bound">initialAddr</a> <a id="19692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19692" class="Bound">lastCallAddr</a> <a id="19705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19705" class="Bound">calledAddr</a> <a id="19716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19716" class="Bound">funname</a> <a id="19724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19724" class="Bound">msg</a> <a id="19728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19728" class="Bound">gasreserved</a>  <a id="19741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19741" class="Bound">ntimes</a>
                     <a id="19769" class="Symbol">=</a> <a id="19771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17602" class="Function">stepLedgerFunntimesAux</a> <a id="19794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19673" class="Bound">ledger</a> <a id="19801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19680" class="Bound">initialAddr</a> <a id="19813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19692" class="Bound">lastCallAddr</a> <a id="19826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19705" class="Bound">calledAddr</a>
                       <a id="19860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19716" class="Bound">funname</a> <a id="19868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19724" class="Bound">msg</a> <a id="19872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19728" class="Bound">gasreserved</a>  <a id="19885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19741" class="Bound">ntimes</a>
                       <a id="19915" class="Symbol">(</a><a id="19916" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="19927" class="Symbol">(</a><a id="19928" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="19937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="19943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19728" class="Bound">gasreserved</a><a id="19954" class="Symbol">)</a> <a id="19956" class="Symbol">(</a><a id="19957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19673" class="Bound">ledger</a> <a id="19964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19692" class="Bound">lastCallAddr</a> <a id="19977" class="Symbol">.</a><a id="19978" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="19984" class="Symbol">))</a>


<a id="19989" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="20001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20001" class="Function">stepLedgerFunntimesListAux</a> <a id="20028" class="Symbol">:</a> <a id="20030" class="Symbol">(</a><a id="20031" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20031" class="Bound">ledger</a> <a id="20038" class="Symbol">:</a> <a id="20040" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="20046" class="Symbol">)</a>
                           <a id="20075" class="Symbol">→</a> <a id="20077" class="Symbol">(</a><a id="20078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20078" class="Bound">initialAddr</a> <a id="20090" class="Symbol">:</a> <a id="20092" href="basicDataStructure.html#387" class="Function">Address</a><a id="20099" class="Symbol">)</a>
                           <a id="20128" class="Symbol">→</a> <a id="20130" class="Symbol">(</a><a id="20131" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20131" class="Bound">lastCallAddr</a> <a id="20144" class="Symbol">:</a> <a id="20146" href="basicDataStructure.html#387" class="Function">Address</a><a id="20153" class="Symbol">)</a>
                           <a id="20182" class="Symbol">→</a> <a id="20184" class="Symbol">(</a><a id="20185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20185" class="Bound">calledAddr</a> <a id="20196" class="Symbol">:</a> <a id="20198" href="basicDataStructure.html#387" class="Function">Address</a><a id="20205" class="Symbol">)</a>
                           <a id="20234" class="Symbol">→</a> <a id="20236" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                           <a id="20276" class="Symbol">→</a> <a id="20278" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                           <a id="20309" class="Symbol">→</a> <a id="20311" class="Symbol">(</a><a id="20312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20312" class="Bound">gasreserved</a> <a id="20324" class="Symbol">:</a> <a id="20326" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20327" class="Symbol">)</a>

                           <a id="20357" class="Symbol">→</a> <a id="20359" class="Symbol">(</a><a id="20360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20360" class="Bound">ntimes</a> <a id="20367" class="Symbol">:</a> <a id="20369" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20370" class="Symbol">)</a>
                           <a id="20399" class="Symbol">→</a> <a id="20401" class="Symbol">(</a><a id="20402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20402" class="Bound">cp</a>  <a id="20406" class="Symbol">:</a> <a id="20408" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="20420" class="Symbol">(</a><a id="20421" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="20430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20312" class="Bound">gasreserved</a><a id="20447" class="Symbol">)</a> <a id="20449" class="Symbol">(</a><a id="20450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20031" class="Bound">ledger</a> <a id="20457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20131" class="Bound">lastCallAddr</a> <a id="20470" class="Symbol">.</a><a id="20471" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="20477" class="Symbol">))</a>
                           <a id="20507" class="Symbol">→</a> <a id="20509" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="20515" class="Symbol">(</a><a id="20516" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="20521" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="20533" class="Symbol">)</a>
<a id="20535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20001" class="Function">stepLedgerFunntimesListAux</a> <a id="20562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20562" class="Bound">ledger</a> <a id="20569" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20569" class="Bound">initialAddr</a> <a id="20581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20581" class="Bound">lastCallAddr</a> <a id="20594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20594" class="Bound">calledAddr</a> <a id="20605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20605" class="Bound">funname</a> <a id="20613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20613" class="Bound">msg</a> <a id="20617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20617" class="Bound">gasreserved</a>  <a id="20630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20630" class="Bound">ntimes</a> <a id="20637" class="Symbol">(</a><a id="20638" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="20642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20642" class="Bound">leqpro</a><a id="20648" class="Symbol">)</a>
                            <a id="20678" class="Symbol">=</a> <a id="20680" class="Keyword">let</a>
                               <a id="20715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20715" class="Bound">ledgerDeducted</a> <a id="20730" class="Symbol">:</a> <a id="20732" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
                               <a id="20770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20715" class="Bound">ledgerDeducted</a> <a id="20785" class="Symbol">=</a> <a id="20787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="20807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20562" class="Bound">ledger</a> <a id="20814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20581" class="Bound">lastCallAddr</a> <a id="20827" class="Symbol">(</a><a id="20828" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="20837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20843" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20617" class="Bound">gasreserved</a><a id="20854" class="Symbol">)</a> <a id="20856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20642" class="Bound">leqpro</a>
                            <a id="20891" class="Keyword">in</a>
                              <a id="20924" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="20929" class="Symbol">(</a><a id="20930" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15524" class="Function">stepEFntimesList</a> <a id="20947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20715" class="Bound">ledgerDeducted</a>
                                   <a id="20997" class="Symbol">(</a><a id="20998" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="21006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20715" class="Bound">ledgerDeducted</a> <a id="21021" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="21024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20569" class="Bound">initialAddr</a> <a id="21036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20581" class="Bound">lastCallAddr</a> <a id="21049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20594" class="Bound">calledAddr</a>
                                   <a id="21095" class="Symbol">(</a><a id="21096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20715" class="Bound">ledgerDeducted</a> <a id="21111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20594" class="Bound">calledAddr</a> <a id="21122" class="Symbol">.</a><a id="21123" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="21127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20605" class="Bound">funname</a> <a id="21135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20613" class="Bound">msg</a><a id="21138" class="Symbol">)</a> <a id="21140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20617" class="Bound">gasreserved</a> <a id="21152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20605" class="Bound">funname</a> <a id="21160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20613" class="Bound">msg</a><a id="21163" class="Symbol">)</a> <a id="21165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20630" class="Bound">ntimes</a><a id="21171" class="Symbol">)</a>
<a id="21173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20001" class="Function">stepLedgerFunntimesListAux</a> <a id="21200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21200" class="Bound">ledger</a> <a id="21207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21207" class="Bound">initialAddr</a> <a id="21219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21219" class="Bound">lastCallAddr</a> <a id="21232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21232" class="Bound">calledAddr</a> <a id="21243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21243" class="Bound">funname</a> <a id="21251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21251" class="Bound">msg</a> <a id="21255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21255" class="Bound">gasreserved</a> <a id="21267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21267" class="Bound">ntimes</a> <a id="21274" class="Symbol">(</a><a id="21275" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="21283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21283" class="Bound">greaterpro</a><a id="21293" class="Symbol">)</a>
                            <a id="21323" class="Symbol">=</a> <a id="21325" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="21335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21335" class="Function">stepLedgerFunntimesList</a> <a id="21359" class="Symbol">:</a> <a id="21361" class="Symbol">(</a><a id="21362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21362" class="Bound">ledger</a> <a id="21369" class="Symbol">:</a> <a id="21371" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="21377" class="Symbol">)</a>
                          <a id="21405" class="Symbol">→</a> <a id="21407" class="Symbol">(</a><a id="21408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21408" class="Bound">initialAddr</a> <a id="21420" class="Symbol">:</a> <a id="21422" href="basicDataStructure.html#387" class="Function">Address</a><a id="21429" class="Symbol">)</a>
                          <a id="21457" class="Symbol">→</a> <a id="21459" class="Symbol">(</a><a id="21460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21460" class="Bound">lastCallAddr</a> <a id="21473" class="Symbol">:</a> <a id="21475" href="basicDataStructure.html#387" class="Function">Address</a><a id="21482" class="Symbol">)</a>
                          <a id="21510" class="Symbol">→</a> <a id="21512" class="Symbol">(</a><a id="21513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21513" class="Bound">calledAddr</a> <a id="21524" class="Symbol">:</a> <a id="21526" href="basicDataStructure.html#387" class="Function">Address</a><a id="21533" class="Symbol">)</a>
                          <a id="21561" class="Symbol">→</a> <a id="21563" class="Symbol">(</a><a id="21564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21564" class="Bound">funname</a> <a id="21572" class="Symbol">:</a> <a id="21574" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="21586" class="Symbol">)</a>
                          <a id="21614" class="Symbol">→</a> <a id="21616" class="Symbol">(</a><a id="21617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21617" class="Bound">msg</a> <a id="21621" class="Symbol">:</a> <a id="21623" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="21626" class="Symbol">)</a>
                          <a id="21654" class="Symbol">→</a> <a id="21656" class="Symbol">(</a><a id="21657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21657" class="Bound">gasreserved</a> <a id="21669" class="Symbol">:</a> <a id="21671" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21672" class="Symbol">)</a>

                          <a id="21701" class="Symbol">→</a> <a id="21703" class="Symbol">(</a><a id="21704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21704" class="Bound">ntimes</a> <a id="21711" class="Symbol">:</a> <a id="21713" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21714" class="Symbol">)</a>
                          <a id="21742" class="Symbol">→</a> <a id="21744" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="21750" class="Symbol">(</a><a id="21751" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="21756" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="21768" class="Symbol">)</a>
<a id="21770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21335" class="Function">stepLedgerFunntimesList</a> <a id="21794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21794" class="Bound">ledger</a> <a id="21801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21801" class="Bound">initialAddr</a> <a id="21813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21813" class="Bound">lastCallAddr</a> <a id="21826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21826" class="Bound">calledAddr</a> <a id="21837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21837" class="Bound">funname</a> <a id="21845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21845" class="Bound">msg</a> <a id="21849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21849" class="Bound">gasreserved</a>  <a id="21862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21862" class="Bound">ntimes</a>
                        <a id="21893" class="Symbol">=</a> <a id="21895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20001" class="Function">stepLedgerFunntimesListAux</a> <a id="21922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21794" class="Bound">ledger</a> <a id="21929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21801" class="Bound">initialAddr</a> <a id="21941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21813" class="Bound">lastCallAddr</a> <a id="21954" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21826" class="Bound">calledAddr</a> <a id="21965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21837" class="Bound">funname</a> <a id="21973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21845" class="Bound">msg</a> <a id="21977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21849" class="Bound">gasreserved</a>  <a id="21990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21862" class="Bound">ntimes</a>
                       <a id="22020" class="Symbol">(</a><a id="22021" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="22032" class="Symbol">(</a><a id="22033" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="22042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21849" class="Bound">gasreserved</a><a id="22059" class="Symbol">)</a> <a id="22061" class="Symbol">(</a><a id="22062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21794" class="Bound">ledger</a> <a id="22069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21813" class="Bound">lastCallAddr</a> <a id="22082" class="Symbol">.</a><a id="22083" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="22089" class="Symbol">))</a>


<a id="22094" class="Comment">-- list to string</a>
<a id="Listmsg2String"></a><a id="22112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Function">Listmsg2String</a> <a id="22127" class="Symbol">:</a> <a id="22129" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="22134" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="22138" class="Symbol">→</a> <a id="22140" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="22147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Function">Listmsg2String</a> <a id="22162" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="22165" class="Symbol">=</a> <a id="22167" class="String">&quot;&quot;</a>
<a id="22170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Function">Listmsg2String</a> <a id="22185" class="Symbol">(</a><a id="22186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22186" class="Bound">msg</a> <a id="22190" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="22192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22192" class="Bound">rest</a><a id="22196" class="Symbol">)</a> <a id="22198" class="Symbol">=</a> <a id="22200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Function">Listmsg2String</a> <a id="22215" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>  <a id="22219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22225" class="String">&quot;,&quot;</a> <a id="22229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Function">Listmsg2String</a> <a id="22250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22192" class="Bound">rest</a>


<a id="msg2String"></a><a id="22257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22257" class="Function">msg2String</a> <a id="22268" class="Symbol">:</a> <a id="22270" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="22274" class="Symbol">→</a> <a id="22276" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="22283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22257" class="Function">msg2String</a> <a id="22294" class="Symbol">(</a><a id="22295" href="basicDataStructure.html#507" class="InductiveConstructor">nat</a> <a id="22299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22299" class="Bound">n</a><a id="22300" class="Symbol">)</a> <a id="22302" class="Symbol">=</a> <a id="22304" class="String">&quot;nat&quot;</a> <a id="22310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22316" href="Data.Nat.Show.html#1928" class="Function">show</a> <a id="22321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22299" class="Bound">n</a>
<a id="22323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22257" class="Function">msg2String</a> <a id="22334" class="Symbol">(</a><a id="22335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22335" class="Bound">m</a> <a id="22337" href="basicDataStructure.html#543" class="InductiveConstructor Operator">+msg</a> <a id="22342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22342" class="Bound">m₁</a><a id="22344" class="Symbol">)</a> <a id="22346" class="Symbol">=</a> <a id="22348" class="String">&quot;(&quot;</a> <a id="22352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22257" class="Function">msg2String</a> <a id="22369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22335" class="Bound">m</a> <a id="22371" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22377" class="String">&quot; , &quot;</a> <a id="22383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22257" class="Function">msg2String</a> <a id="22400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22342" class="Bound">m₁</a> <a id="22403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22409" class="String">&quot;)&quot;</a>
<a id="22413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22257" class="Function">msg2String</a> <a id="22424" class="Symbol">(</a><a id="22425" href="basicDataStructure.html#580" class="InductiveConstructor">list</a> <a id="22430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22430" class="Bound">l</a><a id="22431" class="Symbol">)</a> <a id="22433" class="Symbol">=</a> <a id="22435" class="String">&quot;[&quot;</a> <a id="22439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22112" class="Function">Listmsg2String</a> <a id="22460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22430" class="Bound">l</a> <a id="22462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22468" class="String">&quot;]&quot;</a>

<a id="msgOrErrorWithGas2StringOrError"></a><a id="22473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22473" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22505" class="Symbol">:</a> <a id="22507" class="Symbol">(</a><a id="22508" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="22515" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="22517" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="22534" class="Symbol">)</a>  <a id="22537" class="Symbol">→</a> <a id="22539" class="Symbol">(</a><a id="22540" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="22547" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="22549" href="basicDataStructure.html#2079" class="Record">StringOrErrorWithGas</a><a id="22569" class="Symbol">)</a>
<a id="22571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22473" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22603" class="Symbol">(</a><a id="22604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22604" class="Bound">ledger</a> <a id="22611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22614" class="Symbol">(</a><a id="22615" href="basicDataStructure.html#1560" class="InductiveConstructor">theMsg</a> <a id="22622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22622" class="Bound">x</a> <a id="22624" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22626" class="Bound">gas₁</a> <a id="22631" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22634" class="Symbol">))</a> <a id="22637" class="Symbol">=</a> <a id="22639" class="Symbol">(</a><a id="22640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22604" class="Bound">ledger</a> <a id="22647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22650" class="Symbol">(</a><a id="22651" href="basicDataStructure.html#1916" class="InductiveConstructor">theString</a> <a id="22661" class="Symbol">(</a><a id="22662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22257" class="Function">msg2String</a> <a id="22673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22622" class="Bound">x</a><a id="22674" class="Symbol">)</a> <a id="22676" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22678" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22626" class="Bound">gas₁</a> <a id="22683" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22686" class="Symbol">))</a>
<a id="22689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22473" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22721" class="Symbol">(</a><a id="22722" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22722" class="Bound">ledger</a> <a id="22729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22732" class="Symbol">(</a><a id="22733" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="22737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22737" class="Bound">x</a> <a id="22739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22739" class="Bound">x₁</a> <a id="22742" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22744" class="Bound">gas₁</a> <a id="22749" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22752" class="Symbol">))</a> <a id="22755" class="Symbol">=</a> <a id="22757" class="Symbol">(</a><a id="22758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22722" class="Bound">ledger</a> <a id="22765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22768" class="Symbol">(</a><a id="22769" href="basicDataStructure.html#1953" class="InductiveConstructor">err</a> <a id="22773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22737" class="Bound">x</a> <a id="22775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22739" class="Bound">x₁</a> <a id="22778" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22744" class="Bound">gas₁</a> <a id="22785" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22788" class="Symbol">)</a> <a id="22790" class="Symbol">)</a>
<a id="22792" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22473" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22824" class="Symbol">(</a><a id="22825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22825" class="Bound">ledger</a> <a id="22832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22835" class="Symbol">(</a><a id="22836" href="basicDataStructure.html#1667" class="InductiveConstructor">invalidtransaction</a> <a id="22855" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22857" class="Bound">gas₁</a> <a id="22862" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22865" class="Symbol">))</a> <a id="22868" class="Symbol">=</a> <a id="22870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22825" class="Bound">ledger</a> <a id="22877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22880" class="Symbol">(</a><a id="22881" href="basicDataStructure.html#2035" class="InductiveConstructor">invalidtransaction</a> <a id="22900" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22857" class="Bound">gas₁</a> <a id="22907" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22910" class="Symbol">)</a>


<a id="22914" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="22957" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateNonTerminatingAuxfinal0&#39;"></a><a id="23028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23028" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="23061" class="Symbol">:</a> <a id="23063" class="Symbol">(</a><a id="23064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23064" class="Bound">oldledger</a> <a id="23074" class="Symbol">:</a> <a id="23076" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="23082" class="Symbol">)</a>
                          <a id="23110" class="Symbol">→</a> <a id="23112" class="Symbol">(</a><a id="23113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23113" class="Bound">currentLedger</a> <a id="23127" class="Symbol">:</a> <a id="23129" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="23135" class="Symbol">)</a>
                          <a id="23163" class="Symbol">→</a> <a id="23165" class="Symbol">(</a><a id="23166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23166" class="Bound">initialAddr</a> <a id="23178" class="Symbol">:</a> <a id="23180" href="basicDataStructure.html#387" class="Function">Address</a><a id="23187" class="Symbol">)</a>
                          <a id="23215" class="Symbol">→</a> <a id="23217" class="Symbol">(</a><a id="23218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23218" class="Bound">lastCallAddr</a> <a id="23231" class="Symbol">:</a> <a id="23233" href="basicDataStructure.html#387" class="Function">Address</a><a id="23240" class="Symbol">)</a>
                          <a id="23268" class="Symbol">→</a> <a id="23270" class="Symbol">(</a><a id="23271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23271" class="Bound">calledAddr</a> <a id="23282" class="Symbol">:</a> <a id="23284" href="basicDataStructure.html#387" class="Function">Address</a><a id="23291" class="Symbol">)</a>
                          <a id="23319" class="Symbol">→</a> <a id="23321" class="Symbol">(</a><a id="23322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23322" class="Bound">cost</a> <a id="23327" class="Symbol">:</a> <a id="23329" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23330" class="Symbol">)</a>
                          <a id="23358" class="Symbol">→</a> <a id="23360" class="Symbol">(</a><a id="23361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23361" class="Bound">returnvalue</a> <a id="23373" class="Symbol">:</a> <a id="23375" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="23378" class="Symbol">)</a>
                          <a id="23406" class="Symbol">→</a> <a id="23408" class="Symbol">(</a><a id="23409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23409" class="Bound">gasLeft</a> <a id="23417" class="Symbol">:</a> <a id="23419" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23420" class="Symbol">)</a>
                          <a id="23448" class="Symbol">→</a> <a id="23450" class="Symbol">(</a><a id="23451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23451" class="Bound">funNameevalState</a> <a id="23468" class="Symbol">:</a> <a id="23470" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="23482" class="Symbol">)</a>
                          <a id="23510" class="Symbol">→</a> <a id="23512" class="Symbol">(</a><a id="23513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23513" class="Bound">msgevalState</a> <a id="23526" class="Symbol">:</a> <a id="23528" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="23531" class="Symbol">)</a>
                          <a id="23559" class="Symbol">→</a> <a id="23561" class="Symbol">(</a><a id="23562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23562" class="Bound">cp</a>  <a id="23566" class="Symbol">:</a> <a id="23568" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="23580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23322" class="Bound">cost</a> <a id="23585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23409" class="Bound">gasLeft</a><a id="23592" class="Symbol">)</a>
                          <a id="23620" class="Symbol">→</a> <a id="23622" class="Symbol">(</a><a id="23623" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="23630" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="23632" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="23649" class="Symbol">)</a>
<a id="23651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23028" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="23684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23684" class="Bound">oldledger</a> <a id="23694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23694" class="Bound">currentLedger</a> <a id="23708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23708" class="Bound">initialAddr</a> <a id="23720" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23720" class="Bound">lastCallAddr</a> <a id="23733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23733" class="Bound">calledAddr</a> <a id="23744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23744" class="Bound">cost</a> <a id="23749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23749" class="Bound">ms</a> <a id="23752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23752" class="Bound">gasLeft</a> <a id="23760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23760" class="Bound">funNameevalState</a> <a id="23777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23777" class="Bound">msgevalState</a> <a id="23790" class="Symbol">(</a><a id="23791" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="23795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23795" class="Bound">x</a><a id="23796" class="Symbol">)</a>
                               <a id="23829" class="Symbol">=</a>  <a id="23832" class="Symbol">(</a><a id="23833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="23848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23694" class="Bound">currentLedger</a> <a id="23862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23708" class="Bound">initialAddr</a>
                                   <a id="23909" class="Symbol">(</a><a id="23910" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="23919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="23925" class="Symbol">(</a><a id="23926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23752" class="Bound">gasLeft</a> <a id="23934" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="23936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23744" class="Bound">cost</a><a id="23940" class="Symbol">)))</a> <a id="23944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="23947" class="Symbol">(</a><a id="23948" href="basicDataStructure.html#1560" class="InductiveConstructor">theMsg</a> <a id="23955" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23749" class="Bound">ms</a> <a id="23958" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="23960" class="Symbol">(</a><a id="23961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23752" class="Bound">gasLeft</a> <a id="23969" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="23971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23744" class="Bound">cost</a><a id="23975" class="Symbol">)</a> <a id="23977" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="23980" class="Symbol">)</a>

<a id="23983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23028" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="24016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24016" class="Bound">oldledger</a> <a id="24026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24026" class="Bound">currentLedger</a> <a id="24040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24040" class="Bound">initialAddr</a> <a id="24052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24052" class="Bound">lastCallAddr</a> <a id="24065" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24065" class="Bound">calledAddr</a> <a id="24076" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24076" class="Bound">cost</a> <a id="24081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24081" class="Bound">returnvalue</a> <a id="24093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24093" class="Bound">gasLeft</a> <a id="24101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24101" class="Bound">funNameevalState</a> <a id="24118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24118" class="Bound">msgevalState</a> <a id="24131" class="Symbol">(</a><a id="24132" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="24140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24140" class="Bound">x</a><a id="24141" class="Symbol">)</a>
                               <a id="24174" class="Symbol">=</a> <a id="24176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24016" class="Bound">oldledger</a> <a id="24186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="24189" class="Symbol">((</a><a id="24191" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="24195" class="Symbol">(</a><a id="24196" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="24203" class="String">&quot; Out Of Gass &quot;</a><a id="24218" class="Symbol">)</a> <a id="24220" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="24222" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24052" class="Bound">lastCallAddr</a> <a id="24235" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="24238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24040" class="Bound">initialAddr</a> <a id="24250" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="24252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24101" class="Bound">funNameevalState</a> <a id="24269" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="24271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24118" class="Bound">msgevalState</a> <a id="24284" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="24286" class="Symbol">)</a> <a id="24288" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="24290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24093" class="Bound">gasLeft</a> <a id="24298" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="24301" class="Symbol">)</a>



<a id="24306" class="Symbol">{-#</a> <a id="24310" class="Keyword">NON_TERMINATING</a> <a id="24326" class="Symbol">#-}</a>
<a id="evaluateNonTerminatingAuxfinal0"></a><a id="24330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24330" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="24362" class="Symbol">:</a> <a id="24364" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="24371" class="Symbol">→</a> <a id="24373" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="24386" class="Symbol">→</a> <a id="24388" class="Symbol">(</a><a id="24389" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="24396" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="24398" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="24415" class="Symbol">)</a>
<a id="24417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24330" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="24449" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24449" class="Bound">oldledger</a> <a id="24459" class="Symbol">(</a><a id="24460" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="24468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24468" class="Bound">currentLedger</a> <a id="24482" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="24485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24485" class="Bound">initialAddr</a> <a id="24497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24497" class="Bound">lastCallAddr</a> <a id="24510" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24510" class="Bound">calledAddr</a> <a id="24521" class="Symbol">(</a><a id="24522" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="24529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24529" class="Bound">cost</a> <a id="24534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24534" class="Bound">ms</a><a id="24536" class="Symbol">)</a>
                            <a id="24566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24566" class="Bound">gasLeft</a>  <a id="24575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24575" class="Bound">funNameevalState</a> <a id="24592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24592" class="Bound">msgevalState</a><a id="24604" class="Symbol">)</a>
                            <a id="24634" class="Symbol">=</a> <a id="24636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23028" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="24669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24449" class="Bound">oldledger</a> <a id="24679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24468" class="Bound">currentLedger</a>
                                <a id="24725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24485" class="Bound">initialAddr</a> <a id="24737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24497" class="Bound">lastCallAddr</a> <a id="24750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24510" class="Bound">calledAddr</a> <a id="24761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24529" class="Bound">cost</a> <a id="24766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24534" class="Bound">ms</a> <a id="24769" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24566" class="Bound">gasLeft</a> <a id="24777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24575" class="Bound">funNameevalState</a> <a id="24794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24592" class="Bound">msgevalState</a> <a id="24807" class="Symbol">(</a><a id="24808" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="24819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24529" class="Bound">cost</a> <a id="24824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24566" class="Bound">gasLeft</a><a id="24831" class="Symbol">)</a>

<a id="24834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24330" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="24865" class="CatchallClause"> </a><a id="24866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24866" class="CatchallClause Bound">oldledger</a><a id="24875" class="CatchallClause"> </a><a id="24876" class="CatchallClause Symbol">(</a><a id="24877" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="24884" class="CatchallClause"> </a><a id="24885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24885" class="CatchallClause Bound">currentLedger</a><a id="24898" class="CatchallClause"> </a><a id="24899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24899" class="CatchallClause Bound">s</a><a id="24900" class="CatchallClause"> </a><a id="24901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24901" class="CatchallClause Bound">initialAddr</a><a id="24912" class="CatchallClause"> </a><a id="24913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24913" class="CatchallClause Bound">lastCallAddr</a><a id="24925" class="CatchallClause"> </a><a id="24926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24926" class="CatchallClause Bound">calledAddr</a><a id="24936" class="CatchallClause"> </a><a id="24937" class="CatchallClause Symbol">(</a><a id="24938" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="24943" class="CatchallClause"> </a><a id="24944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24944" class="CatchallClause Bound">msgg</a><a id="24948" class="CatchallClause"> </a><a id="24949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24949" class="CatchallClause Bound">debugInfo</a><a id="24958" class="CatchallClause Symbol">)</a>
                             <a id="24989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24989" class="CatchallClause Bound">gasLeft</a><a id="24996" class="CatchallClause">  </a><a id="24998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24998" class="CatchallClause Bound">funNameevalState</a><a id="25014" class="CatchallClause"> </a><a id="25015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25015" class="CatchallClause Bound">msgevalState</a><a id="25027" class="CatchallClause Symbol">)</a>
                          <a id="25055" class="Symbol">=</a> <a id="25057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="25072" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24866" class="Bound">oldledger</a> <a id="25082" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24901" class="Bound">initialAddr</a> <a id="25094" class="Symbol">(</a><a id="25095" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24989" class="Bound">gasLeft</a><a id="25117" class="Symbol">)</a> <a id="25119" class="Comment">{- 100 -}</a> <a id="25129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a>
                            <a id="25160" class="Symbol">(</a><a id="25161" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="25165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24944" class="Bound">msgg</a> <a id="25170" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a>  <a id="25173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24913" class="Bound">lastCallAddr</a> <a id="25186" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="25189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24901" class="Bound">initialAddr</a> <a id="25201" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="25203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24998" class="Bound">funNameevalState</a> <a id="25220" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="25222" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25015" class="Bound">msgevalState</a> <a id="25235" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a> <a id="25238" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="25240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24989" class="Bound">gasLeft</a> <a id="25248" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="25251" class="Symbol">)</a>
<a id="25253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24330" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="25284" class="CatchallClause"> </a><a id="25285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25285" class="CatchallClause Bound">oldledger</a><a id="25294" class="CatchallClause"> </a><a id="25295" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25295" class="CatchallClause Bound">statefun</a>
                          <a id="25330" class="Symbol">=</a> <a id="25332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24330" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="25364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25285" class="Bound">oldledger</a> <a id="25374" class="Symbol">(</a><a id="25375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a>  <a id="25395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25285" class="Bound">oldledger</a> <a id="25405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25295" class="Bound">statefun</a><a id="25413" class="Symbol">)</a>

<a id="evaluateNonTerminatingAuxfinal"></a><a id="25416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25416" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="25447" class="Symbol">:</a> <a id="25449" class="Symbol">(</a><a id="25450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25450" class="Bound">ledger</a> <a id="25457" class="Symbol">:</a> <a id="25459" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="25465" class="Symbol">)</a>
                          <a id="25493" class="Symbol">→</a> <a id="25495" class="Symbol">(</a><a id="25496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25496" class="Bound">initialAddr</a> <a id="25508" class="Symbol">:</a> <a id="25510" href="basicDataStructure.html#387" class="Function">Address</a><a id="25517" class="Symbol">)</a>
                          <a id="25545" class="Symbol">→</a> <a id="25547" class="Symbol">(</a><a id="25548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25548" class="Bound">lastCallAddr</a> <a id="25561" class="Symbol">:</a> <a id="25563" href="basicDataStructure.html#387" class="Function">Address</a><a id="25570" class="Symbol">)</a>
                          <a id="25598" class="Symbol">→</a> <a id="25600" class="Symbol">(</a><a id="25601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25601" class="Bound">calledAddr</a> <a id="25612" class="Symbol">:</a> <a id="25614" href="basicDataStructure.html#387" class="Function">Address</a><a id="25621" class="Symbol">)</a>
                          <a id="25649" class="Symbol">→</a> <a id="25651" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                          <a id="25690" class="Symbol">→</a> <a id="25692" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                          <a id="25722" class="Symbol">→</a> <a id="25724" class="Symbol">(</a><a id="25725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25725" class="Bound">gasreserved</a> <a id="25737" class="Symbol">:</a> <a id="25739" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25740" class="Symbol">)</a>

                          <a id="25769" class="Symbol">→</a> <a id="25771" class="Symbol">(</a><a id="25772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25772" class="Bound">cp</a>  <a id="25776" class="Symbol">:</a> <a id="25778" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="25790" class="Symbol">(</a><a id="25791" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25725" class="Bound">gasreserved</a><a id="25817" class="Symbol">)</a> <a id="25819" class="Symbol">(</a><a id="25820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25450" class="Bound">ledger</a> <a id="25827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25496" class="Bound">initialAddr</a> <a id="25839" class="Symbol">.</a><a id="25840" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="25846" class="Symbol">))</a>
                          <a id="25875" class="Symbol">→</a> <a id="25877" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="25883" class="Symbol">(</a><a id="25884" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="25891" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="25893" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="25910" class="Symbol">)</a>
<a id="25912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25416" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="25943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25943" class="Bound">ledger</a> <a id="25950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25950" class="Bound">initialAddr</a> <a id="25962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25962" class="Bound">lastCallAddr</a> <a id="25975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25975" class="Bound">calledAddr</a> <a id="25986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25986" class="Bound">funname</a> <a id="25994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25994" class="Bound">msg</a> <a id="25998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25998" class="Bound">gasreserved</a>  <a id="26011" class="Symbol">(</a><a id="26012" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="26016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26016" class="Bound">leqpr</a><a id="26021" class="Symbol">)</a>
                           <a id="26050" class="Symbol">=</a> <a id="26052" class="Keyword">let</a>
                               <a id="26087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26087" class="Bound">ledgerDeducted</a> <a id="26102" class="Symbol">:</a> <a id="26104" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
                               <a id="26142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26087" class="Bound">ledgerDeducted</a> <a id="26157" class="Symbol">=</a> <a id="26159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="26179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25943" class="Bound">ledger</a> <a id="26186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25950" class="Bound">initialAddr</a> <a id="26198" class="Symbol">(</a><a id="26199" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="26208" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="26214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25998" class="Bound">gasreserved</a><a id="26225" class="Symbol">)</a> <a id="26227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26016" class="Bound">leqpr</a>
                             <a id="26262" class="Keyword">in</a> <a id="26265" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="26270" class="Symbol">(</a><a id="26271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24330" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="26303" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26087" class="Bound">ledgerDeducted</a>
                                     <a id="26355" class="Symbol">(</a><a id="26356" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="26364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26087" class="Bound">ledgerDeducted</a> <a id="26379" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="26382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25950" class="Bound">initialAddr</a> <a id="26394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25962" class="Bound">lastCallAddr</a> <a id="26407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25975" class="Bound">calledAddr</a> <a id="26418" class="Symbol">(</a><a id="26419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26087" class="Bound">ledgerDeducted</a> <a id="26434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25975" class="Bound">calledAddr</a> <a id="26445" class="Symbol">.</a><a id="26446" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="26450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25986" class="Bound">funname</a> <a id="26458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25994" class="Bound">msg</a><a id="26461" class="Symbol">)</a>
                                     <a id="26500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25998" class="Bound">gasreserved</a>  <a id="26513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25986" class="Bound">funname</a> <a id="26521" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25994" class="Bound">msg</a><a id="26524" class="Symbol">))</a>

<a id="26528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25416" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="26559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26559" class="Bound">ledger</a> <a id="26566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26566" class="Bound">initialAddr</a> <a id="26578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26578" class="Bound">lastCallAddr</a> <a id="26591" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26591" class="Bound">calledAddr</a> <a id="26602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26602" class="Bound">funname</a> <a id="26610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26610" class="Bound">msg</a> <a id="26614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26614" class="Bound">gasreserved</a>  <a id="26627" class="Symbol">(</a><a id="26628" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="26636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26636" class="Bound">greaterpr</a><a id="26645" class="Symbol">)</a>
                           <a id="26674" class="Symbol">=</a> <a id="26676" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="evaluateNonTerminatingfinal"></a><a id="26686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26686" class="Function">evaluateNonTerminatingfinal</a> <a id="26714" class="Symbol">:</a> <a id="26716" class="Symbol">(</a><a id="26717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26717" class="Bound">ledger</a> <a id="26724" class="Symbol">:</a> <a id="26726" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="26732" class="Symbol">)</a>
                         <a id="26759" class="Symbol">→</a> <a id="26761" class="Symbol">(</a><a id="26762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26762" class="Bound">initialAddr</a> <a id="26774" class="Symbol">:</a> <a id="26776" href="basicDataStructure.html#387" class="Function">Address</a><a id="26783" class="Symbol">)</a>
                            <a id="26813" class="Comment">-- Initial address is the address from which the very first call was made</a>
                         <a id="26912" class="Symbol">→</a> <a id="26914" class="Symbol">(</a><a id="26915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26915" class="Bound">lastCallAddr</a> <a id="26928" class="Symbol">:</a> <a id="26930" href="basicDataStructure.html#387" class="Function">Address</a><a id="26937" class="Symbol">)</a>
                            <a id="26967" class="Comment">-- lastCallAddr is the address from which the current call of a function in</a>
                            <a id="27071" class="Comment">--         calledAddr is made</a>
                         <a id="27126" class="Symbol">→</a> <a id="27128" class="Symbol">(</a><a id="27129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27129" class="Bound">calledAddr</a> <a id="27140" class="Symbol">:</a> <a id="27142" href="basicDataStructure.html#387" class="Function">Address</a><a id="27149" class="Symbol">)</a>
                            <a id="27179" class="Comment">-- calledAddr is the address where a function call is currently executed</a>
                            <a id="27280" class="Comment">--            it was called from calledAddr</a>
                         <a id="27349" class="Symbol">→</a> <a id="27351" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                         <a id="27389" class="Symbol">→</a> <a id="27391" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                         <a id="27420" class="Symbol">→</a> <a id="27422" class="Symbol">(</a><a id="27423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27423" class="Bound">gasreserved</a> <a id="27435" class="Symbol">:</a> <a id="27437" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="27438" class="Symbol">)</a>

                         <a id="27466" class="Symbol">→</a> <a id="27468" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="27474" class="Symbol">(</a><a id="27475" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="27482" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="27484" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="27501" class="Symbol">)</a>
<a id="27503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26686" class="Function">evaluateNonTerminatingfinal</a> <a id="27531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27531" class="Bound">ledger</a> <a id="27538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27538" class="Bound">initialAddr</a> <a id="27550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27550" class="Bound">lastCallAddr</a> <a id="27563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27563" class="Bound">calledAddr</a> <a id="27574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27574" class="Bound">funname</a> <a id="27582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27582" class="Bound">msg</a> <a id="27586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27586" class="Bound">gasreserved</a>
                      <a id="27620" class="Symbol">=</a>  <a id="27623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25416" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="27654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27531" class="Bound">ledger</a> <a id="27661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27538" class="Bound">initialAddr</a> <a id="27673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27550" class="Bound">lastCallAddr</a> <a id="27686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27563" class="Bound">calledAddr</a> <a id="27697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27574" class="Bound">funname</a> <a id="27705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27582" class="Bound">msg</a> <a id="27709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27586" class="Bound">gasreserved</a>
                         <a id="27746" class="Symbol">(</a><a id="27747" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="27758" class="Symbol">(</a><a id="27759" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="27768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27586" class="Bound">gasreserved</a><a id="27785" class="Symbol">)</a> <a id="27787" class="Symbol">(</a><a id="27788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27531" class="Bound">ledger</a> <a id="27795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27538" class="Bound">initialAddr</a> <a id="27807" class="Symbol">.</a><a id="27808" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="27814" class="Symbol">))</a>





</pre></body></html>