<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#275" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2430" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1561" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2366" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>



<a id="690" class="Comment">-- update pure function in the ledger</a>
<a id="updateLedgerpurefun"></a><a id="728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#728" class="Function">updateLedgerpurefun</a> <a id="748" class="Symbol">:</a> <a id="750" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="757" class="Symbol">→</a> <a id="759" href="basicDataStructure.html#387" class="Function">Address</a>
       <a id="774" class="Symbol">→</a> <a id="776" href="basicDataStructure.html#172" class="Function">FunctionName</a>
       <a id="796" class="Symbol">→</a> <a id="798" class="Symbol">((</a><a id="800" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="804" class="Symbol">→</a> <a id="806" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="816" class="Symbol">)</a> <a id="818" class="Symbol">→</a> <a id="820" class="Symbol">(</a><a id="821" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="825" class="Symbol">→</a> <a id="827" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="837" class="Symbol">))</a>
       <a id="847" class="Symbol">→</a> <a id="849" class="Symbol">((</a><a id="851" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="855" class="Symbol">→</a> <a id="857" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="867" class="Symbol">)</a> <a id="869" class="Symbol">→</a> <a id="871" class="Symbol">(</a><a id="872" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="876" class="Symbol">→</a> <a id="878" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="879" class="Symbol">)</a> <a id="881" class="Symbol">→</a> <a id="883" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="887" class="Symbol">→</a> <a id="889" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="890" class="Symbol">)</a>
       <a id="899" class="Symbol">→</a> <a id="901" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
<a id="908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#728" class="Function">updateLedgerpurefun</a> <a id="928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#928" class="Bound">ledger</a> <a id="935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#935" class="Bound">changedAddr</a> <a id="947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#947" class="Bound">changedFname</a> <a id="960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#960" class="Bound">f</a> <a id="962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#962" class="Bound">g</a> <a id="964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#964" class="Bound">a</a> <a id="966" class="Symbol">.</a><a id="967" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="974" class="Symbol">=</a> <a id="976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#928" class="Bound">ledger</a> <a id="983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#964" class="Bound">a</a> <a id="985" class="Symbol">.</a><a id="986" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#728" class="Function">updateLedgerpurefun</a> <a id="1013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1013" class="Bound">ledger</a> <a id="1020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1020" class="Bound">changedAddr</a> <a id="1032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1032" class="Bound">changedFname</a> <a id="1045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1045" class="Bound">f</a> <a id="1047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1047" class="Bound">g</a> <a id="1049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1049" class="Bound">a</a> <a id="1051" class="Symbol">.</a><a id="1052" href="libraries.Mainlibrary.html#830" class="Field">fun</a>  <a id="1057" class="Symbol">=</a> <a id="1059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1013" class="Bound">ledger</a> <a id="1066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1049" class="Bound">a</a> <a id="1068" class="Symbol">.</a><a id="1069" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="1073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#728" class="Function">updateLedgerpurefun</a> <a id="1093" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1093" class="Bound">ledger</a> <a id="1100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1100" class="Bound">changedAddr</a> <a id="1112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1112" class="Bound">changedFname</a> <a id="1125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1125" class="Bound">f</a> <a id="1127" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1127" class="Bound">g</a> <a id="1129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1129" class="Bound">a</a> <a id="1131" class="Symbol">.</a><a id="1132" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a> <a id="1145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1145" class="Bound">fname</a> <a id="1151" class="Symbol">=</a>
       <a id="1160" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1163" class="Symbol">(</a><a id="1164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1112" class="Bound">changedFname</a> <a id="1177" href="basicDataStructure.html#257" class="Function Operator">≡fun</a> <a id="1182" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1145" class="Bound">fname</a><a id="1187" class="Symbol">)</a> <a id="1189" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="1195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1125" class="Bound">f</a> <a id="1197" class="Symbol">(</a><a id="1198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1093" class="Bound">ledger</a> <a id="1205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1129" class="Bound">a</a> <a id="1207" class="Symbol">.</a><a id="1208" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a> <a id="1221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1145" class="Bound">fname</a><a id="1226" class="Symbol">)</a>
                         <a id="1253" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="1259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1093" class="Bound">ledger</a> <a id="1266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1129" class="Bound">a</a> <a id="1268" class="Symbol">.</a><a id="1269" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a> <a id="1282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1145" class="Bound">fname</a>
<a id="1288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#728" class="Function">updateLedgerpurefun</a> <a id="1308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1308" class="Bound">ledger</a> <a id="1315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1315" class="Bound">changedAddr</a> <a id="1327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1327" class="Bound">changedFname</a> <a id="1340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1340" class="Bound">f</a> <a id="1342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1342" class="Bound">g</a> <a id="1344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1344" class="Bound">a</a> <a id="1346" class="Symbol">.</a><a id="1347" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a> <a id="1364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1364" class="Bound">fname</a> <a id="1370" class="Symbol">=</a>
          <a id="1382" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1385" class="Symbol">(</a><a id="1386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1327" class="Bound">changedFname</a> <a id="1399" href="basicDataStructure.html#257" class="Function Operator">≡fun</a> <a id="1404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1364" class="Bound">fname</a><a id="1409" class="Symbol">)</a> <a id="1411" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="1417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1342" class="Bound">g</a> <a id="1419" class="Symbol">(</a><a id="1420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1308" class="Bound">ledger</a> <a id="1427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1344" class="Bound">a</a> <a id="1429" class="Symbol">.</a><a id="1430" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a> <a id="1443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1364" class="Bound">fname</a><a id="1448" class="Symbol">)</a> <a id="1450" class="Symbol">(</a><a id="1451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1308" class="Bound">ledger</a> <a id="1458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1344" class="Bound">a</a> <a id="1460" class="Symbol">.</a><a id="1461" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a> <a id="1478" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1364" class="Bound">fname</a><a id="1483" class="Symbol">)</a>
                         <a id="1510" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="1516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1308" class="Bound">ledger</a> <a id="1523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1344" class="Bound">a</a> <a id="1525" class="Symbol">.</a><a id="1526" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a> <a id="1543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1364" class="Bound">fname</a>


<a id="1551" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1574" class="Function">updateLedgerAmount</a> <a id="1593" class="Symbol">:</a> <a id="1595" class="Symbol">(</a><a id="1596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1596" class="Bound">ledger</a> <a id="1603" class="Symbol">:</a> <a id="1605" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="1611" class="Symbol">)</a>
               <a id="1628" class="Symbol">→</a>  <a id="1631" class="Symbol">(</a><a id="1632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1632" class="Bound">calledAddr</a> <a id="1643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1643" class="Bound">destinationAddr</a> <a id="1659" class="Symbol">:</a> <a id="1661" href="basicDataStructure.html#387" class="Function">Address</a><a id="1668" class="Symbol">)</a> <a id="1670" class="Symbol">(</a><a id="1671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1671" class="Bound">amount&#39;</a> <a id="1679" class="Symbol">:</a> <a id="1681" href="basicDataStructure.html#360" class="Function">Amount</a><a id="1687" class="Symbol">)</a>
               <a id="1704" class="Symbol">→</a> <a id="1706" class="Symbol">(</a><a id="1707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1707" class="Bound">correctAmount</a> <a id="1721" class="Symbol">:</a> <a id="1723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1671" class="Bound">amount&#39;</a> <a id="1731" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="1735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1596" class="Bound">ledger</a> <a id="1742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1632" class="Bound">calledAddr</a> <a id="1753" class="Symbol">.</a><a id="1754" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1760" class="Symbol">)</a>
                <a id="1778" class="Symbol">→</a> <a id="1780" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
<a id="1787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1574" class="Function">updateLedgerAmount</a> <a id="1806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1806" class="Bound">ledger</a> <a id="1813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1813" class="Bound">calledAddr</a> <a id="1824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1824" class="Bound">destinationAddr</a> <a id="1840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1840" class="Bound">amount&#39;</a> <a id="1848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1848" class="Bound">correctAmount</a> <a id="1862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1862" class="Bound">addr</a> <a id="1867" class="Symbol">.</a><a id="1868" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
     <a id="1880" class="Symbol">=</a> <a id="1882" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1862" class="Bound">addr</a> <a id="1890" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1813" class="Bound">calledAddr</a>
     <a id="1909" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1914" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="1923" class="Symbol">(</a><a id="1924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1806" class="Bound">ledger</a> <a id="1931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1813" class="Bound">calledAddr</a> <a id="1942" class="Symbol">.</a><a id="1943" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1949" class="Symbol">)</a> <a id="1951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1840" class="Bound">amount&#39;</a> <a id="1959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1848" class="Bound">correctAmount</a>
     <a id="1978" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1983" class="Symbol">(</a><a id="1984" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1862" class="Bound">addr</a> <a id="1992" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1824" class="Bound">destinationAddr</a>
     <a id="2016" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1806" class="Bound">ledger</a> <a id="2028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1824" class="Bound">destinationAddr</a> <a id="2044" class="Symbol">.</a><a id="2045" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="2052" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="2054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1840" class="Bound">amount&#39;</a>
       <a id="2069" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="2074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1806" class="Bound">ledger</a> <a id="2081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1862" class="Bound">addr</a> <a id="2086" class="Symbol">.</a><a id="2087" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2093" class="Symbol">)</a>
<a id="2095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1574" class="Function">updateLedgerAmount</a> <a id="2114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2114" class="Bound">ledger</a> <a id="2121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2121" class="Bound">calledAddr</a> <a id="2132" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2132" class="Bound">newAddr</a> <a id="2140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2140" class="Bound">amount&#39;</a> <a id="2148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2148" class="Bound">correctAmount</a> <a id="2162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2162" class="Bound">addr</a> <a id="2167" class="Symbol">.</a><a id="2168" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
     <a id="2177" class="Symbol">=</a>  <a id="2180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2114" class="Bound">ledger</a> <a id="2187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2162" class="Bound">addr</a> <a id="2192" class="Symbol">.</a><a id="2193" href="libraries.Mainlibrary.html#830" class="Field">fun</a>

<a id="2198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1574" class="Function">updateLedgerAmount</a> <a id="2217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2217" class="Bound">ledger</a> <a id="2224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2224" class="Bound">calledAddr</a> <a id="2235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2235" class="Bound">newAddr</a> <a id="2243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2243" class="Bound">amount&#39;</a> <a id="2251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2251" class="Bound">correctAmount</a> <a id="2265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2265" class="Bound">addr</a> <a id="2270" class="Symbol">.</a><a id="2271" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a>
     <a id="2289" class="Symbol">=</a> <a id="2291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2217" class="Bound">ledger</a> <a id="2298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2265" class="Bound">addr</a> <a id="2303" class="Symbol">.</a><a id="2304" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a>
<a id="2317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1574" class="Function">updateLedgerAmount</a> <a id="2336" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2336" class="Bound">ledger</a> <a id="2343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2343" class="Bound">calledAddr</a> <a id="2354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2354" class="Bound">newAddr</a> <a id="2362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2362" class="Bound">amount&#39;</a> <a id="2370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2370" class="Bound">correctAmount</a> <a id="2384" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2384" class="Bound">addr</a> <a id="2389" class="Symbol">.</a><a id="2390" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a> <a id="2407" class="Symbol">=</a> <a id="2409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2336" class="Bound">ledger</a> <a id="2416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2384" class="Bound">addr</a> <a id="2421" class="Symbol">.</a><a id="2422" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a>



<a id="2442" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2515" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="2564" class="Symbol">:</a> <a id="2566" class="Symbol">(</a><a id="2567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2567" class="Bound">ledger</a> <a id="2574" class="Symbol">:</a> <a id="2576" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="2582" class="Symbol">)</a> <a id="2584" class="Symbol">→</a> <a id="2586" class="Symbol">(</a><a id="2587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2587" class="Bound">calledAddr</a> <a id="2598" class="Symbol">:</a> <a id="2600" href="basicDataStructure.html#387" class="Function">Address</a><a id="2607" class="Symbol">)</a> <a id="2609" class="Symbol">(</a><a id="2610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Bound">gascost</a> <a id="2618" class="Symbol">:</a> <a id="2620" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2621" class="Symbol">)</a>
                    <a id="2643" class="Symbol">→</a> <a id="2645" class="Symbol">(</a><a id="2646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2646" class="Bound">correctAmount</a> <a id="2660" class="Symbol">:</a> <a id="2662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Bound">gascost</a> <a id="2670" href="libraries.natCompare.html#436" class="Function Operator">≦r</a> <a id="2673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2567" class="Bound">ledger</a> <a id="2680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2587" class="Bound">calledAddr</a> <a id="2691" class="Symbol">.</a><a id="2692" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2698" class="Symbol">)</a>
                    <a id="2720" class="Symbol">→</a> <a id="2722" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>

<a id="2730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="2750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2750" class="Bound">ledger</a> <a id="2757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2757" class="Bound">calledAddr</a> <a id="2768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2768" class="Bound">gascost</a> <a id="2776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2776" class="Bound">correctAmount</a> <a id="2790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2790" class="Bound">addr</a> <a id="2795" class="Symbol">.</a><a id="2796" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
     <a id="2808" class="Symbol">=</a> <a id="2810" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2790" class="Bound">addr</a> <a id="2818" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="2821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2757" class="Bound">calledAddr</a>
     <a id="2837" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2842" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="2851" class="Symbol">(</a><a id="2852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2750" class="Bound">ledger</a> <a id="2859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2757" class="Bound">calledAddr</a> <a id="2870" class="Symbol">.</a><a id="2871" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2877" class="Symbol">)</a> <a id="2879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2768" class="Bound">gascost</a> <a id="2887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2776" class="Bound">correctAmount</a>
     <a id="2906" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="2912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2750" class="Bound">ledger</a> <a id="2919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2790" class="Bound">addr</a> <a id="2924" class="Symbol">.</a><a id="2925" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="2932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="2952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2952" class="Bound">ledger</a> <a id="2959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2959" class="Bound">calledAddr</a> <a id="2970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2970" class="Bound">gascost</a> <a id="2978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2978" class="Bound">correctAmount</a> <a id="2992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2992" class="Bound">addr</a> <a id="2997" class="Symbol">.</a><a id="2998" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
    <a id="3006" class="Symbol">=</a> <a id="3008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2952" class="Bound">ledger</a> <a id="3015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2992" class="Bound">addr</a> <a id="3020" class="Symbol">.</a><a id="3021" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="3025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="3045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3045" class="Bound">ledger</a> <a id="3052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3052" class="Bound">calledAddr</a> <a id="3063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3063" class="Bound">gascost</a> <a id="3071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3071" class="Bound">correctAmount</a> <a id="3085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3085" class="Bound">addr</a> <a id="3090" class="Symbol">.</a><a id="3091" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a>
    <a id="3108" class="Symbol">=</a> <a id="3110" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3045" class="Bound">ledger</a> <a id="3117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3085" class="Bound">addr</a> <a id="3122" class="Symbol">.</a><a id="3123" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a>
<a id="3136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="3156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3156" class="Bound">ledger</a> <a id="3163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3163" class="Bound">calledAddr</a> <a id="3174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3174" class="Bound">gascost</a> <a id="3182" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3182" class="Bound">correctAmount</a> <a id="3196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3196" class="Bound">addr</a> <a id="3201" class="Symbol">.</a><a id="3202" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a>
    <a id="3223" class="Symbol">=</a> <a id="3225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3156" class="Bound">ledger</a> <a id="3232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3196" class="Bound">addr</a> <a id="3237" class="Symbol">.</a><a id="3238" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a>


<a id="3257" class="Comment">-- this function below we use it to refuend in two cases with stepEF</a>
<a id="3326" class="Comment">-- 1) when finish (first case)</a>
<a id="3357" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="3398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="3413" class="Symbol">:</a> <a id="3415" class="Symbol">(</a><a id="3416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3416" class="Bound">ledger</a> <a id="3423" class="Symbol">:</a> <a id="3425" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="3431" class="Symbol">)</a> <a id="3433" class="Symbol">→</a> <a id="3435" class="Symbol">(</a><a id="3436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3436" class="Bound">address</a> <a id="3444" class="Symbol">:</a> <a id="3446" href="basicDataStructure.html#387" class="Function">Address</a><a id="3453" class="Symbol">)</a> <a id="3455" class="Symbol">(</a><a id="3456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3456" class="Bound">amount&#39;</a> <a id="3464" class="Symbol">:</a> <a id="3466" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3472" class="Symbol">)</a>
               <a id="3489" class="Symbol">→</a> <a id="3491" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
<a id="3498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="3513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3513" class="Bound">ledger</a> <a id="3520" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3520" class="Bound">address</a> <a id="3528" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3528" class="Bound">amount&#39;</a> <a id="3536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3536" class="Bound">addr</a> <a id="3541" class="Symbol">.</a><a id="3542" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
       <a id="3556" class="Symbol">=</a>   <a id="3560" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3536" class="Bound">addr</a> <a id="3568" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3520" class="Bound">address</a>
           <a id="3590" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="3595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3513" class="Bound">ledger</a> <a id="3602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3520" class="Bound">address</a> <a id="3610" class="Symbol">.</a><a id="3611" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="3618" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3528" class="Bound">amount&#39;</a>
           <a id="3639" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="3644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3513" class="Bound">ledger</a> <a id="3651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3536" class="Bound">addr</a> <a id="3656" class="Symbol">.</a><a id="3657" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="3664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="3679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3679" class="Bound">ledger</a> <a id="3686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3686" class="Bound">address</a> <a id="3694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3694" class="Bound">amount&#39;</a> <a id="3702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3702" class="Bound">addr</a> <a id="3707" class="Symbol">.</a><a id="3708" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
       <a id="3719" class="Symbol">=</a>   <a id="3723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3679" class="Bound">ledger</a> <a id="3730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3702" class="Bound">addr</a> <a id="3735" class="Symbol">.</a><a id="3736" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="3740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="3755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3755" class="Bound">ledger</a> <a id="3762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3762" class="Bound">address</a> <a id="3770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3770" class="Bound">amount&#39;</a> <a id="3778" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3778" class="Bound">addr</a> <a id="3783" class="Symbol">.</a><a id="3784" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a>
       <a id="3804" class="Symbol">=</a> <a id="3806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3755" class="Bound">ledger</a> <a id="3813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3778" class="Bound">addr</a> <a id="3818" class="Symbol">.</a><a id="3819" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a>
<a id="3832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="3847" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3847" class="Bound">ledger</a> <a id="3854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3854" class="Bound">address</a> <a id="3862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3862" class="Bound">amount&#39;</a> <a id="3870" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3870" class="Bound">addr</a> <a id="3875" class="Symbol">.</a><a id="3876" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a> <a id="3893" class="Symbol">=</a> <a id="3895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3847" class="Bound">ledger</a> <a id="3902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3870" class="Bound">addr</a> <a id="3907" class="Symbol">.</a><a id="3908" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a>



<a id="3928" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="3958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3958" class="Function">executeTransferAux</a> <a id="3977" class="Symbol">:</a> <a id="3979" class="Symbol">(</a><a id="3980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3980" class="Bound">oldLedger</a> <a id="3990" class="Symbol">:</a> <a id="3992" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="3998" class="Symbol">)</a>
                  <a id="4018" class="Symbol">→</a> <a id="4020" class="Symbol">(</a><a id="4021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4021" class="Bound">ledger</a> <a id="4028" class="Symbol">:</a> <a id="4030" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="4036" class="Symbol">)</a> <a id="4038" class="Comment">--ledger == currentLedger</a>
                  <a id="4082" class="Symbol">→</a> <a id="4084" class="Symbol">(</a><a id="4085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4085" class="Bound">executionStack</a> <a id="4100" class="Symbol">:</a> <a id="4102" href="libraries.Mainlibrary.html#2080" class="Function">ExecutionStack</a><a id="4116" class="Symbol">)</a>
                  <a id="4136" class="Symbol">→</a> <a id="4138" class="Symbol">(</a><a id="4139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4139" class="Bound">initialAddr</a> <a id="4151" class="Symbol">:</a> <a id="4153" href="basicDataStructure.html#387" class="Function">Address</a><a id="4160" class="Symbol">)</a>
                  <a id="4180" class="Symbol">→</a> <a id="4182" class="Symbol">(</a><a id="4183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4183" class="Bound">lastCallAddr</a> <a id="4196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4196" class="Bound">calledAddr</a> <a id="4207" class="Symbol">:</a> <a id="4209" href="basicDataStructure.html#387" class="Function">Address</a><a id="4216" class="Symbol">)</a>
                  <a id="4236" class="Symbol">→</a> <a id="4238" class="Symbol">(</a><a id="4239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4239" class="Bound">cont</a> <a id="4244" class="Symbol">:</a> <a id="4246" href="Complex-Model.ccomand.ccommands-cresponse.html#1514" class="Datatype">SmartContractExec</a> <a id="4264" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="4267" class="Symbol">)</a>
                  <a id="4287" class="Symbol">→</a> <a id="4289" class="Symbol">(</a><a id="4290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4290" class="Bound">gasleft</a> <a id="4298" class="Symbol">:</a> <a id="4300" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="4301" class="Symbol">)</a>
                  <a id="4321" class="Symbol">→</a> <a id="4323" class="Symbol">(</a><a id="4324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4324" class="Bound">funNameevalState</a> <a id="4341" class="Symbol">:</a> <a id="4343" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="4355" class="Symbol">)</a>
                  <a id="4375" class="Symbol">→</a> <a id="4377" class="Symbol">(</a><a id="4378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4378" class="Bound">msgevalState</a> <a id="4391" class="Symbol">:</a> <a id="4393" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="4396" class="Symbol">)</a>
                  <a id="4416" class="Symbol">→</a> <a id="4418" class="Symbol">(</a><a id="4419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4419" class="Bound">amount&#39;</a> <a id="4427" class="Symbol">:</a> <a id="4429" href="basicDataStructure.html#360" class="Function">Amount</a><a id="4435" class="Symbol">)</a>
                  <a id="4455" class="Symbol">→</a> <a id="4457" class="Symbol">(</a><a id="4458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4458" class="Bound">destinationAddr</a> <a id="4474" class="Symbol">:</a> <a id="4476" href="basicDataStructure.html#387" class="Function">Address</a><a id="4483" class="Symbol">)</a>
                  <a id="4503" class="Symbol">→</a> <a id="4505" class="Symbol">(</a><a id="4506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4506" class="Bound">cp</a>  <a id="4510" class="Symbol">:</a> <a id="4512" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="4524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4419" class="Bound">amount&#39;</a> <a id="4532" class="Symbol">(</a><a id="4533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4021" class="Bound">ledger</a> <a id="4540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4196" class="Bound">calledAddr</a> <a id="4551" class="Symbol">.</a><a id="4552" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="4558" class="Symbol">))</a>
                  <a id="4579" class="Symbol">→</a> <a id="4581" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="4594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3958" class="Function">executeTransferAux</a> <a id="4613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4613" class="Bound">oldLedger</a> <a id="4623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4623" class="Bound">ledger</a> <a id="4630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4630" class="Bound">executionStack</a> <a id="4645" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4645" class="Bound">initialAddr</a> <a id="4657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4657" class="Bound">lastCallAddr</a> <a id="4670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4670" class="Bound">calledAddr</a> <a id="4681" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4681" class="Bound">cont</a> <a id="4686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4686" class="Bound">gasleft</a>
                   <a id="4713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4713" class="Bound">funNameevalState</a> <a id="4730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4730" class="Bound">msgevalState</a> <a id="4743" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4743" class="Bound">amount&#39;</a> <a id="4751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4751" class="Bound">destinationAddr</a> <a id="4767" class="Symbol">(</a><a id="4768" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="4772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4772" class="Bound">x</a><a id="4773" class="Symbol">)</a>
         <a id="4784" class="Symbol">=</a> <a id="4786" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="4794" class="Symbol">(</a><a id="4795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1574" class="Function">updateLedgerAmount</a> <a id="4814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4623" class="Bound">ledger</a> <a id="4821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4670" class="Bound">calledAddr</a> <a id="4832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4751" class="Bound">destinationAddr</a> <a id="4848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4743" class="Bound">amount&#39;</a> <a id="4856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4772" class="Bound">x</a><a id="4857" class="Symbol">)</a>
          <a id="4869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4630" class="Bound">executionStack</a> <a id="4884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4645" class="Bound">initialAddr</a> <a id="4896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4657" class="Bound">lastCallAddr</a> <a id="4909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4670" class="Bound">calledAddr</a> <a id="4920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4681" class="Bound">cont</a> <a id="4925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4686" class="Bound">gasleft</a> <a id="4933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4713" class="Bound">funNameevalState</a> <a id="4950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4730" class="Bound">msgevalState</a>
<a id="4963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3958" class="Function">executeTransferAux</a> <a id="4982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4982" class="Bound">oldLedger</a> <a id="4992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4992" class="Bound">ledger</a> <a id="4999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4999" class="Bound">executionStack</a> <a id="5014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5014" class="Bound">initialAddr</a> <a id="5026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5026" class="Bound">lastCallAddr</a> <a id="5039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5039" class="Bound">calledAddr</a> <a id="5050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5050" class="Bound">cont</a> <a id="5055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5055" class="Bound">gasleft</a>
                   <a id="5082" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5082" class="Bound">funNameevalState</a> <a id="5099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5099" class="Bound">msgevalState</a> <a id="5112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5112" class="Bound">amount&#39;</a> <a id="5120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5120" class="Bound">destinationAddr</a> <a id="5136" class="Symbol">(</a><a id="5137" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="5145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5145" class="Bound">x</a><a id="5146" class="Symbol">)</a>
          <a id="5158" class="Symbol">=</a> <a id="5160" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="5168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4982" class="Bound">oldLedger</a> <a id="5178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4999" class="Bound">executionStack</a> <a id="5193" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5014" class="Bound">initialAddr</a> <a id="5205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5026" class="Bound">lastCallAddr</a> <a id="5218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5039" class="Bound">calledAddr</a>
            <a id="5241" class="Symbol">(</a><a id="5242" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a>  <a id="5249" class="Symbol">(</a><a id="5250" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="5257" class="String">&quot;not enough money&quot;</a><a id="5275" class="Symbol">)</a>
            <a id="5289" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="5291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5026" class="Bound">lastCallAddr</a> <a id="5304" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="5307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5014" class="Bound">initialAddr</a> <a id="5319" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="5321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5082" class="Bound">funNameevalState</a> <a id="5338" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="5340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5099" class="Bound">msgevalState</a> <a id="5353" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="5355" class="Symbol">)</a>
             <a id="5370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5055" class="Bound">gasleft</a> <a id="5378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5082" class="Bound">funNameevalState</a> <a id="5395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5099" class="Bound">msgevalState</a>



<a id="lemmaExecuteTransferAuxGasEq"></a><a id="5411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5411" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="5440" class="Symbol">:</a> <a id="5442" class="Symbol">(</a><a id="5443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5443" class="Bound">oldLedger</a> <a id="5453" class="Symbol">:</a> <a id="5455" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="5461" class="Symbol">)</a>
     <a id="5468" class="Symbol">→</a> <a id="5470" class="Symbol">(</a><a id="5471" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5471" class="Bound">ledger</a> <a id="5478" class="Symbol">:</a> <a id="5480" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="5486" class="Symbol">)</a>
     <a id="5493" class="Symbol">→</a> <a id="5495" class="Symbol">(</a><a id="5496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5496" class="Bound">executionStack</a> <a id="5511" class="Symbol">:</a> <a id="5513" href="libraries.Mainlibrary.html#2080" class="Function">ExecutionStack</a><a id="5527" class="Symbol">)</a>
     <a id="5534" class="Symbol">→</a> <a id="5536" class="Symbol">(</a><a id="5537" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5537" class="Bound">initialAddr</a> <a id="5549" class="Symbol">:</a> <a id="5551" href="basicDataStructure.html#387" class="Function">Address</a><a id="5558" class="Symbol">)</a>
     <a id="5565" class="Symbol">→</a> <a id="5567" class="Symbol">(</a><a id="5568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5568" class="Bound">lastCallAddr</a> <a id="5581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5581" class="Bound">calledAddr</a> <a id="5592" class="Symbol">:</a> <a id="5594" href="basicDataStructure.html#387" class="Function">Address</a><a id="5601" class="Symbol">)</a>
     <a id="5608" class="Symbol">→</a> <a id="5610" class="Symbol">(</a><a id="5611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5611" class="Bound">cont</a> <a id="5616" class="Symbol">:</a> <a id="5618" href="Complex-Model.ccomand.ccommands-cresponse.html#1514" class="Datatype">SmartContractExec</a> <a id="5636" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5639" class="Symbol">)</a> <a id="5641" class="Symbol">→</a> <a id="5643" class="Symbol">(</a><a id="5644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5644" class="Bound">gasleft1</a> <a id="5653" class="Symbol">:</a> <a id="5655" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5656" class="Symbol">)</a>
     <a id="5663" class="Symbol">→</a> <a id="5665" class="Symbol">(</a><a id="5666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5666" class="Bound">funNameevalState</a> <a id="5683" class="Symbol">:</a> <a id="5685" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="5697" class="Symbol">)</a>
     <a id="5704" class="Symbol">→</a> <a id="5706" class="Symbol">(</a><a id="5707" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5707" class="Bound">msgevalState</a> <a id="5720" class="Symbol">:</a> <a id="5722" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5725" class="Symbol">)</a>
     <a id="5732" class="Symbol">→</a> <a id="5734" class="Symbol">(</a><a id="5735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5735" class="Bound">amount&#39;</a> <a id="5743" class="Symbol">:</a> <a id="5745" href="basicDataStructure.html#360" class="Function">Amount</a><a id="5751" class="Symbol">)</a>
     <a id="5758" class="Symbol">→</a> <a id="5760" class="Symbol">(</a><a id="5761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5761" class="Bound">destinationAddr</a> <a id="5777" class="Symbol">:</a> <a id="5779" href="basicDataStructure.html#387" class="Function">Address</a><a id="5786" class="Symbol">)</a>
     <a id="5793" class="Symbol">→</a> <a id="5795" class="Symbol">(</a><a id="5796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5796" class="Bound">cp</a>  <a id="5800" class="Symbol">:</a> <a id="5802" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="5814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5735" class="Bound">amount&#39;</a> <a id="5822" class="Symbol">(</a><a id="5823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5471" class="Bound">ledger</a> <a id="5830" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5581" class="Bound">calledAddr</a> <a id="5841" class="Symbol">.</a><a id="5842" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="5848" class="Symbol">))</a>
     <a id="5856" class="Symbol">→</a> <a id="5858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5644" class="Bound">gasleft1</a> <a id="5867" href="libraries.natCompare.html#480" class="Function Operator">==r</a> <a id="5871" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a>
                    <a id="5899" class="Symbol">(</a><a id="5900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3958" class="Function">executeTransferAux</a> <a id="5919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5443" class="Bound">oldLedger</a> <a id="5929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5471" class="Bound">ledger</a> <a id="5936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5496" class="Bound">executionStack</a> <a id="5951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5537" class="Bound">initialAddr</a>
                     <a id="5984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5568" class="Bound">lastCallAddr</a> <a id="5997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5581" class="Bound">calledAddr</a> <a id="6008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5611" class="Bound">cont</a> <a id="6013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5644" class="Bound">gasleft1</a> <a id="6022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5666" class="Bound">funNameevalState</a>
                     <a id="6060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5707" class="Bound">msgevalState</a> <a id="6073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5735" class="Bound">amount&#39;</a> <a id="6081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5761" class="Bound">destinationAddr</a> <a id="6097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5796" class="Bound">cp</a><a id="6099" class="Symbol">)</a>
<a id="6101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5411" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6130" class="Bound">oldLedger</a> <a id="6140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6140" class="Bound">ledger</a> <a id="6147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6147" class="Bound">executionStack</a> <a id="6162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6162" class="Bound">initialAddr</a> <a id="6174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6174" class="Bound">lastCallAddr</a> <a id="6187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6187" class="Bound">calledAddr</a> <a id="6198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6198" class="Bound">cont</a> <a id="6203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6203" class="Bound">gasleft1</a> <a id="6212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6212" class="Bound">funNameevalState</a> <a id="6229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6229" class="Bound">msgevalState</a> <a id="6242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6242" class="Bound">amount&#39;</a> <a id="6250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6250" class="Bound">destinationAddr</a> <a id="6266" class="Symbol">(</a><a id="6267" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="6271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6271" class="Bound">x</a><a id="6272" class="Symbol">)</a> <a id="6274" class="Symbol">=</a> <a id="6276" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="6284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6203" class="Bound">gasleft1</a>
<a id="6293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5411" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="6322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6322" class="Bound">oldLedger</a> <a id="6332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6332" class="Bound">ledger</a> <a id="6339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6339" class="Bound">executionStack</a> <a id="6354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6354" class="Bound">initialAddr</a> <a id="6366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6366" class="Bound">lastCallAddr</a> <a id="6379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6379" class="Bound">calledAddr</a> <a id="6390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6390" class="Bound">cont</a> <a id="6395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6395" class="Bound">gasleft1</a> <a id="6404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6404" class="Bound">funNameevalState</a> <a id="6421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6421" class="Bound">msgevalState</a> <a id="6434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6434" class="Bound">amount&#39;</a> <a id="6442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6442" class="Bound">destinationAddr</a> <a id="6458" class="Symbol">(</a><a id="6459" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="6467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6467" class="Bound">x</a><a id="6468" class="Symbol">)</a> <a id="6470" class="Symbol">=</a> <a id="6472" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="6480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6395" class="Bound">gasleft1</a>



<a id="6492" class="Comment">-- execute transfer </a>
<a id="executeTransfer"></a><a id="6513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6513" class="Function">executeTransfer</a> <a id="6529" class="Symbol">:</a> <a id="6531" class="Symbol">(</a><a id="6532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6532" class="Bound">oldLedger</a> <a id="6542" class="Symbol">:</a> <a id="6544" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="6550" class="Symbol">)</a>
                  <a id="6570" class="Symbol">→</a> <a id="6572" class="Symbol">(</a><a id="6573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6573" class="Bound">ledger</a> <a id="6580" class="Symbol">:</a> <a id="6582" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="6588" class="Symbol">)</a>
                  <a id="6608" class="Symbol">→</a> <a id="6610" class="Symbol">(</a><a id="6611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6611" class="Bound">execStack</a> <a id="6621" class="Symbol">:</a> <a id="6623" href="libraries.Mainlibrary.html#2080" class="Function">ExecutionStack</a><a id="6637" class="Symbol">)</a>
                  <a id="6657" class="Symbol">→</a> <a id="6659" class="Symbol">(</a><a id="6660" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6660" class="Bound">initialAddr</a> <a id="6672" class="Symbol">:</a> <a id="6674" href="basicDataStructure.html#387" class="Function">Address</a><a id="6681" class="Symbol">)</a>
                  <a id="6701" class="Symbol">→</a> <a id="6703" class="Symbol">(</a><a id="6704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6704" class="Bound">lastCallAddr</a> <a id="6717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6717" class="Bound">calledAddr</a> <a id="6728" class="Symbol">:</a> <a id="6730" href="basicDataStructure.html#387" class="Function">Address</a><a id="6737" class="Symbol">)</a>
                  <a id="6757" class="Symbol">→</a> <a id="6759" class="Symbol">(</a><a id="6760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6760" class="Bound">cont</a> <a id="6765" class="Symbol">:</a> <a id="6767" href="Complex-Model.ccomand.ccommands-cresponse.html#1514" class="Datatype">SmartContractExec</a> <a id="6785" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="6788" class="Symbol">)</a>
                  <a id="6808" class="Symbol">→</a> <a id="6810" class="Symbol">(</a><a id="6811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="Bound">gasleft</a> <a id="6819" class="Symbol">:</a> <a id="6821" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="6822" class="Symbol">)</a>

                  <a id="6843" class="Symbol">→</a> <a id="6845" class="Symbol">(</a><a id="6846" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6846" class="Bound">funNameevalState</a> <a id="6863" class="Symbol">:</a> <a id="6865" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="6877" class="Symbol">)</a>
                  <a id="6897" class="Symbol">→</a> <a id="6899" class="Symbol">(</a><a id="6900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6900" class="Bound">msgevalState</a> <a id="6913" class="Symbol">:</a> <a id="6915" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="6918" class="Symbol">)</a>
                  <a id="6938" class="Symbol">→</a> <a id="6940" class="Symbol">(</a><a id="6941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6941" class="Bound">amount&#39;</a> <a id="6949" class="Symbol">:</a> <a id="6951" href="basicDataStructure.html#360" class="Function">Amount</a><a id="6957" class="Symbol">)</a>
                  <a id="6977" class="Symbol">→</a> <a id="6979" class="Symbol">(</a><a id="6980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6980" class="Bound">destinationAddr</a> <a id="6996" class="Symbol">:</a> <a id="6998" href="basicDataStructure.html#387" class="Function">Address</a><a id="7005" class="Symbol">)</a>
                  <a id="7025" class="Symbol">→</a> <a id="7027" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="7040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6513" class="Function">executeTransfer</a> <a id="7056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7056" class="Bound">oldLedger</a> <a id="7066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7066" class="Bound">ledger</a> <a id="7073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="Bound">execStack</a> <a id="7083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7083" class="Bound">initialAddr</a> <a id="7095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7095" class="Bound">lastCallAddr</a> <a id="7108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7108" class="Bound">calledAddr</a>
                <a id="7135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7135" class="Bound">cont</a> <a id="7140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7140" class="Bound">gasleft</a>  <a id="7149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7149" class="Bound">funNameevalState</a> <a id="7166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7166" class="Bound">msgevalState</a> <a id="7179" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7179" class="Bound">amount&#39;</a> <a id="7187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7187" class="Bound">destinationAddr</a>
         <a id="7212" class="Symbol">=</a> <a id="7214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3958" class="Function">executeTransferAux</a> <a id="7233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7056" class="Bound">oldLedger</a> <a id="7243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7066" class="Bound">ledger</a> <a id="7250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="Bound">execStack</a> <a id="7260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7083" class="Bound">initialAddr</a> <a id="7272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7095" class="Bound">lastCallAddr</a> <a id="7285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7108" class="Bound">calledAddr</a>
            <a id="7308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7135" class="Bound">cont</a> <a id="7313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7140" class="Bound">gasleft</a>  <a id="7322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7149" class="Bound">funNameevalState</a> <a id="7339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7166" class="Bound">msgevalState</a> <a id="7352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7179" class="Bound">amount&#39;</a>
            <a id="7372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7187" class="Bound">destinationAddr</a> <a id="7388" class="Symbol">(</a><a id="7389" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="7400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7179" class="Bound">amount&#39;</a> <a id="7408" class="Symbol">(</a><a id="7409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7066" class="Bound">ledger</a> <a id="7416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7108" class="Bound">calledAddr</a> <a id="7427" class="Symbol">.</a><a id="7428" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="7434" class="Symbol">))</a>



<a id="7440" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="7484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="7491" class="Symbol">:</a> <a id="7493" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="7500" class="Symbol">→</a> <a id="7502" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a> <a id="7515" class="Symbol">→</a> <a id="7517" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="7530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="7537" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7537" class="Bound">oldLedger</a> <a id="7547" class="Symbol">(</a><a id="7548" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="7556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7556" class="Bound">currentLedger</a> <a id="7570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7570" class="Bound">executionStack</a> <a id="7585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7585" class="Bound">initialAddr</a> <a id="7597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7597" class="Bound">lastCallAddr</a> <a id="7610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7610" class="Bound">calledAddr</a>
                 <a id="7638" class="Symbol">(</a><a id="7639" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="7644" href="Complex-Model.ccomand.ccommands-cresponse.html#648" class="InductiveConstructor">currentAddrLookupc</a> <a id="7663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7663" class="Bound">costcomputecont</a> <a id="7679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7679" class="Bound">cont</a><a id="7683" class="Symbol">)</a> <a id="7685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7685" class="Bound">gasLeft</a>
                  <a id="7711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7711" class="Bound">funNameevalState</a> <a id="7728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7728" class="Bound">msgevalState</a><a id="7740" class="Symbol">)</a>
       <a id="7749" class="Symbol">=</a> <a id="7751" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="7759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7556" class="Bound">currentLedger</a> <a id="7773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7570" class="Bound">executionStack</a> <a id="7788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7585" class="Bound">initialAddr</a> <a id="7800" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7597" class="Bound">lastCallAddr</a> <a id="7813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7610" class="Bound">calledAddr</a>
          <a id="7834" class="Symbol">(</a><a id="7835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7679" class="Bound">cont</a> <a id="7840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7610" class="Bound">calledAddr</a><a id="7850" class="Symbol">)</a> <a id="7852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7685" class="Bound">gasLeft</a>  <a id="7861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7711" class="Bound">funNameevalState</a> <a id="7878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7728" class="Bound">msgevalState</a> 

<a id="7893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="7900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7900" class="Bound">oldLedger</a> <a id="7910" class="Symbol">(</a><a id="7911" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="7919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7919" class="Bound">currentLedger</a> <a id="7933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7933" class="Bound">executionStack</a> <a id="7948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7948" class="Bound">initialAddr</a> <a id="7960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="Bound">lastCallAddr</a> <a id="7973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7973" class="Bound">calledAddr</a>
                 <a id="8001" class="Symbol">(</a><a id="8002" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="8007" href="Complex-Model.ccomand.ccommands-cresponse.html#683" class="InductiveConstructor">callAddrLookupc</a> <a id="8023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8023" class="Bound">costcomputecont</a> <a id="8039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8039" class="Bound">cont</a><a id="8043" class="Symbol">)</a> <a id="8045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8045" class="Bound">gasLeft</a>
                  <a id="8071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8071" class="Bound">funNameevalState</a> <a id="8088" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8088" class="Bound">msgevalState</a><a id="8100" class="Symbol">)</a>
       <a id="8109" class="Symbol">=</a> <a id="8111" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="8119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7919" class="Bound">currentLedger</a> <a id="8133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7933" class="Bound">executionStack</a> <a id="8148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7948" class="Bound">initialAddr</a> <a id="8160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="Bound">lastCallAddr</a> <a id="8173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7973" class="Bound">calledAddr</a> <a id="8184" class="Symbol">(</a><a id="8185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8039" class="Bound">cont</a> <a id="8190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7960" class="Bound">lastCallAddr</a><a id="8202" class="Symbol">)</a>
          <a id="8214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8045" class="Bound">gasLeft</a>  <a id="8223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8071" class="Bound">funNameevalState</a> <a id="8240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8088" class="Bound">msgevalState</a>

<a id="8254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="8261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8261" class="Bound">oldLedger</a> <a id="8271" class="Symbol">(</a><a id="8272" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="8280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8280" class="Bound">currentLedger</a> <a id="8294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8294" class="Bound">executionStack</a> <a id="8309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8309" class="Bound">initialAddr</a> <a id="8321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8321" class="Bound">lastCallAddr</a> <a id="8334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8334" class="Bound">calledAddr</a>
                 <a id="8362" class="Symbol">(</a><a id="8363" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="8368" class="Symbol">(</a><a id="8369" href="Complex-Model.ccomand.ccommands-cresponse.html#487" class="InductiveConstructor">updatec</a> <a id="8377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8377" class="Bound">changedFname</a> <a id="8390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8390" class="Bound">changedPFun</a> <a id="8402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8402" class="Bound">cost</a><a id="8406" class="Symbol">)</a> <a id="8408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8408" class="Bound">costcomputecont</a> <a id="8424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8424" class="Bound">cont</a><a id="8428" class="Symbol">)</a>
                 <a id="8447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8447" class="Bound">gasLeft</a>  <a id="8456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8456" class="Bound">funNameevalState</a> <a id="8473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8473" class="Bound">msgevalState</a><a id="8485" class="Symbol">)</a>
       <a id="8494" class="Symbol">=</a> <a id="8496" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="8504" class="Symbol">(</a><a id="8505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#728" class="Function">updateLedgerpurefun</a> <a id="8525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8280" class="Bound">currentLedger</a> <a id="8539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8334" class="Bound">calledAddr</a> <a id="8550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8377" class="Bound">changedFname</a>  <a id="8564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8390" class="Bound">changedPFun</a> <a id="8576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8402" class="Bound">cost</a><a id="8580" class="Symbol">)</a>
          <a id="8592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8294" class="Bound">executionStack</a> <a id="8607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8309" class="Bound">initialAddr</a> <a id="8619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8321" class="Bound">lastCallAddr</a> <a id="8632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8334" class="Bound">calledAddr</a> <a id="8643" class="Symbol">(</a><a id="8644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8424" class="Bound">cont</a> <a id="8649" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="8651" class="Symbol">)</a> <a id="8653" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8447" class="Bound">gasLeft</a>
            <a id="8673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8456" class="Bound">funNameevalState</a> <a id="8690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8473" class="Bound">msgevalState</a>

<a id="8704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="8711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8711" class="Bound">oldLedger</a> <a id="8721" class="Symbol">(</a><a id="8722" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="8730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8730" class="Bound">currentLedger</a> <a id="8744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8744" class="Bound">executionStack</a> <a id="8759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8759" class="Bound">initialAddr</a> <a id="8771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8771" class="Bound">oldlastCallAddr</a> <a id="8787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8787" class="Bound">oldcalledAddr</a>
                 <a id="8818" class="Symbol">(</a><a id="8819" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="8824" class="Symbol">(</a><a id="8825" href="Complex-Model.ccomand.ccommands-cresponse.html#715" class="InductiveConstructor">callc</a> <a id="8831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8831" class="Bound">newaddr</a> <a id="8839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8839" class="Bound">fname</a> <a id="8845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8845" class="Bound">msg</a><a id="8848" class="Symbol">)</a> <a id="8850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8850" class="Bound">costcomputecont</a> <a id="8866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8866" class="Bound">cont</a><a id="8870" class="Symbol">)</a>
                 <a id="8889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8889" class="Bound">gasLeft</a>  <a id="8898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8898" class="Bound">funNameevalState</a> <a id="8915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8915" class="Bound">msgevalState</a><a id="8927" class="Symbol">)</a>
       <a id="8936" class="Symbol">=</a> <a id="8938" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="8946" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8730" class="Bound">currentLedger</a>
           <a id="8971" class="Symbol">(</a><a id="8972" href="libraries.Mainlibrary.html#1230" class="InductiveConstructor">execStackEl</a> <a id="8984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8771" class="Bound">oldlastCallAddr</a> <a id="9000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8787" class="Bound">oldcalledAddr</a> <a id="9014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8866" class="Bound">cont</a> <a id="9019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8850" class="Bound">costcomputecont</a> <a id="9035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8898" class="Bound">funNameevalState</a> <a id="9052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8915" class="Bound">msgevalState</a> <a id="9065" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8744" class="Bound">executionStack</a><a id="9081" class="Symbol">)</a>
           <a id="9094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8759" class="Bound">initialAddr</a> <a id="9106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8787" class="Bound">oldcalledAddr</a> <a id="9120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8831" class="Bound">newaddr</a> <a id="9128" class="Symbol">(</a><a id="9129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8730" class="Bound">currentLedger</a> <a id="9143" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8831" class="Bound">newaddr</a> <a id="9151" class="Symbol">.</a><a id="9152" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="9156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8839" class="Bound">fname</a> <a id="9162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8845" class="Bound">msg</a><a id="9165" class="Symbol">)</a>
           <a id="9178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8889" class="Bound">gasLeft</a>  <a id="9187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8839" class="Bound">fname</a> <a id="9193" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8845" class="Bound">msg</a>

<a id="9198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="9205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9205" class="Bound">oldLedger</a> <a id="9215" class="Symbol">(</a><a id="9216" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="9224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9224" class="Bound">currentLedger</a> <a id="9238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9238" class="Bound">executionStack</a> <a id="9253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9253" class="Bound">initialAddr</a> <a id="9265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9265" class="Bound">lastCallAddr</a> <a id="9278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9278" class="Bound">calledAddr</a>
                 <a id="9306" class="Symbol">(</a><a id="9307" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="9312" class="Symbol">(</a><a id="9313" href="Complex-Model.ccomand.ccommands-cresponse.html#829" class="InductiveConstructor">transferc</a> <a id="9323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9323" class="Bound">amount</a> <a id="9330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9330" class="Bound">destinationAddr</a><a id="9345" class="Symbol">)</a> <a id="9347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9347" class="Bound">costcomputecont</a> <a id="9363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9363" class="Bound">cont</a><a id="9367" class="Symbol">)</a>
                  <a id="9387" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9387" class="Bound">gasLeft</a>  <a id="9396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9396" class="Bound">funNameevalState</a> <a id="9413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9413" class="Bound">msgevalState</a><a id="9425" class="Symbol">)</a>
       <a id="9434" class="Symbol">=</a> <a id="9436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6513" class="Function">executeTransfer</a> <a id="9452" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9205" class="Bound">oldLedger</a> <a id="9462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9224" class="Bound">currentLedger</a> <a id="9476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9238" class="Bound">executionStack</a> <a id="9491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9253" class="Bound">initialAddr</a> <a id="9503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9265" class="Bound">lastCallAddr</a> <a id="9516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9278" class="Bound">calledAddr</a>
       <a id="9534" class="Symbol">(</a><a id="9535" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9363" class="Bound">cont</a> <a id="9540" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="9542" class="Symbol">)</a> <a id="9544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9387" class="Bound">gasLeft</a>  <a id="9553" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9396" class="Bound">funNameevalState</a> <a id="9570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9413" class="Bound">msgevalState</a>
           <a id="9594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9323" class="Bound">amount</a> <a id="9601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9330" class="Bound">destinationAddr</a>

<a id="9618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="9625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9625" class="Bound">oldLedger</a> <a id="9635" class="Symbol">(</a><a id="9636" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="9644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9644" class="Bound">currentLedger</a> <a id="9658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9658" class="Bound">executionStack</a> <a id="9673" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9673" class="Bound">initialAddr</a> <a id="9685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9685" class="Bound">lastCallAddr</a> <a id="9698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="Bound">calledAddr</a>
                 <a id="9726" class="Symbol">(</a><a id="9727" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="9732" class="Symbol">(</a><a id="9733" href="Complex-Model.ccomand.ccommands-cresponse.html#875" class="InductiveConstructor">getAmountc</a> <a id="9744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9744" class="Bound">addrLookedUp</a><a id="9756" class="Symbol">)</a> <a id="9758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9758" class="Bound">costcomputecont</a> <a id="9774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9774" class="Bound">cont</a><a id="9778" class="Symbol">)</a> <a id="9780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9780" class="Bound">gasLeft</a>
                   <a id="9807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9807" class="Bound">funNameevalState</a> <a id="9824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9824" class="Bound">msgevalState</a><a id="9836" class="Symbol">)</a>
       <a id="9845" class="Symbol">=</a> <a id="9847" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="9855" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9644" class="Bound">currentLedger</a> <a id="9869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9658" class="Bound">executionStack</a> <a id="9884" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9673" class="Bound">initialAddr</a> <a id="9896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9685" class="Bound">lastCallAddr</a> <a id="9909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="Bound">calledAddr</a>
           <a id="9931" class="Symbol">(</a><a id="9932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9774" class="Bound">cont</a> <a id="9937" class="Symbol">(</a><a id="9938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9644" class="Bound">currentLedger</a> <a id="9952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9744" class="Bound">addrLookedUp</a> <a id="9965" class="Symbol">.</a><a id="9966" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="9972" class="Symbol">))</a> <a id="9975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9780" class="Bound">gasLeft</a>
              <a id="9997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9807" class="Bound">funNameevalState</a> <a id="10014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9824" class="Bound">msgevalState</a>

<a id="10028" class="Comment">--------------------- new for raiseException</a>
<a id="10073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="10080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10080" class="Bound">oldLedger</a> <a id="10090" class="Symbol">(</a><a id="10091" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="10099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10099" class="Bound">ledger</a> <a id="10106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10106" class="Bound">executionStack</a> <a id="10121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10121" class="Bound">initialAddr</a> <a id="10133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10133" class="Bound">lastCallAddr</a> <a id="10146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="Bound">calledAddr</a>
                   <a id="10176" class="Symbol">(</a><a id="10177" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="10182" class="Symbol">(</a><a id="10183" href="Complex-Model.ccomand.ccommands-cresponse.html#912" class="InductiveConstructor">raiseException</a> <a id="10198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10198" class="Bound">cost</a> <a id="10203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10203" class="Bound">str</a><a id="10206" class="Symbol">)</a> <a id="10208" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10208" class="Bound">costcomputecont</a> <a id="10224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10224" class="Bound">cont</a><a id="10228" class="Symbol">)</a>
                   <a id="10249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10249" class="Bound">gasLeft</a> <a id="10257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10257" class="Bound">funNameevalState</a> <a id="10274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10274" class="Bound">msgevalState</a><a id="10286" class="Symbol">)</a>
                   <a id="10307" class="Symbol">=</a> <a id="10309" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="10317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10080" class="Bound">oldLedger</a> <a id="10327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10106" class="Bound">executionStack</a> <a id="10342" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10121" class="Bound">initialAddr</a> <a id="10354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10133" class="Bound">lastCallAddr</a> <a id="10367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="Bound">calledAddr</a>
                     <a id="10399" class="Symbol">(</a><a id="10400" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a>  <a id="10407" class="Symbol">(</a><a id="10408" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="10415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10203" class="Bound">str</a><a id="10418" class="Symbol">)</a>
                     <a id="10441" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="10443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10133" class="Bound">lastCallAddr</a> <a id="10456" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="10459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10121" class="Bound">initialAddr</a> <a id="10471" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="10473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10257" class="Bound">funNameevalState</a> <a id="10490" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="10492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10274" class="Bound">msgevalState</a> <a id="10505" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="10507" class="Symbol">)</a>
                     <a id="10530" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10249" class="Bound">gasLeft</a> <a id="10538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10257" class="Bound">funNameevalState</a> <a id="10555" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10274" class="Bound">msgevalState</a>


<a id="10570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="10577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10577" class="Bound">oldLedger</a> <a id="10587" class="Symbol">(</a><a id="10588" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="10596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10596" class="Bound">currentLedger</a> <a id="10610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10610" class="Bound">executionStack</a> <a id="10625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10625" class="Bound">initialAddr</a> <a id="10637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10637" class="Bound">lastCallAddr</a> <a id="10650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10650" class="Bound">calledAddr</a>
                 <a id="10678" class="Symbol">(</a><a id="10679" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="10685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10685" class="Bound">errorMsg</a> <a id="10694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10694" class="Bound">debugInfo</a><a id="10703" class="Symbol">)</a> <a id="10705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10705" class="Bound">gasLeft</a>  <a id="10714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10714" class="Bound">funNameevalState</a> <a id="10731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10731" class="Bound">msgevalState</a><a id="10743" class="Symbol">)</a>
       <a id="10752" class="Symbol">=</a> <a id="10754" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="10762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10577" class="Bound">oldLedger</a> <a id="10772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10610" class="Bound">executionStack</a> <a id="10787" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10625" class="Bound">initialAddr</a> <a id="10799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10637" class="Bound">lastCallAddr</a> <a id="10812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10650" class="Bound">calledAddr</a>
         <a id="10832" class="Symbol">(</a><a id="10833" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="10839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10685" class="Bound">errorMsg</a> <a id="10848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10694" class="Bound">debugInfo</a><a id="10857" class="Symbol">)</a>  <a id="10860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10705" class="Bound">gasLeft</a>  <a id="10869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10714" class="Bound">funNameevalState</a> <a id="10886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10731" class="Bound">msgevalState</a>


<a id="10901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="10908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10908" class="Bound">oldLedger</a> <a id="10918" class="Symbol">(</a><a id="10919" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="10927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10927" class="Bound">currentLedger</a> <a id="10941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10941" class="Bound">executionStack</a> <a id="10956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10956" class="Bound">initialAddr</a> <a id="10968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10968" class="Bound">lastCallAddr</a> <a id="10981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10981" class="Bound">calledAddr</a>
                 <a id="11009" class="Symbol">(</a><a id="11010" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="InductiveConstructor">exec</a> <a id="11015" class="Symbol">(</a><a id="11016" href="Complex-Model.ccomand.ccommands-cresponse.html#770" class="InductiveConstructor">callPure</a> <a id="11025" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11025" class="Bound">addr</a> <a id="11030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11030" class="Bound">fname</a> <a id="11036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11036" class="Bound">msg</a><a id="11039" class="Symbol">)</a> <a id="11041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11041" class="Bound">costcomputecont</a> <a id="11057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11057" class="Bound">cont</a><a id="11061" class="Symbol">)</a> <a id="11063" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11063" class="Bound">gasLeft</a>
                  <a id="11089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11089" class="Bound">funNameevalState</a> <a id="11106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11106" class="Bound">msgevalState</a><a id="11118" class="Symbol">)</a>
                  <a id="11138" class="Symbol">=</a> <a id="11140" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="11148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10927" class="Bound">currentLedger</a> <a id="11162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10941" class="Bound">executionStack</a> <a id="11177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10956" class="Bound">initialAddr</a> <a id="11189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10968" class="Bound">lastCallAddr</a> <a id="11202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10981" class="Bound">calledAddr</a>
                    <a id="11233" class="Symbol">(</a><a id="11234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11057" class="Bound">cont</a> <a id="11239" class="Symbol">(</a><a id="11240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10927" class="Bound">currentLedger</a> <a id="11254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11025" class="Bound">addr</a> <a id="11259" class="Symbol">.</a><a id="11260" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a> <a id="11273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11030" class="Bound">fname</a> <a id="11279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11036" class="Bound">msg</a><a id="11282" class="Symbol">))</a>
                    <a id="11305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11063" class="Bound">gasLeft</a> <a id="11313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11030" class="Bound">fname</a> <a id="11319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11036" class="Bound">msg</a>

<a id="11324" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="11331" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11331" class="Bound">oldLedger</a> <a id="11341" class="Symbol">(</a><a id="11342" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="11350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11350" class="Bound">currentLedger</a> <a id="11364" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11367" class="Bound">initialAddr</a> <a id="11379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11379" class="Bound">lastCallAddr</a> <a id="11392" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11392" class="Bound">calledAddr</a>
                 <a id="11420" class="Symbol">(</a><a id="11421" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="11428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11428" class="Bound">cost</a> <a id="11433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11433" class="Bound">result</a><a id="11439" class="Symbol">)</a> <a id="11441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11441" class="Bound">gasLeft</a>  <a id="11450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11450" class="Bound">funNameevalState</a> <a id="11467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11467" class="Bound">msgevalState</a><a id="11479" class="Symbol">)</a>
       <a id="11488" class="Symbol">=</a> <a id="11490" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="11498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11350" class="Bound">currentLedger</a> <a id="11512" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11367" class="Bound">initialAddr</a> <a id="11527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11379" class="Bound">lastCallAddr</a> <a id="11540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11392" class="Bound">calledAddr</a>
         <a id="11560" class="Symbol">(</a><a id="11561" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="11568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11428" class="Bound">cost</a> <a id="11573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11433" class="Bound">result</a><a id="11579" class="Symbol">)</a> <a id="11581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11441" class="Bound">gasLeft</a>  <a id="11590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11450" class="Bound">funNameevalState</a> <a id="11607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11467" class="Bound">msgevalState</a> 

<a id="11622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="11629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11629" class="Bound">oldLedger</a> <a id="11639" class="Symbol">(</a><a id="11640" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="11648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11648" class="Bound">currentLedger</a> <a id="11662" class="Symbol">(</a><a id="11663" href="libraries.Mainlibrary.html#1230" class="InductiveConstructor">execStackEl</a> <a id="11675" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11675" class="Bound">prevLastCallAddress</a> <a id="11695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11695" class="Bound">prevCalledAddress</a> <a id="11713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11713" class="Bound">prevContinuation</a>
                 <a id="11747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11747" class="Bound">prevCostCont</a> <a id="11760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11760" class="Bound">prevFunName</a> <a id="11772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="Bound">prevMsgExec</a> <a id="11784" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11786" class="Bound">executionStack</a><a id="11800" class="Symbol">)</a>
                  <a id="11820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11820" class="Bound">initialAddr</a> <a id="11832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11832" class="Bound">lastCallAddr</a> <a id="11845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11845" class="Bound">calledAddr</a> <a id="11856" class="Symbol">(</a><a id="11857" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="11864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11864" class="Bound">cost</a> <a id="11869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11869" class="Bound">result</a><a id="11875" class="Symbol">)</a> <a id="11877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11877" class="Bound">gasLeft</a> <a id="11885" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11885" class="Bound">funNameevalState</a> <a id="11902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11902" class="Bound">msgevalState</a><a id="11914" class="Symbol">)</a>
            <a id="11928" class="Symbol">=</a> <a id="11930" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="11938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11648" class="Bound">currentLedger</a> <a id="11952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11786" class="Bound">executionStack</a> <a id="11967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11820" class="Bound">initialAddr</a> <a id="11979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11675" class="Bound">prevLastCallAddress</a> <a id="11999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11695" class="Bound">prevCalledAddress</a>
                        <a id="12041" class="Symbol">(</a><a id="12042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11713" class="Bound">prevContinuation</a> <a id="12059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11869" class="Bound">result</a><a id="12065" class="Symbol">)</a> <a id="12067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11877" class="Bound">gasLeft</a> <a id="12075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11760" class="Bound">prevFunName</a> <a id="12087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11772" class="Bound">prevMsgExec</a>


<a id="12101" class="Comment">--some lemmas to prove and we use them with our executevotingexample.agda</a>

<a id="lemmaStepEFpreserveGas"></a><a id="12176" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="Function">lemmaStepEFpreserveGas</a> <a id="12199" class="Symbol">:</a> <a id="12201" class="Symbol">(</a><a id="12202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12202" class="Bound">oldLedger</a> <a id="12212" class="Symbol">:</a> <a id="12214" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="12220" class="Symbol">)</a> <a id="12222" class="Symbol">→</a> <a id="12224" class="Symbol">(</a><a id="12225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12225" class="Bound">state</a> <a id="12231" class="Symbol">:</a> <a id="12233" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="12245" class="Symbol">)</a> <a id="12247" class="Symbol">→</a>
                         <a id="12274" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="12282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12225" class="Bound">state</a> <a id="12288" href="libraries.natCompare.html#480" class="Function Operator">==r</a> <a id="12292" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="12300" class="Symbol">(</a><a id="12301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="12308" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12202" class="Bound">oldLedger</a> <a id="12318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12225" class="Bound">state</a><a id="12323" class="Symbol">)</a>
<a id="12325" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="Function">lemmaStepEFpreserveGas</a> <a id="12348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12348" class="Bound">oldLedger</a> <a id="12358" class="Symbol">(</a><a id="12359" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="12367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12367" class="Bound">ledger</a> <a id="12374" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="12377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12377" class="Bound">initialAddr</a> <a id="12389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12389" class="Bound">lastCallAddr</a> <a id="12402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12402" class="Bound">calledAddr</a> <a id="12413" class="Symbol">(</a><a id="12414" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="12421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12421" class="Bound">x</a> <a id="12423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12423" class="Bound">x₁</a><a id="12425" class="Symbol">)</a> <a id="12427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12427" class="Bound">gasLeft1</a> <a id="12436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12436" class="Bound">funNameevalState</a> <a id="12453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12453" class="Bound">msgevalState</a><a id="12465" class="Symbol">)</a>
                       <a id="12490" class="Symbol">=</a> <a id="12492" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="12500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12427" class="Bound">gasLeft1</a>
<a id="12509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="Function">lemmaStepEFpreserveGas</a> <a id="12532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12532" class="Bound">oldLedger</a> <a id="12542" class="Symbol">(</a><a id="12543" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="12551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12551" class="Bound">ledger</a> <a id="12558" class="Symbol">(</a><a id="12559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12559" class="Bound">x₂</a> <a id="12562" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="12564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12564" class="Bound">executionStack₁</a><a id="12579" class="Symbol">)</a> <a id="12581" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12581" class="Bound">initialAddr</a> <a id="12593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12593" class="Bound">lastCallAddr</a> <a id="12606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12606" class="Bound">calledAddr</a> <a id="12617" class="Symbol">(</a><a id="12618" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="12625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12625" class="Bound">x</a> <a id="12627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12627" class="Bound">x₁</a><a id="12629" class="Symbol">)</a> <a id="12631" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12631" class="Bound">gasLeft1</a> <a id="12640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12640" class="Bound">funNameevalState</a> <a id="12657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12657" class="Bound">msgevalState</a><a id="12669" class="Symbol">)</a>
                       <a id="12694" class="Symbol">=</a> <a id="12696" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="12704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12631" class="Bound">gasLeft1</a>
<a id="12713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12735" class="CatchallClause"> </a><a id="12736" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12736" class="CatchallClause Bound">oldLedger</a><a id="12745" class="CatchallClause"> </a><a id="12746" class="CatchallClause Symbol">(</a><a id="12747" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="12754" class="CatchallClause"> </a><a id="12755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12755" class="CatchallClause Bound">ledger</a><a id="12761" class="CatchallClause"> </a><a id="12762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12762" class="CatchallClause Bound">executionStack</a><a id="12776" class="CatchallClause"> </a><a id="12777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12777" class="CatchallClause Bound">initialAddr</a><a id="12788" class="CatchallClause"> </a><a id="12789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12789" class="CatchallClause Bound">lastCallAddr</a><a id="12801" class="CatchallClause"> </a><a id="12802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12802" class="CatchallClause Bound">calledAddr</a><a id="12812" class="CatchallClause"> </a><a id="12813" class="CatchallClause Symbol">(</a><a id="12814" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="CatchallClause InductiveConstructor">error</a><a id="12819" class="CatchallClause"> </a><a id="12820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12820" class="CatchallClause Bound">x</a><a id="12821" class="CatchallClause"> </a><a id="12822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12822" class="CatchallClause Bound">x₁</a><a id="12824" class="CatchallClause Symbol">)</a><a id="12825" class="CatchallClause"> </a><a id="12826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12826" class="CatchallClause Bound">gasLeft1</a><a id="12834" class="CatchallClause"> </a><a id="12835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12835" class="CatchallClause Bound">funNameevalState</a><a id="12851" class="CatchallClause"> </a><a id="12852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12852" class="CatchallClause Bound">msgevalState</a><a id="12864" class="CatchallClause Symbol">)</a>
                       <a id="12889" class="Symbol">=</a> <a id="12891" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="12899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12826" class="Bound">gasLeft1</a>
<a id="12908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="12930" class="CatchallClause"> </a><a id="12931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12931" class="CatchallClause Bound">oldLedger</a><a id="12940" class="CatchallClause"> </a><a id="12941" class="CatchallClause Symbol">(</a><a id="12942" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="12949" class="CatchallClause"> </a><a id="12950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12950" class="CatchallClause Bound">ledger</a><a id="12956" class="CatchallClause"> </a><a id="12957" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12957" class="CatchallClause Bound">executionStack</a><a id="12971" class="CatchallClause"> </a><a id="12972" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12972" class="CatchallClause Bound">initialAddr</a><a id="12983" class="CatchallClause"> </a><a id="12984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12984" class="CatchallClause Bound">lastCallAddr</a><a id="12996" class="CatchallClause"> </a><a id="12997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12997" class="CatchallClause Bound">calledAddr</a><a id="13007" class="CatchallClause"> </a><a id="13008" class="CatchallClause Symbol">(</a><a id="13009" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="13013" class="CatchallClause"> </a><a id="13014" class="CatchallClause Symbol">(</a><a id="13015" href="Complex-Model.ccomand.ccommands-cresponse.html#770" class="CatchallClause InductiveConstructor">callPure</a><a id="13023" class="CatchallClause"> </a><a id="13024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13024" class="CatchallClause Bound">x₂</a><a id="13026" class="CatchallClause"> </a><a id="13027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13027" class="CatchallClause Bound">x₃</a><a id="13029" class="CatchallClause"> </a><a id="13030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13030" class="CatchallClause Bound">x₄</a><a id="13032" class="CatchallClause Symbol">)</a><a id="13033" class="CatchallClause"> </a><a id="13034" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13034" class="CatchallClause Bound">x</a><a id="13035" class="CatchallClause"> </a><a id="13036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13036" class="CatchallClause Bound">x₁</a><a id="13038" class="CatchallClause Symbol">)</a><a id="13039" class="CatchallClause"> </a><a id="13040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13040" class="CatchallClause Bound">gasLeft1</a><a id="13048" class="CatchallClause"> </a><a id="13049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13049" class="CatchallClause Bound">funNameevalState</a><a id="13065" class="CatchallClause"> </a><a id="13066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13066" class="CatchallClause Bound">msgevalState</a><a id="13078" class="CatchallClause Symbol">)</a>
                       <a id="13103" class="Symbol">=</a> <a id="13105" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="13113" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13040" class="Bound">gasLeft1</a>
<a id="13122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13144" class="CatchallClause"> </a><a id="13145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13145" class="CatchallClause Bound">oldLedger</a><a id="13154" class="CatchallClause"> </a><a id="13155" class="CatchallClause Symbol">(</a><a id="13156" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="13163" class="CatchallClause"> </a><a id="13164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13164" class="CatchallClause Bound">ledger</a><a id="13170" class="CatchallClause"> </a><a id="13171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13171" class="CatchallClause Bound">executionStack</a><a id="13185" class="CatchallClause"> </a><a id="13186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13186" class="CatchallClause Bound">initialAddr</a><a id="13197" class="CatchallClause"> </a><a id="13198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13198" class="CatchallClause Bound">lastCallAddr</a><a id="13210" class="CatchallClause"> </a><a id="13211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13211" class="CatchallClause Bound">calledAddr</a><a id="13221" class="CatchallClause"> </a><a id="13222" class="CatchallClause Symbol">(</a><a id="13223" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="13227" class="CatchallClause"> </a><a id="13228" class="CatchallClause Symbol">(</a><a id="13229" href="Complex-Model.ccomand.ccommands-cresponse.html#487" class="CatchallClause InductiveConstructor">updatec</a><a id="13236" class="CatchallClause"> </a><a id="13237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13237" class="CatchallClause Bound">x₂</a><a id="13239" class="CatchallClause"> </a><a id="13240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13240" class="CatchallClause Bound">x₃</a><a id="13242" class="CatchallClause"> </a><a id="13243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13243" class="CatchallClause Bound">x₄</a><a id="13245" class="CatchallClause Symbol">)</a><a id="13246" class="CatchallClause"> </a><a id="13247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13247" class="CatchallClause Bound">x</a><a id="13248" class="CatchallClause"> </a><a id="13249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13249" class="CatchallClause Bound">x₁</a><a id="13251" class="CatchallClause Symbol">)</a><a id="13252" class="CatchallClause"> </a><a id="13253" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13253" class="CatchallClause Bound">gasLeft1</a><a id="13261" class="CatchallClause"> </a><a id="13262" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13262" class="CatchallClause Bound">funNameevalState</a><a id="13278" class="CatchallClause"> </a><a id="13279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13279" class="CatchallClause Bound">msgevalState</a><a id="13291" class="CatchallClause Symbol">)</a>
                       <a id="13316" class="Symbol">=</a> <a id="13318" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="13326" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13253" class="Bound">gasLeft1</a>
<a id="13335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13357" class="CatchallClause"> </a><a id="13358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13358" class="CatchallClause Bound">oldLedger</a><a id="13367" class="CatchallClause"> </a><a id="13368" class="CatchallClause Symbol">(</a><a id="13369" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="13376" class="CatchallClause"> </a><a id="13377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13377" class="CatchallClause Bound">ledger</a><a id="13383" class="CatchallClause"> </a><a id="13384" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13384" class="CatchallClause Bound">executionStack</a><a id="13398" class="CatchallClause"> </a><a id="13399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13399" class="CatchallClause Bound">initialAddr</a><a id="13410" class="CatchallClause"> </a><a id="13411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13411" class="CatchallClause Bound">lastCallAddr</a><a id="13423" class="CatchallClause"> </a><a id="13424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13424" class="CatchallClause Bound">calledAddr</a><a id="13434" class="CatchallClause"> </a><a id="13435" class="CatchallClause Symbol">(</a><a id="13436" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="13440" class="CatchallClause"> </a><a id="13441" class="CatchallClause Symbol">(</a><a id="13442" href="Complex-Model.ccomand.ccommands-cresponse.html#912" class="CatchallClause InductiveConstructor">raiseException</a><a id="13456" class="CatchallClause"> </a><a id="13457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13457" class="CatchallClause Bound">x₂</a><a id="13459" class="CatchallClause"> </a><a id="13460" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13460" class="CatchallClause Bound">x₃</a><a id="13462" class="CatchallClause Symbol">)</a><a id="13463" class="CatchallClause"> </a><a id="13464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13464" class="CatchallClause Bound">x</a><a id="13465" class="CatchallClause"> </a><a id="13466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13466" class="CatchallClause Bound">x₁</a><a id="13468" class="CatchallClause Symbol">)</a><a id="13469" class="CatchallClause"> </a><a id="13470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13470" class="CatchallClause Bound">gasLeft1</a><a id="13478" class="CatchallClause"> </a><a id="13479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13479" class="CatchallClause Bound">funNameevalState</a><a id="13495" class="CatchallClause"> </a><a id="13496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13496" class="CatchallClause Bound">msgevalState</a><a id="13508" class="CatchallClause Symbol">)</a>
                       <a id="13533" class="Symbol">=</a> <a id="13535" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="13543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13470" class="Bound">gasLeft1</a>
<a id="13552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="13574" class="CatchallClause"> </a><a id="13575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13575" class="CatchallClause Bound">oldLedger</a><a id="13584" class="CatchallClause"> </a><a id="13585" class="CatchallClause Symbol">(</a><a id="13586" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="13593" class="CatchallClause"> </a><a id="13594" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13594" class="CatchallClause Bound">ledger</a><a id="13600" class="CatchallClause"> </a><a id="13601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13601" class="CatchallClause Bound">executionStack</a><a id="13615" class="CatchallClause"> </a><a id="13616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13616" class="CatchallClause Bound">initialAddr</a><a id="13627" class="CatchallClause"> </a><a id="13628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13628" class="CatchallClause Bound">lastCallAddr</a><a id="13640" class="CatchallClause"> </a><a id="13641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13641" class="CatchallClause Bound">calledAddr</a><a id="13651" class="CatchallClause"> </a><a id="13652" class="CatchallClause Symbol">(</a><a id="13653" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="13657" class="CatchallClause"> </a><a id="13658" class="CatchallClause Symbol">(</a><a id="13659" href="Complex-Model.ccomand.ccommands-cresponse.html#829" class="CatchallClause InductiveConstructor">transferc</a><a id="13668" class="CatchallClause"> </a><a id="13669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13669" class="CatchallClause Bound">amount</a><a id="13675" class="CatchallClause"> </a><a id="13676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13676" class="CatchallClause Bound">destinationAddr</a><a id="13691" class="CatchallClause Symbol">)</a><a id="13692" class="CatchallClause"> </a><a id="13693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13693" class="CatchallClause Bound">costcomputecont</a><a id="13708" class="CatchallClause"> </a><a id="13709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13709" class="CatchallClause Bound">cont</a><a id="13713" class="CatchallClause Symbol">)</a><a id="13714" class="CatchallClause"> </a><a id="13715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13715" class="CatchallClause Bound">gasLeft1</a><a id="13723" class="CatchallClause"> </a><a id="13724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13724" class="CatchallClause Bound">funNameevalState</a><a id="13740" class="CatchallClause"> </a><a id="13741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13741" class="CatchallClause Bound">msgevalState</a><a id="13753" class="CatchallClause Symbol">)</a>
                       <a id="13778" class="Symbol">=</a> <a id="13780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5411" class="Function">lemmaExecuteTransferAuxGasEq</a> <a id="13809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13575" class="Bound">oldLedger</a> <a id="13819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13594" class="Bound">ledger</a> <a id="13826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13601" class="Bound">executionStack</a> <a id="13841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13616" class="Bound">initialAddr</a> <a id="13853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13628" class="Bound">lastCallAddr</a> <a id="13866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13641" class="Bound">calledAddr</a>
                                                      <a id="13931" class="Symbol">(</a><a id="13932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13709" class="Bound">cont</a> <a id="13937" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="13939" class="Symbol">)</a> <a id="13941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13715" class="Bound">gasLeft1</a> <a id="13950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13724" class="Bound">funNameevalState</a> <a id="13967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13741" class="Bound">msgevalState</a> <a id="13980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13669" class="Bound">amount</a> <a id="13987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13676" class="Bound">destinationAddr</a>
                                                      <a id="14057" class="Symbol">((</a><a id="14059" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="14070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13669" class="Bound">amount</a> <a id="14077" class="Symbol">(</a><a id="14078" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13594" class="Bound">ledger</a> <a id="14085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13641" class="Bound">calledAddr</a> <a id="14096" class="Symbol">.</a><a id="14097" href="libraries.Mainlibrary.html#808" class="Field">Contract.amount</a><a id="14112" class="Symbol">)))</a>
<a id="14116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14138" class="CatchallClause"> </a><a id="14139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14139" class="CatchallClause Bound">oldLedger</a><a id="14148" class="CatchallClause"> </a><a id="14149" class="CatchallClause Symbol">(</a><a id="14150" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="14157" class="CatchallClause"> </a><a id="14158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14158" class="CatchallClause Bound">ledger</a><a id="14164" class="CatchallClause"> </a><a id="14165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14165" class="CatchallClause Bound">executionStack</a><a id="14179" class="CatchallClause"> </a><a id="14180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14180" class="CatchallClause Bound">initialAddr</a><a id="14191" class="CatchallClause"> </a><a id="14192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14192" class="CatchallClause Bound">lastCallAddr</a><a id="14204" class="CatchallClause"> </a><a id="14205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14205" class="CatchallClause Bound">calledAddr</a><a id="14215" class="CatchallClause"> </a><a id="14216" class="CatchallClause Symbol">(</a><a id="14217" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="14221" class="CatchallClause"> </a><a id="14222" class="CatchallClause Symbol">(</a><a id="14223" href="Complex-Model.ccomand.ccommands-cresponse.html#715" class="CatchallClause InductiveConstructor">callc</a><a id="14228" class="CatchallClause"> </a><a id="14229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14229" class="CatchallClause Bound">x₂</a><a id="14231" class="CatchallClause"> </a><a id="14232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14232" class="CatchallClause Bound">x₃</a><a id="14234" class="CatchallClause"> </a><a id="14235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14235" class="CatchallClause Bound">x₄</a><a id="14237" class="CatchallClause Symbol">)</a><a id="14238" class="CatchallClause"> </a><a id="14239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14239" class="CatchallClause Bound">x</a><a id="14240" class="CatchallClause"> </a><a id="14241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14241" class="CatchallClause Bound">x₁</a><a id="14243" class="CatchallClause Symbol">)</a><a id="14244" class="CatchallClause"> </a><a id="14245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14245" class="CatchallClause Bound">gasLeft1</a><a id="14253" class="CatchallClause"> </a><a id="14254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14254" class="CatchallClause Bound">funNameevalState</a><a id="14270" class="CatchallClause"> </a><a id="14271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14271" class="CatchallClause Bound">msgevalState</a><a id="14283" class="CatchallClause Symbol">)</a>
                       <a id="14308" class="Symbol">=</a> <a id="14310" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="14318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14245" class="Bound">gasLeft1</a>
<a id="14327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14349" class="CatchallClause"> </a><a id="14350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14350" class="CatchallClause Bound">oldLedger</a><a id="14359" class="CatchallClause"> </a><a id="14360" class="CatchallClause Symbol">(</a><a id="14361" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="14368" class="CatchallClause"> </a><a id="14369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14369" class="CatchallClause Bound">ledger</a><a id="14375" class="CatchallClause"> </a><a id="14376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14376" class="CatchallClause Bound">executionStack</a><a id="14390" class="CatchallClause"> </a><a id="14391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14391" class="CatchallClause Bound">initialAddr</a><a id="14402" class="CatchallClause"> </a><a id="14403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14403" class="CatchallClause Bound">lastCallAddr</a><a id="14415" class="CatchallClause"> </a><a id="14416" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14416" class="CatchallClause Bound">calledAddr</a><a id="14426" class="CatchallClause"> </a><a id="14427" class="CatchallClause Symbol">(</a><a id="14428" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="14432" class="CatchallClause"> </a><a id="14433" href="Complex-Model.ccomand.ccommands-cresponse.html#648" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="14451" class="CatchallClause"> </a><a id="14452" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14452" class="CatchallClause Bound">x</a><a id="14453" class="CatchallClause"> </a><a id="14454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14454" class="CatchallClause Bound">x₁</a><a id="14456" class="CatchallClause Symbol">)</a><a id="14457" class="CatchallClause"> </a><a id="14458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14458" class="CatchallClause Bound">gasLeft1</a><a id="14466" class="CatchallClause"> </a><a id="14467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14467" class="CatchallClause Bound">funNameevalState</a><a id="14483" class="CatchallClause"> </a><a id="14484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14484" class="CatchallClause Bound">msgevalState</a><a id="14496" class="CatchallClause Symbol">)</a>
                       <a id="14521" class="Symbol">=</a> <a id="14523" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="14531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14458" class="Bound">gasLeft1</a>
<a id="14540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14562" class="CatchallClause"> </a><a id="14563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14563" class="CatchallClause Bound">oldLedger</a><a id="14572" class="CatchallClause"> </a><a id="14573" class="CatchallClause Symbol">(</a><a id="14574" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="14581" class="CatchallClause"> </a><a id="14582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14582" class="CatchallClause Bound">ledger</a><a id="14588" class="CatchallClause"> </a><a id="14589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14589" class="CatchallClause Bound">executionStack</a><a id="14603" class="CatchallClause"> </a><a id="14604" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14604" class="CatchallClause Bound">initialAddr</a><a id="14615" class="CatchallClause"> </a><a id="14616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14616" class="CatchallClause Bound">lastCallAddr</a><a id="14628" class="CatchallClause"> </a><a id="14629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="CatchallClause Bound">calledAddr</a><a id="14639" class="CatchallClause"> </a><a id="14640" class="CatchallClause Symbol">(</a><a id="14641" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="14645" class="CatchallClause"> </a><a id="14646" href="Complex-Model.ccomand.ccommands-cresponse.html#683" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="14661" class="CatchallClause"> </a><a id="14662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14662" class="CatchallClause Bound">x</a><a id="14663" class="CatchallClause"> </a><a id="14664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14664" class="CatchallClause Bound">x₁</a><a id="14666" class="CatchallClause Symbol">)</a><a id="14667" class="CatchallClause"> </a><a id="14668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14668" class="CatchallClause Bound">gasLeft1</a><a id="14676" class="CatchallClause"> </a><a id="14677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14677" class="CatchallClause Bound">funNameevalState</a><a id="14693" class="CatchallClause"> </a><a id="14694" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14694" class="CatchallClause Bound">msgevalState</a><a id="14706" class="CatchallClause Symbol">)</a>
                       <a id="14731" class="Symbol">=</a> <a id="14733" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="14741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14668" class="Bound">gasLeft1</a>
<a id="14750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="CatchallClause Function">lemmaStepEFpreserveGas</a><a id="14772" class="CatchallClause"> </a><a id="14773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14773" class="CatchallClause Bound">oldLedger</a><a id="14782" class="CatchallClause"> </a><a id="14783" class="CatchallClause Symbol">(</a><a id="14784" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="14791" class="CatchallClause"> </a><a id="14792" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14792" class="CatchallClause Bound">ledger</a><a id="14798" class="CatchallClause"> </a><a id="14799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14799" class="CatchallClause Bound">executionStack</a><a id="14813" class="CatchallClause"> </a><a id="14814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14814" class="CatchallClause Bound">initialAddr</a><a id="14825" class="CatchallClause"> </a><a id="14826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14826" class="CatchallClause Bound">lastCallAddr</a><a id="14838" class="CatchallClause"> </a><a id="14839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14839" class="CatchallClause Bound">calledAddr</a><a id="14849" class="CatchallClause"> </a><a id="14850" class="CatchallClause Symbol">(</a><a id="14851" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="14855" class="CatchallClause"> </a><a id="14856" class="CatchallClause Symbol">(</a><a id="14857" href="Complex-Model.ccomand.ccommands-cresponse.html#875" class="CatchallClause InductiveConstructor">getAmountc</a><a id="14867" class="CatchallClause"> </a><a id="14868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14868" class="CatchallClause Bound">x₂</a><a id="14870" class="CatchallClause Symbol">)</a><a id="14871" class="CatchallClause"> </a><a id="14872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14872" class="CatchallClause Bound">x</a><a id="14873" class="CatchallClause"> </a><a id="14874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14874" class="CatchallClause Bound">x₁</a><a id="14876" class="CatchallClause Symbol">)</a><a id="14877" class="CatchallClause"> </a><a id="14878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14878" class="CatchallClause Bound">gasLeft1</a><a id="14886" class="CatchallClause"> </a><a id="14887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14887" class="CatchallClause Bound">funNameevalState</a><a id="14903" class="CatchallClause"> </a><a id="14904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14904" class="CatchallClause Bound">msgevalState</a><a id="14916" class="CatchallClause Symbol">)</a>
                       <a id="14941" class="Symbol">=</a> <a id="14943" href="libraries.natCompare.html#1629" class="Function">refl==r</a> <a id="14951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14878" class="Bound">gasLeft1</a>

<a id="lemmaStepEFpreserveGas2"></a><a id="14961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14961" class="Function">lemmaStepEFpreserveGas2</a> <a id="14985" class="Symbol">:</a> <a id="14987" class="Symbol">(</a><a id="14988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14988" class="Bound">oldLedger</a> <a id="14998" class="Symbol">:</a> <a id="15000" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="15006" class="Symbol">)</a> <a id="15008" class="Symbol">→</a> <a id="15010" class="Symbol">(</a><a id="15011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15011" class="Bound">state</a> <a id="15017" class="Symbol">:</a> <a id="15019" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="15031" class="Symbol">)</a> <a id="15033" class="Symbol">→</a>
                          <a id="15061" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="15069" class="Symbol">(</a><a id="15070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="15077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14988" class="Bound">oldLedger</a> <a id="15087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15011" class="Bound">state</a><a id="15092" class="Symbol">)</a> <a id="15094" href="libraries.natCompare.html#480" class="Function Operator">==r</a> <a id="15098" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="15106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15011" class="Bound">state</a>
<a id="15112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14961" class="Function">lemmaStepEFpreserveGas2</a> <a id="15136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15136" class="Bound">oldLedger</a> <a id="15146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15146" class="Bound">state</a> <a id="15152" class="Symbol">=</a> <a id="15154" href="libraries.natCompare.html#2175" class="Function">sym==</a> <a id="15160" class="Symbol">(</a><a id="15161" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="15169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15146" class="Bound">state</a><a id="15174" class="Symbol">)</a> <a id="15176" class="Symbol">(</a><a id="15177" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="15185" class="Symbol">(</a><a id="15186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="15193" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15136" class="Bound">oldLedger</a> <a id="15203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15146" class="Bound">state</a><a id="15208" class="Symbol">))</a>
                                          <a id="15253" class="Symbol">(</a><a id="15254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12176" class="Function">lemmaStepEFpreserveGas</a> <a id="15277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15136" class="Bound">oldLedger</a> <a id="15287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15146" class="Bound">state</a><a id="15292" class="Symbol">)</a>






<a id="15300" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="15344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="15363" class="Symbol">:</a> <a id="15365" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a> <a id="15378" class="Symbol">→</a> <a id="15380" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="15382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="15401" class="Symbol">(</a><a id="15402" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="15410" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15410" class="Bound">ledger</a> <a id="15417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15417" class="Bound">executionStack</a> <a id="15432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15432" class="Bound">initialAddr</a>
                   <a id="15463" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15463" class="Bound">lastCallAddr</a> <a id="15476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15476" class="Bound">calledAddr</a>
                   <a id="15506" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15506" class="Bound">nextstep</a> <a id="15515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15515" class="Bound">gasLeft</a>  <a id="15524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15524" class="Bound">funNameevalState</a> <a id="15541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15541" class="Bound">msgevalState</a><a id="15553" class="Symbol">)</a>
                   <a id="15574" class="Symbol">=</a> <a id="15576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15515" class="Bound">gasLeft</a>


<a id="15586" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="15643" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="15676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="15692" class="Symbol">:</a> <a id="15694" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a> <a id="15707" class="Symbol">→</a> <a id="15709" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="15711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a>  <a id="15728" class="Symbol">(</a><a id="15729" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="15737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15737" class="Bound">currentLedger</a> <a id="15751" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="15754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15754" class="Bound">initialAddr</a> <a id="15766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15766" class="Bound">lastCallAddr</a> <a id="15779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15779" class="Bound">calledAddr</a>
                 <a id="15807" class="Symbol">(</a><a id="15808" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="15815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15815" class="Bound">cost</a> <a id="15820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15820" class="Bound">result</a><a id="15826" class="Symbol">)</a> <a id="15828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15828" class="Bound">gasLeft</a>  <a id="15837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15837" class="Bound">funNameevalState</a> <a id="15854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15854" class="Bound">msgevalState</a><a id="15866" class="Symbol">)</a>
       <a id="15875" class="Symbol">=</a> <a id="15877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15815" class="Bound">cost</a> 
<a id="15883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a>  <a id="15900" class="Symbol">(</a><a id="15901" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="15909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15909" class="Bound">currentLedger</a> <a id="15923" class="Symbol">(</a><a id="15924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15924" class="Bound">execSEl</a> <a id="15932" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15934" class="Bound">executionStack</a><a id="15948" class="Symbol">)</a> <a id="15950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15950" class="Bound">initialAddr</a> <a id="15962" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15962" class="Bound">lastCallAddr</a> <a id="15975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15975" class="Bound">calledAddr</a>
                 <a id="16003" class="Symbol">(</a><a id="16004" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="16011" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16011" class="Bound">cost</a> <a id="16016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16016" class="Bound">result</a><a id="16022" class="Symbol">)</a> <a id="16024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16024" class="Bound">gasLeft</a>  <a id="16033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16033" class="Bound">funNameevalState</a> <a id="16050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16050" class="Bound">msgevalState</a><a id="16062" class="Symbol">)</a>
       <a id="16071" class="Symbol">=</a> <a id="16073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16011" class="Bound">cost</a> 

<a id="16080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="16095" class="CatchallClause"> </a><a id="16096" class="CatchallClause Symbol">(</a><a id="16097" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="16104" class="CatchallClause"> </a><a id="16105" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16105" class="CatchallClause Bound">currentLedger</a><a id="16118" class="CatchallClause"> </a><a id="16119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16119" class="CatchallClause Bound">executionStack</a><a id="16133" class="CatchallClause"> </a><a id="16134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16134" class="CatchallClause Bound">initialAddr</a><a id="16145" class="CatchallClause"> </a><a id="16146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16146" class="CatchallClause Bound">lastCallAddr</a><a id="16158" class="CatchallClause"> </a><a id="16159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16159" class="CatchallClause Bound">calledAddr</a>
                 <a id="16187" class="CatchallClause Symbol">(</a><a id="16188" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="16192" class="CatchallClause"> </a><a id="16193" href="Complex-Model.ccomand.ccommands-cresponse.html#648" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="16211" class="CatchallClause"> </a><a id="16212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16212" class="CatchallClause Bound">costcomputecont</a><a id="16227" class="CatchallClause"> </a><a id="16228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16228" class="CatchallClause Bound">cont</a><a id="16232" class="CatchallClause Symbol">)</a>
                 <a id="16251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16251" class="CatchallClause Bound">gasLeft</a><a id="16258" class="CatchallClause">  </a><a id="16260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16260" class="CatchallClause Bound">funNameevalState</a><a id="16276" class="CatchallClause"> </a><a id="16277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16277" class="CatchallClause Bound">msgevalState</a><a id="16289" class="CatchallClause Symbol">)</a>
       <a id="16298" class="Symbol">=</a> <a id="16300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16212" class="Bound">costcomputecont</a> <a id="16316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16159" class="Bound">calledAddr</a>

<a id="16328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="16343" class="CatchallClause"> </a><a id="16344" class="CatchallClause Symbol">(</a><a id="16345" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="16352" class="CatchallClause"> </a><a id="16353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16353" class="CatchallClause Bound">currentLedger</a><a id="16366" class="CatchallClause"> </a><a id="16367" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16367" class="CatchallClause Bound">executionStack</a><a id="16381" class="CatchallClause"> </a><a id="16382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16382" class="CatchallClause Bound">initialAddr</a><a id="16393" class="CatchallClause"> </a><a id="16394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16394" class="CatchallClause Bound">lastCallAddr</a><a id="16406" class="CatchallClause"> </a><a id="16407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16407" class="CatchallClause Bound">calledAddr</a>
                 <a id="16435" class="CatchallClause Symbol">(</a><a id="16436" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="16440" class="CatchallClause"> </a><a id="16441" href="Complex-Model.ccomand.ccommands-cresponse.html#683" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="16456" class="CatchallClause"> </a><a id="16457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16457" class="CatchallClause Bound">costcomputecont</a><a id="16472" class="CatchallClause"> </a><a id="16473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16473" class="CatchallClause Bound">cont</a><a id="16477" class="CatchallClause Symbol">)</a>
                 <a id="16496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16496" class="CatchallClause Bound">gasLeft</a><a id="16503" class="CatchallClause">  </a><a id="16505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16505" class="CatchallClause Bound">funNameevalState</a><a id="16521" class="CatchallClause"> </a><a id="16522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16522" class="CatchallClause Bound">msgevalState</a><a id="16534" class="CatchallClause Symbol">)</a>
       <a id="16543" class="Symbol">=</a> <a id="16545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16457" class="Bound">costcomputecont</a> <a id="16561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16394" class="Bound">lastCallAddr</a>

<a id="16575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="16590" class="CatchallClause"> </a><a id="16591" class="CatchallClause Symbol">(</a><a id="16592" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="16599" class="CatchallClause"> </a><a id="16600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16600" class="CatchallClause Bound">currentLedger</a><a id="16613" class="CatchallClause"> </a><a id="16614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16614" class="CatchallClause Bound">executionStack</a><a id="16628" class="CatchallClause"> </a><a id="16629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16629" class="CatchallClause Bound">initialAddr</a><a id="16640" class="CatchallClause"> </a><a id="16641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16641" class="CatchallClause Bound">lastCallAddr</a><a id="16653" class="CatchallClause"> </a><a id="16654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16654" class="CatchallClause Bound">calledAddr</a>
                 <a id="16682" class="CatchallClause Symbol">(</a><a id="16683" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="16687" class="CatchallClause"> </a><a id="16688" class="CatchallClause Symbol">(</a><a id="16689" href="Complex-Model.ccomand.ccommands-cresponse.html#487" class="CatchallClause InductiveConstructor">updatec</a><a id="16696" class="CatchallClause"> </a><a id="16697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16697" class="CatchallClause Bound">changedFname</a><a id="16709" class="CatchallClause"> </a><a id="16710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16710" class="CatchallClause Bound">changedPufun</a><a id="16722" class="CatchallClause"> </a><a id="16723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16723" class="CatchallClause Bound">cost</a><a id="16727" class="CatchallClause Symbol">)</a><a id="16728" class="CatchallClause"> </a><a id="16729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16729" class="CatchallClause Bound">costcomputecont</a><a id="16744" class="CatchallClause"> </a><a id="16745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16745" class="CatchallClause Bound">cont</a><a id="16749" class="CatchallClause Symbol">)</a>  
                 <a id="16770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16770" class="CatchallClause Bound">gasLeft</a><a id="16777" class="CatchallClause">  </a><a id="16779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16779" class="CatchallClause Bound">funNameevalState</a><a id="16795" class="CatchallClause"> </a><a id="16796" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16796" class="CatchallClause Bound">msgevalState</a><a id="16808" class="CatchallClause Symbol">)</a>
       <a id="16817" class="Symbol">=</a> <a id="16819" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16723" class="Bound">cost</a> <a id="16824" class="Symbol">(</a><a id="16825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16600" class="Bound">currentLedger</a> <a id="16839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16654" class="Bound">calledAddr</a> <a id="16850" class="Symbol">.</a><a id="16851" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a> <a id="16864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16697" class="Bound">changedFname</a><a id="16876" class="Symbol">)</a> <a id="16878" class="Symbol">(</a><a id="16879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16600" class="Bound">currentLedger</a> <a id="16893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16654" class="Bound">calledAddr</a> <a id="16904" class="Symbol">.</a><a id="16905" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a> <a id="16922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16697" class="Bound">changedFname</a><a id="16934" class="Symbol">)</a> <a id="16936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16796" class="Bound">msgevalState</a> <a id="16949" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="16951" class="Symbol">(</a><a id="16952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16729" class="Bound">costcomputecont</a> <a id="16968" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="16970" class="Symbol">)</a> 
   

<a id="16978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="16993" class="CatchallClause"> </a><a id="16994" class="CatchallClause Symbol">(</a><a id="16995" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="17002" class="CatchallClause"> </a><a id="17003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17003" class="CatchallClause Bound">currentLedger</a><a id="17016" class="CatchallClause"> </a><a id="17017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17017" class="CatchallClause Bound">executionStack</a><a id="17031" class="CatchallClause"> </a><a id="17032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17032" class="CatchallClause Bound">initialAddr</a><a id="17043" class="CatchallClause"> </a><a id="17044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17044" class="CatchallClause Bound">oldlastCallAddr</a><a id="17059" class="CatchallClause"> </a><a id="17060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17060" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="17091" class="CatchallClause Symbol">(</a><a id="17092" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="17096" class="CatchallClause"> </a><a id="17097" class="CatchallClause Symbol">(</a><a id="17098" href="Complex-Model.ccomand.ccommands-cresponse.html#715" class="CatchallClause InductiveConstructor">callc</a><a id="17103" class="CatchallClause"> </a><a id="17104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17104" class="CatchallClause Bound">newaddr</a><a id="17111" class="CatchallClause"> </a><a id="17112" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17112" class="CatchallClause Bound">fname</a><a id="17117" class="CatchallClause"> </a><a id="17118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17118" class="CatchallClause Bound">msg</a><a id="17121" class="CatchallClause Symbol">)</a><a id="17122" class="CatchallClause"> </a><a id="17123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17123" class="CatchallClause Bound">costcomputecont</a><a id="17138" class="CatchallClause"> </a><a id="17139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17139" class="CatchallClause Bound">cont</a><a id="17143" class="CatchallClause Symbol">)</a>
                 <a id="17162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17162" class="CatchallClause Bound">gasLeft</a><a id="17169" class="CatchallClause">  </a><a id="17171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17171" class="CatchallClause Bound">funNameevalState</a><a id="17187" class="CatchallClause"> </a><a id="17188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17188" class="CatchallClause Bound">msgevalState</a><a id="17200" class="CatchallClause Symbol">)</a>
       <a id="17209" class="Symbol">=</a> <a id="17211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17123" class="Bound">costcomputecont</a> <a id="17227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17118" class="Bound">msg</a>

<a id="17232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="17247" class="CatchallClause"> </a><a id="17248" class="CatchallClause Symbol">(</a><a id="17249" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="17256" class="CatchallClause"> </a><a id="17257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17257" class="CatchallClause Bound">currentLedger</a><a id="17270" class="CatchallClause"> </a><a id="17271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17271" class="CatchallClause Bound">executionStack</a><a id="17285" class="CatchallClause"> </a><a id="17286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17286" class="CatchallClause Bound">initialAddr</a><a id="17297" class="CatchallClause"> </a><a id="17298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17298" class="CatchallClause Bound">lastCallAddr</a><a id="17310" class="CatchallClause"> </a><a id="17311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17311" class="CatchallClause Bound">calledAddr</a>
                 <a id="17339" class="CatchallClause Symbol">(</a><a id="17340" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="17344" class="CatchallClause"> </a><a id="17345" class="CatchallClause Symbol">(</a><a id="17346" href="Complex-Model.ccomand.ccommands-cresponse.html#829" class="CatchallClause InductiveConstructor">transferc</a><a id="17355" class="CatchallClause"> </a><a id="17356" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17356" class="CatchallClause Bound">amount</a><a id="17362" class="CatchallClause"> </a><a id="17363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17363" class="CatchallClause Bound">destinationAddr</a><a id="17378" class="CatchallClause Symbol">)</a><a id="17379" class="CatchallClause"> </a><a id="17380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17380" class="CatchallClause Bound">costcomputecont</a><a id="17395" class="CatchallClause"> </a><a id="17396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17396" class="CatchallClause Bound">cont</a><a id="17400" class="CatchallClause Symbol">)</a>
                 <a id="17419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17419" class="CatchallClause Bound">gasLeft</a><a id="17426" class="CatchallClause">  </a><a id="17428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17428" class="CatchallClause Bound">funNameevalState</a><a id="17444" class="CatchallClause"> </a><a id="17445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17445" class="CatchallClause Bound">msgevalState</a><a id="17457" class="CatchallClause Symbol">)</a>
       <a id="17466" class="Symbol">=</a> <a id="17468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17380" class="Bound">costcomputecont</a> <a id="17484" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

<a id="17488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="17503" class="CatchallClause"> </a><a id="17504" class="CatchallClause Symbol">(</a><a id="17505" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="17512" class="CatchallClause"> </a><a id="17513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17513" class="CatchallClause Bound">currentLedger</a><a id="17526" class="CatchallClause"> </a><a id="17527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17527" class="CatchallClause Bound">executionStack</a><a id="17541" class="CatchallClause"> </a><a id="17542" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17542" class="CatchallClause Bound">initialAddr</a><a id="17553" class="CatchallClause"> </a><a id="17554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17554" class="CatchallClause Bound">lastCallAddr</a><a id="17566" class="CatchallClause"> </a><a id="17567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17567" class="CatchallClause Bound">calledAddr</a>
                 <a id="17595" class="CatchallClause Symbol">(</a><a id="17596" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="17600" class="CatchallClause"> </a><a id="17601" class="CatchallClause Symbol">(</a><a id="17602" href="Complex-Model.ccomand.ccommands-cresponse.html#875" class="CatchallClause InductiveConstructor">getAmountc</a><a id="17612" class="CatchallClause">  </a><a id="17614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17614" class="CatchallClause Bound">addrLookedUp</a><a id="17626" class="CatchallClause Symbol">)</a><a id="17627" class="CatchallClause"> </a><a id="17628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="CatchallClause Bound">costcomputecont</a><a id="17643" class="CatchallClause"> </a><a id="17644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17644" class="CatchallClause Bound">cont</a><a id="17648" class="CatchallClause Symbol">)</a>
                 <a id="17667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17667" class="CatchallClause Bound">gasLeft</a><a id="17674" class="CatchallClause">  </a><a id="17676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17676" class="CatchallClause Bound">funNameevalState</a><a id="17692" class="CatchallClause"> </a><a id="17693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17693" class="CatchallClause Bound">msgevalState</a><a id="17705" class="CatchallClause Symbol">)</a>
       <a id="17714" class="Symbol">=</a> <a id="17716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17628" class="Bound">costcomputecont</a> <a id="17732" class="Symbol">(</a><a id="17733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17513" class="Bound">currentLedger</a> <a id="17747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17614" class="Bound">addrLookedUp</a> <a id="17760" class="Symbol">.</a><a id="17761" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="17767" class="Symbol">)</a>

      
<a id="17777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="17792" class="CatchallClause"> </a><a id="17793" class="CatchallClause Symbol">(</a><a id="17794" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="17801" class="CatchallClause"> </a><a id="17802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17802" class="CatchallClause Bound">ledger</a><a id="17808" class="CatchallClause"> </a><a id="17809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17809" class="CatchallClause Bound">executionStack</a><a id="17823" class="CatchallClause"> </a><a id="17824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17824" class="CatchallClause Bound">initialAddr</a><a id="17835" class="CatchallClause"> </a><a id="17836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17836" class="CatchallClause Bound">lastCallAddr</a><a id="17848" class="CatchallClause"> </a><a id="17849" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17849" class="CatchallClause Bound">calledAddr</a>
                 <a id="17877" class="CatchallClause Symbol">(</a><a id="17878" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="17882" class="CatchallClause"> </a><a id="17883" class="CatchallClause Symbol">(</a><a id="17884" href="Complex-Model.ccomand.ccommands-cresponse.html#912" class="CatchallClause InductiveConstructor">raiseException</a><a id="17898" class="CatchallClause"> </a><a id="17899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17899" class="CatchallClause Bound">cost</a><a id="17903" class="CatchallClause"> </a><a id="17904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17904" class="CatchallClause Bound">str</a><a id="17907" class="CatchallClause Symbol">)</a><a id="17908" class="CatchallClause"> </a><a id="17909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17909" class="CatchallClause Bound">costcomputecont</a><a id="17924" class="CatchallClause"> </a><a id="17925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17925" class="CatchallClause Bound">cont</a><a id="17929" class="CatchallClause Symbol">)</a>
                 <a id="17948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17948" class="CatchallClause Bound">gasLeft</a><a id="17955" class="CatchallClause"> </a><a id="17956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17956" class="CatchallClause Bound">funNameevalState</a><a id="17972" class="CatchallClause"> </a><a id="17973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17973" class="CatchallClause Bound">msgevalState</a><a id="17985" class="CatchallClause Symbol">)</a>
                 <a id="18004" class="Symbol">=</a> <a id="18006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17899" class="Bound">cost</a> 

<a id="18013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="18028" class="CatchallClause"> </a><a id="18029" class="CatchallClause Symbol">(</a><a id="18030" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="18037" class="CatchallClause"> </a><a id="18038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18038" class="CatchallClause Bound">currentLedger</a><a id="18051" class="CatchallClause"> </a><a id="18052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18052" class="CatchallClause Bound">executionStack</a><a id="18066" class="CatchallClause"> </a><a id="18067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18067" class="CatchallClause Bound">initialAddr</a><a id="18078" class="CatchallClause"> </a><a id="18079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18079" class="CatchallClause Bound">lastCallAddr</a><a id="18091" class="CatchallClause"> </a><a id="18092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18092" class="CatchallClause Bound">calledAddr</a>
                 <a id="18120" class="CatchallClause Symbol">(</a><a id="18121" href="Complex-Model.ccomand.ccommands-cresponse.html#1656" class="CatchallClause InductiveConstructor">exec</a><a id="18125" class="CatchallClause"> </a><a id="18126" class="CatchallClause Symbol">(</a><a id="18127" href="Complex-Model.ccomand.ccommands-cresponse.html#770" class="CatchallClause InductiveConstructor">callPure</a><a id="18135" class="CatchallClause"> </a><a id="18136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18136" class="CatchallClause Bound">addr</a><a id="18140" class="CatchallClause"> </a><a id="18141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18141" class="CatchallClause Bound">fname</a><a id="18146" class="CatchallClause"> </a><a id="18147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18147" class="CatchallClause Bound">msg</a><a id="18150" class="CatchallClause Symbol">)</a><a id="18151" class="CatchallClause"> </a><a id="18152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18152" class="CatchallClause Bound">costcompute</a><a id="18163" class="CatchallClause"> </a><a id="18164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18164" class="CatchallClause Bound">cont</a><a id="18168" class="CatchallClause Symbol">)</a>
                 <a id="18187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18187" class="CatchallClause Bound">gasLeft</a><a id="18194" class="CatchallClause">  </a><a id="18196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18196" class="CatchallClause Bound">funNameevalState</a><a id="18212" class="CatchallClause"> </a><a id="18213" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18213" class="CatchallClause Bound">msgevalState</a><a id="18225" class="CatchallClause Symbol">)</a>
       <a id="18234" class="Symbol">=</a> <a id="18236" class="Symbol">(</a><a id="18237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18038" class="Bound">currentLedger</a> <a id="18251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18092" class="Bound">calledAddr</a> <a id="18262" class="Symbol">.</a><a id="18263" href="libraries.Mainlibrary.html#1030" class="Field">purefunctionCost</a> <a id="18280" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18141" class="Bound">fname</a> <a id="18286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18147" class="Bound">msg</a><a id="18289" class="Symbol">)</a> <a id="18291" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="18293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18152" class="Bound">costcompute</a> <a id="18305" class="Symbol">(</a><a id="18306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18038" class="Bound">currentLedger</a> <a id="18320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18092" class="Bound">calledAddr</a> <a id="18331" class="Symbol">.</a><a id="18332" href="libraries.Mainlibrary.html#886" class="Field">purefunction</a> <a id="18345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18141" class="Bound">fname</a> <a id="18351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18147" class="Bound">msg</a><a id="18354" class="Symbol">)</a>


<a id="18358" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="CatchallClause Function">stepEFgasNeeded</a><a id="18373" class="CatchallClause"> </a><a id="18374" class="CatchallClause Symbol">(</a><a id="18375" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="18382" class="CatchallClause"> </a><a id="18383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18383" class="CatchallClause Bound">currentLedger</a><a id="18396" class="CatchallClause"> </a><a id="18397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18397" class="CatchallClause Bound">executionStack</a><a id="18411" class="CatchallClause"> </a><a id="18412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18412" class="CatchallClause Bound">initialAddr</a><a id="18423" class="CatchallClause"> </a><a id="18424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18424" class="CatchallClause Bound">lastCallAddr</a><a id="18436" class="CatchallClause"> </a><a id="18437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18437" class="CatchallClause Bound">calledAddr</a>
                 <a id="18465" class="CatchallClause Symbol">(</a><a id="18466" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="CatchallClause InductiveConstructor">error</a><a id="18471" class="CatchallClause"> </a><a id="18472" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18472" class="CatchallClause Bound">errorMsg</a><a id="18480" class="CatchallClause"> </a><a id="18481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18481" class="CatchallClause Bound">debuginfo</a><a id="18490" class="CatchallClause Symbol">)</a><a id="18491" class="CatchallClause"> </a><a id="18492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18492" class="CatchallClause Bound">gasLeft</a><a id="18499" class="CatchallClause">  </a><a id="18501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18501" class="CatchallClause Bound">funNameevalState</a><a id="18517" class="CatchallClause"> </a><a id="18518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18518" class="CatchallClause Bound">msgevalState</a><a id="18530" class="CatchallClause Symbol">)</a>
       <a id="18539" class="Symbol">=</a> <a id="18541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="18547" class="Symbol">.</a><a id="18548" href="constantparameters.html#705" class="Field">costerror</a> <a id="18558" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18472" class="Bound">errorMsg</a> 


<a id="18570" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="18636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18636" class="Function">deductGas</a> <a id="18646" class="Symbol">:</a> <a id="18648" class="Symbol">(</a><a id="18649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18649" class="Bound">statefun</a> <a id="18658" class="Symbol">:</a> <a id="18660" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="18672" class="Symbol">)(</a><a id="18674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18674" class="Bound">gasDeducted</a> <a id="18686" class="Symbol">:</a> <a id="18688" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="18689" class="Symbol">)</a> <a id="18691" class="Symbol">→</a> <a id="18693" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="18706" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18636" class="Function">deductGas</a> <a id="18716" class="Symbol">(</a><a id="18717" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="18725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18725" class="Bound">ledger</a> <a id="18732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18732" class="Bound">executionStack</a> <a id="18747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18747" class="Bound">initialAddr</a> <a id="18759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18759" class="Bound">lastCallAddr</a> <a id="18772" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18772" class="Bound">calledAddr</a> <a id="18783" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18783" class="Bound">nextstep</a>
            <a id="18804" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18804" class="Bound">gasLeft</a>  <a id="18813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18813" class="Bound">funNameevalState</a> <a id="18830" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18830" class="Bound">msgevalState</a><a id="18842" class="Symbol">)</a> <a id="18844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18844" class="Bound">gasDeducted</a>
       <a id="18863" class="Symbol">=</a> <a id="18865" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="18873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18725" class="Bound">ledger</a> <a id="18880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18732" class="Bound">executionStack</a> <a id="18895" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18747" class="Bound">initialAddr</a> <a id="18907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18759" class="Bound">lastCallAddr</a> <a id="18920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18772" class="Bound">calledAddr</a> <a id="18931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18783" class="Bound">nextstep</a>
       <a id="18947" class="Symbol">(</a><a id="18948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18804" class="Bound">gasLeft</a> <a id="18956" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="18958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18844" class="Bound">gasDeducted</a><a id="18969" class="Symbol">)</a>  <a id="18972" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18813" class="Bound">funNameevalState</a> <a id="18989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18830" class="Bound">msgevalState</a>



<a id="19005" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>
<a id="stepEFAuxCompare"></a><a id="19089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19089" class="Function">stepEFAuxCompare</a> <a id="19106" class="Symbol">:</a> <a id="19108" class="Symbol">(</a><a id="19109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19109" class="Bound">oldLedger</a> <a id="19119" class="Symbol">:</a> <a id="19121" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="19127" class="Symbol">)</a> <a id="19129" class="Symbol">→</a> <a id="19131" class="Symbol">(</a><a id="19132" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19132" class="Bound">statefun</a> <a id="19141" class="Symbol">:</a> <a id="19143" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="19155" class="Symbol">)</a>
                 <a id="19174" class="Symbol">→</a> <a id="19176" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="19188" class="Symbol">(</a><a id="19189" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="19193" class="Symbol">(</a><a id="19194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="19210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19132" class="Bound">statefun</a><a id="19218" class="Symbol">))</a>
                                <a id="19253" class="Symbol">(</a><a id="19254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="19273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19132" class="Bound">statefun</a><a id="19281" class="Symbol">)</a>
                <a id="19299" class="Symbol">→</a> <a id="19301" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="19314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19089" class="Function">stepEFAuxCompare</a> <a id="19331" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19331" class="Bound">oldLedger</a> <a id="19341" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19341" class="Bound">statefun</a> <a id="19350" class="Symbol">(</a><a id="19351" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="19355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19355" class="Bound">x</a><a id="19356" class="Symbol">)</a> <a id="19358" class="Symbol">=</a> <a id="19360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18636" class="Function">deductGas</a> <a id="19370" class="Symbol">(</a><a id="19371" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="19378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19331" class="Bound">oldLedger</a> <a id="19388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19341" class="Bound">statefun</a><a id="19396" class="Symbol">)</a> <a id="19398" class="Symbol">(</a><a id="19399" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="19403" class="Symbol">(</a><a id="19404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="19420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19341" class="Bound">statefun</a><a id="19428" class="Symbol">))</a>
<a id="19431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19089" class="Function">stepEFAuxCompare</a> <a id="19448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19448" class="Bound">oldLedger</a> <a id="19458" class="Symbol">(</a><a id="19459" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="19467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19467" class="Bound">ledger</a> <a id="19474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19474" class="Bound">executionStack</a> <a id="19489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19489" class="Bound">initialAddr</a> <a id="19501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19501" class="Bound">lastCallAddr</a> <a id="19514" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19514" class="Bound">calledAddr</a> <a id="19525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19525" class="Bound">nextstep</a>
                           <a id="19561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19561" class="Bound">gasLeft</a>  <a id="19570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19570" class="Bound">funNameevalState</a> <a id="19587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19587" class="Bound">msgevalState</a><a id="19599" class="Symbol">)</a> <a id="19601" class="Symbol">(</a><a id="19602" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="19610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19610" class="Bound">x</a><a id="19611" class="Symbol">)</a>
                 <a id="19630" class="Symbol">=</a> <a id="19632" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="19640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19448" class="Bound">oldLedger</a> <a id="19650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19474" class="Bound">executionStack</a> <a id="19665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19489" class="Bound">initialAddr</a> <a id="19677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19501" class="Bound">lastCallAddr</a> <a id="19690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19514" class="Bound">calledAddr</a> <a id="19701" class="Symbol">(</a><a id="19702" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="19708" href="basicDataStructure.html#727" class="InductiveConstructor">outOfGasError</a>
                    <a id="19742" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="19744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19501" class="Bound">lastCallAddr</a> <a id="19757" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="19760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19489" class="Bound">initialAddr</a> <a id="19772" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="19774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19570" class="Bound">funNameevalState</a> <a id="19791" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="19793" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19587" class="Bound">msgevalState</a> <a id="19806" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="19808" class="Symbol">)</a> <a id="19810" class="Number">0</a>
                     <a id="19833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19570" class="Bound">funNameevalState</a> <a id="19850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19587" class="Bound">msgevalState</a>


<a id="stepEFwithGasError"></a><a id="19865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19865" class="Function">stepEFwithGasError</a> <a id="19884" class="Symbol">:</a> <a id="19886" class="Symbol">(</a><a id="19887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19887" class="Bound">oldLedger</a> <a id="19897" class="Symbol">:</a> <a id="19899" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="19905" class="Symbol">)</a> <a id="19907" class="Symbol">→</a> <a id="19909" class="Symbol">(</a><a id="19910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19910" class="Bound">statefun</a> <a id="19919" class="Symbol">:</a> <a id="19921" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="19933" class="Symbol">)</a> <a id="19935" class="Symbol">→</a> <a id="19937" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="19950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19865" class="Function">stepEFwithGasError</a> <a id="19969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19969" class="Bound">oldLedger</a> <a id="19979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19979" class="Bound">statefun</a>  <a id="19989" class="Symbol">=</a> <a id="19991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19089" class="Function">stepEFAuxCompare</a> <a id="20008" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19969" class="Bound">oldLedger</a> <a id="20018" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19979" class="Bound">statefun</a>
                                         <a id="20068" class="Symbol">(</a><a id="20069" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="20080" class="Symbol">(</a><a id="20081" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20085" class="Symbol">(</a><a id="20086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="20102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19979" class="Bound">statefun</a><a id="20110" class="Symbol">))</a>
                                         <a id="20154" class="Symbol">(</a><a id="20155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="20174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19979" class="Bound">statefun</a><a id="20182" class="Symbol">))</a>


<a id="20187" class="Comment">-- definition of stepEFntimes</a>
<a id="stepEFntimes"></a><a id="20217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20217" class="Function">stepEFntimes</a> <a id="20230" class="Symbol">:</a> <a id="20232" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="20239" class="Symbol">→</a> <a id="20241" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a> <a id="20254" class="Symbol">→</a> <a id="20256" class="Symbol">(</a><a id="20257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20257" class="Bound">ntimes</a> <a id="20264" class="Symbol">:</a> <a id="20266" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20267" class="Symbol">)</a> <a id="20269" class="Symbol">→</a> <a id="20271" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="20284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20217" class="Function">stepEFntimes</a> <a id="20297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20297" class="Bound">oldLedger</a> <a id="20307" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20307" class="Bound">ledgerstateexecfun</a> <a id="20326" class="Number">0</a>
             <a id="20341" class="Symbol">=</a> <a id="20343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20307" class="Bound">ledgerstateexecfun</a>
<a id="20362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20217" class="Function">stepEFntimes</a> <a id="20375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20375" class="Bound">oldLedger</a> <a id="20385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20385" class="Bound">ledgerstateexecfun</a> <a id="20404" class="Symbol">(</a><a id="20405" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20409" class="Bound">n</a><a id="20410" class="Symbol">)</a>
             <a id="20425" class="Symbol">=</a> <a id="20427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19865" class="Function">stepEFwithGasError</a> <a id="20446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20375" class="Bound">oldLedger</a> <a id="20456" class="Symbol">(</a><a id="20457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20217" class="Function">stepEFntimes</a> <a id="20470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20375" class="Bound">oldLedger</a> <a id="20480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20385" class="Bound">ledgerstateexecfun</a> <a id="20499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20409" class="Bound">n</a><a id="20500" class="Symbol">)</a>
                     


<a id="20526" class="Comment">-- definition of stepEFntimes list</a>
<a id="stepEFntimesList"></a><a id="20561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20561" class="Function">stepEFntimesList</a> <a id="20578" class="Symbol">:</a> <a id="20580" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="20587" class="Symbol">→</a> <a id="20589" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a> <a id="20602" class="Symbol">→</a> <a id="20604" class="Symbol">(</a><a id="20605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20605" class="Bound">ntimes</a> <a id="20612" class="Symbol">:</a> <a id="20614" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20615" class="Symbol">)</a> <a id="20617" class="Symbol">→</a> <a id="20619" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="20624" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="20637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20561" class="Function">stepEFntimesList</a> <a id="20654" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20654" class="Bound">oldLedger</a> <a id="20664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20664" class="Bound">ledgerstateexecfun</a> <a id="20683" class="Number">0</a>
                 <a id="20702" class="Symbol">=</a> <a id="20704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20664" class="Bound">ledgerstateexecfun</a> <a id="20723" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="20725" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="20728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20561" class="Function">stepEFntimesList</a> <a id="20745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20745" class="Bound">oldLedger</a> <a id="20755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20755" class="Bound">ledgerstateexecfun</a> <a id="20774" class="Symbol">(</a><a id="20775" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20779" class="Bound">n</a><a id="20780" class="Symbol">)</a>
                 <a id="20799" class="Symbol">=</a> <a id="20801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20217" class="Function">stepEFntimes</a> <a id="20814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20745" class="Bound">oldLedger</a> <a id="20824" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20755" class="Bound">ledgerstateexecfun</a> <a id="20843" class="Symbol">(</a><a id="20844" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="20848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20779" class="Bound">n</a><a id="20849" class="Symbol">)</a>
                   <a id="20870" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="20872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20561" class="Function">stepEFntimesList</a> <a id="20889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20745" class="Bound">oldLedger</a> <a id="20899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20755" class="Bound">ledgerstateexecfun</a> <a id="20918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20779" class="Bound">n</a>

<a id="20921" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="20983" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>

<a id="refund"></a><a id="21070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21070" class="Function">refund</a> <a id="21077" class="Symbol">:</a> <a id="21079" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a> <a id="21092" class="Symbol">→</a>  <a id="21095" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="21108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21070" class="Function">refund</a> <a id="21115" class="Symbol">(</a><a id="21116" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="21124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21124" class="Bound">currentLedger</a> <a id="21138" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="21141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21141" class="Bound">initialAddr</a> <a id="21153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21153" class="Bound">lastCallAddr</a> <a id="21166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21166" class="Bound">calledAddr</a> <a id="21177" class="Symbol">(</a><a id="21178" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="21185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21185" class="Bound">cost</a> <a id="21190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21190" class="Bound">result</a><a id="21196" class="Symbol">)</a>
        <a id="21206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21206" class="Bound">gasLeft</a>  <a id="21215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21215" class="Bound">funNameevalState</a> <a id="21232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21232" class="Bound">msgevalState</a><a id="21244" class="Symbol">)</a>
            <a id="21258" class="Symbol">=</a> <a id="21260" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="21268" class="Symbol">(</a><a id="21269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="21284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21124" class="Bound">currentLedger</a> <a id="21298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21153" class="Bound">lastCallAddr</a> <a id="21311" class="Symbol">(</a><a id="21312" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="21321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="21327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21206" class="Bound">gasLeft</a><a id="21334" class="Symbol">))</a>
              <a id="21351" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="21354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21141" class="Bound">initialAddr</a> <a id="21366" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21153" class="Bound">lastCallAddr</a> <a id="21379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21166" class="Bound">calledAddr</a> <a id="21390" class="Symbol">(</a><a id="21391" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="21398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21185" class="Bound">cost</a> <a id="21403" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21190" class="Bound">result</a><a id="21409" class="Symbol">)</a>
               <a id="21426" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21206" class="Bound">gasLeft</a>  
               <a id="21451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21215" class="Bound">funNameevalState</a> <a id="21468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21232" class="Bound">msgevalState</a>
<a id="21481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21070" class="CatchallClause Function">refund</a><a id="21487" class="CatchallClause"> </a><a id="21488" class="CatchallClause Symbol">(</a><a id="21489" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="21496" class="CatchallClause"> </a><a id="21497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21497" class="CatchallClause Bound">currentLedger</a><a id="21510" class="CatchallClause"> </a><a id="21511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21511" class="CatchallClause Bound">executionStack</a><a id="21525" class="CatchallClause"> </a><a id="21526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21526" class="CatchallClause Bound">initialAddr</a><a id="21537" class="CatchallClause"> </a><a id="21538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21538" class="CatchallClause Bound">lastCallAddr</a><a id="21550" class="CatchallClause"> </a><a id="21551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21551" class="CatchallClause Bound">calledAddr</a>
       <a id="21569" class="CatchallClause Symbol">(</a><a id="21570" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="CatchallClause InductiveConstructor">error</a><a id="21575" class="CatchallClause"> </a><a id="21576" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21576" class="CatchallClause Bound">errorMsg</a><a id="21584" class="CatchallClause"> </a><a id="21585" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21585" class="CatchallClause Bound">debugInfo</a><a id="21594" class="CatchallClause Symbol">)</a><a id="21595" class="CatchallClause"> </a><a id="21596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21596" class="CatchallClause Bound">gasLeft</a><a id="21603" class="CatchallClause">  </a><a id="21605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21605" class="CatchallClause Bound">funNameevalState</a><a id="21621" class="CatchallClause"> </a><a id="21622" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21622" class="CatchallClause Bound">msgevalState</a><a id="21634" class="CatchallClause Symbol">)</a>
            <a id="21648" class="Symbol">=</a> <a id="21650" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="21658" class="Symbol">(</a><a id="21659" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="21674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21497" class="Bound">currentLedger</a>  <a id="21689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21538" class="Bound">lastCallAddr</a> <a id="21702" class="Symbol">(</a><a id="21703" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="21712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="21718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21596" class="Bound">gasLeft</a><a id="21725" class="Symbol">))</a>
              <a id="21742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21511" class="Bound">executionStack</a> <a id="21757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21526" class="Bound">initialAddr</a> <a id="21769" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21538" class="Bound">lastCallAddr</a> <a id="21782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21551" class="Bound">calledAddr</a>
              <a id="21807" class="Symbol">(</a><a id="21808" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="InductiveConstructor">error</a> <a id="21814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21576" class="Bound">errorMsg</a> <a id="21823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21585" class="Bound">debugInfo</a><a id="21832" class="Symbol">)</a> <a id="21834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21596" class="Bound">gasLeft</a> 
               <a id="21858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21605" class="Bound">funNameevalState</a> <a id="21875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21622" class="Bound">msgevalState</a>
<a id="21888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21070" class="CatchallClause Function">refund</a><a id="21894" class="CatchallClause"> </a><a id="21895" class="CatchallClause Symbol">(</a><a id="21896" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="21903" class="CatchallClause"> </a><a id="21904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21904" class="CatchallClause Bound">ledger</a><a id="21910" class="CatchallClause"> </a><a id="21911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21911" class="CatchallClause Bound">executionStack</a><a id="21925" class="CatchallClause"> </a><a id="21926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21926" class="CatchallClause Bound">initialAddr</a><a id="21937" class="CatchallClause"> </a><a id="21938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21938" class="CatchallClause Bound">lastCallAddr</a><a id="21950" class="CatchallClause"> </a><a id="21951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21951" class="CatchallClause Bound">calledAddr</a>
        <a id="21970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21970" class="CatchallClause Bound">nextstep</a><a id="21978" class="CatchallClause"> </a><a id="21979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21979" class="CatchallClause Bound">gasLeft</a><a id="21986" class="CatchallClause">  </a><a id="21988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21988" class="CatchallClause Bound">funNameevalState</a><a id="22004" class="CatchallClause"> </a><a id="22005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22005" class="CatchallClause Bound">msgevalState</a><a id="22017" class="CatchallClause Symbol">)</a>
            <a id="22031" class="Symbol">=</a> <a id="22033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19865" class="Function">stepEFwithGasError</a> <a id="22052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21904" class="Bound">ledger</a> <a id="22059" class="Symbol">(</a><a id="22060" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="22068" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21904" class="Bound">ledger</a> <a id="22075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21911" class="Bound">executionStack</a>
              <a id="22104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21926" class="Bound">initialAddr</a> <a id="22116" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21938" class="Bound">lastCallAddr</a> <a id="22129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21951" class="Bound">calledAddr</a> <a id="22140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21970" class="Bound">nextstep</a> <a id="22149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21979" class="Bound">gasLeft</a>
                <a id="22173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21988" class="Bound">funNameevalState</a> <a id="22190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22005" class="Bound">msgevalState</a><a id="22202" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="22206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22206" class="Function">stepEFntimesWithRefund</a> <a id="22229" class="Symbol">:</a> <a id="22231" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="22238" class="Symbol">→</a> <a id="22240" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a> <a id="22253" class="Symbol">→</a> <a id="22255" class="Symbol">(</a><a id="22256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22256" class="Bound">ntimes</a> <a id="22263" class="Symbol">:</a> <a id="22265" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="22266" class="Symbol">)</a> <a id="22268" class="Symbol">→</a> <a id="22270" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="22283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22206" class="Function">stepEFntimesWithRefund</a> <a id="22306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22306" class="Bound">oldLedger</a> <a id="22316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22316" class="Bound">ledgerstateexecfun</a> <a id="22335" class="Number">0</a>
                       <a id="22360" class="Symbol">=</a> <a id="22362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22316" class="Bound">ledgerstateexecfun</a>
<a id="22381" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22206" class="Function">stepEFntimesWithRefund</a> <a id="22404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22404" class="Bound">oldLedger</a> <a id="22414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22414" class="Bound">ledgerstateexecfun</a> <a id="22433" class="Symbol">(</a><a id="22434" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="22438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22438" class="Bound">n</a><a id="22439" class="Symbol">)</a>
                       <a id="22464" class="Symbol">=</a> <a id="22466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21070" class="Function">refund</a> <a id="22473" class="Symbol">(</a><a id="22474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20217" class="Function">stepEFntimes</a> <a id="22487" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22404" class="Bound">oldLedger</a> <a id="22497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22414" class="Bound">ledgerstateexecfun</a> <a id="22516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22438" class="Bound">n</a><a id="22517" class="Symbol">)</a>


<a id="22521" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="22601" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="22639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22639" class="Function">stepLedgerFunntimesAux</a> <a id="22662" class="Symbol">:</a> <a id="22664" class="Symbol">(</a><a id="22665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22665" class="Bound">ledger</a> <a id="22672" class="Symbol">:</a> <a id="22674" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="22680" class="Symbol">)</a> <a id="22682" class="Symbol">→</a> <a id="22684" class="Symbol">(</a><a id="22685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22685" class="Bound">initialAddr</a> <a id="22697" class="Symbol">:</a> <a id="22699" href="basicDataStructure.html#387" class="Function">Address</a><a id="22706" class="Symbol">)</a> <a id="22708" class="Symbol">→</a> <a id="22710" class="Symbol">(</a><a id="22711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22711" class="Bound">lastCallAddr</a> <a id="22724" class="Symbol">:</a> <a id="22726" href="basicDataStructure.html#387" class="Function">Address</a><a id="22733" class="Symbol">)</a> <a id="22735" class="Symbol">→</a> <a id="22737" class="Symbol">(</a><a id="22738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22738" class="Bound">calledAddr</a> <a id="22749" class="Symbol">:</a> <a id="22751" href="basicDataStructure.html#387" class="Function">Address</a><a id="22758" class="Symbol">)</a> <a id="22760" class="Symbol">→</a> <a id="22762" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                        <a id="22799" class="Symbol">→</a> <a id="22801" href="basicDataStructure.html#488" class="Datatype">Msg</a>  <a id="22806" class="Symbol">→</a> <a id="22808" class="Symbol">(</a><a id="22809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22809" class="Bound">gascost</a> <a id="22817" class="Symbol">:</a> <a id="22819" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="22820" class="Symbol">)</a>  <a id="22823" class="Symbol">→</a> <a id="22825" class="Symbol">(</a><a id="22826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22826" class="Bound">ntimes</a> <a id="22833" class="Symbol">:</a> <a id="22835" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="22836" class="Symbol">)</a>
                        <a id="22862" class="Symbol">→</a> <a id="22864" class="Symbol">(</a><a id="22865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22865" class="Bound">cp</a>  <a id="22869" class="Symbol">:</a> <a id="22871" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="22883" class="Symbol">(</a><a id="22884" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="22893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22809" class="Bound">gascost</a><a id="22906" class="Symbol">)</a> <a id="22908" class="Symbol">(</a><a id="22909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22665" class="Bound">ledger</a> <a id="22916" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22711" class="Bound">lastCallAddr</a> <a id="22929" class="Symbol">.</a><a id="22930" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="22936" class="Symbol">))</a>
                        <a id="22963" class="Symbol">→</a> <a id="22965" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="22971" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="22984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22639" class="Function">stepLedgerFunntimesAux</a> <a id="23007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23007" class="Bound">ledger</a> <a id="23014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23014" class="Bound">initialAddr</a> <a id="23026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23026" class="Bound">lastCallAddr</a> <a id="23039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23039" class="Bound">calledAddr</a> <a id="23050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23050" class="Bound">funname</a> <a id="23058" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23058" class="Bound">msg</a> <a id="23062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23062" class="Bound">gascost</a>  <a id="23071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23071" class="Bound">ntimes</a>  <a id="23079" class="Symbol">(</a><a id="23080" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="23084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23084" class="Bound">leqpro</a><a id="23090" class="Symbol">)</a>
                             <a id="23121" class="Symbol">=</a> <a id="23123" class="Keyword">let</a>
                                 <a id="23160" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23160" class="Bound">ledgerDeducted</a> <a id="23175" class="Symbol">:</a> <a id="23177" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
                                 <a id="23217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23160" class="Bound">ledgerDeducted</a> <a id="23232" class="Symbol">=</a> <a id="23234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="23254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23007" class="Bound">ledger</a> <a id="23261" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23026" class="Bound">lastCallAddr</a> <a id="23274" class="Symbol">(</a><a id="23275" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="23284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="23290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23062" class="Bound">gascost</a><a id="23297" class="Symbol">)</a> <a id="23299" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23084" class="Bound">leqpro</a>
                               <a id="23337" class="Keyword">in</a> <a id="23340" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="23345" class="Symbol">(</a><a id="23346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20217" class="Function">stepEFntimes</a> <a id="23359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23160" class="Bound">ledgerDeducted</a>
                               <a id="23405" class="Symbol">(</a><a id="23406" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="23414" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23160" class="Bound">ledgerDeducted</a> <a id="23429" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="23432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23014" class="Bound">initialAddr</a> <a id="23444" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23026" class="Bound">lastCallAddr</a> <a id="23457" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23039" class="Bound">calledAddr</a>
                               <a id="23499" class="Symbol">(</a><a id="23500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23160" class="Bound">ledgerDeducted</a> <a id="23515" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23039" class="Bound">calledAddr</a> <a id="23526" class="Symbol">.</a><a id="23527" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="23531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23050" class="Bound">funname</a> <a id="23539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23058" class="Bound">msg</a><a id="23542" class="Symbol">)</a>
                               <a id="23575" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23062" class="Bound">gascost</a> <a id="23583" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23050" class="Bound">funname</a> <a id="23591" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23058" class="Bound">msg</a><a id="23594" class="Symbol">)</a>
                               <a id="23627" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23071" class="Bound">ntimes</a><a id="23633" class="Symbol">)</a>
                              
<a id="23666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22639" class="Function">stepLedgerFunntimesAux</a> <a id="23689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23689" class="Bound">ledger</a> <a id="23696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23696" class="Bound">initialAddr</a> <a id="23708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23708" class="Bound">lastCallAddr</a> <a id="23721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23721" class="Bound">calledAddr</a> <a id="23732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23732" class="Bound">funname</a> <a id="23740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23740" class="Bound">msg</a> <a id="23744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23744" class="Bound">gascost</a> <a id="23752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23752" class="Bound">ntimes</a> <a id="23759" class="Symbol">(</a><a id="23760" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="23768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23768" class="Bound">greaterpro</a><a id="23778" class="Symbol">)</a>
                             <a id="23809" class="Symbol">=</a> <a id="23811" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

<a id="23820" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="23904" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="23997" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="24073" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="24166" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="24265" class="Comment">-- NNN    so return type  should be Maybe StateExecFun</a>

<a id="stepLedgerFunntimes"></a><a id="24321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24321" class="Function">stepLedgerFunntimes</a> <a id="24341" class="Symbol">:</a> <a id="24343" class="Symbol">(</a><a id="24344" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24344" class="Bound">ledger</a> <a id="24351" class="Symbol">:</a> <a id="24353" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="24359" class="Symbol">)</a>
                      <a id="24383" class="Symbol">→</a> <a id="24385" class="Symbol">(</a><a id="24386" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24386" class="Bound">initialAddr</a> <a id="24398" class="Symbol">:</a> <a id="24400" href="basicDataStructure.html#387" class="Function">Address</a><a id="24407" class="Symbol">)</a>
                      <a id="24431" class="Symbol">→</a> <a id="24433" class="Symbol">(</a><a id="24434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24434" class="Bound">lastCallAddr</a> <a id="24447" class="Symbol">:</a> <a id="24449" href="basicDataStructure.html#387" class="Function">Address</a><a id="24456" class="Symbol">)</a>
                      <a id="24480" class="Symbol">→</a> <a id="24482" class="Symbol">(</a><a id="24483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24483" class="Bound">calledAddr</a> <a id="24494" class="Symbol">:</a> <a id="24496" href="basicDataStructure.html#387" class="Function">Address</a><a id="24503" class="Symbol">)</a>
                      <a id="24527" class="Symbol">→</a> <a id="24529" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="24564" class="Symbol">→</a> <a id="24566" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                      <a id="24592" class="Symbol">→</a> <a id="24594" class="Symbol">(</a><a id="24595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24595" class="Bound">gasreserved</a> <a id="24607" class="Symbol">:</a> <a id="24609" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="24610" class="Symbol">)</a>
                      <a id="24634" class="Symbol">→</a> <a id="24636" class="Symbol">(</a><a id="24637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24637" class="Bound">ntimes</a> <a id="24644" class="Symbol">:</a> <a id="24646" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="24647" class="Symbol">)</a>
                      <a id="24671" class="Symbol">→</a> <a id="24673" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="24679" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a>
<a id="24692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24321" class="Function">stepLedgerFunntimes</a> <a id="24712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24712" class="Bound">ledger</a> <a id="24719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24719" class="Bound">initialAddr</a> <a id="24731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24731" class="Bound">lastCallAddr</a> <a id="24744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24744" class="Bound">calledAddr</a> <a id="24755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24755" class="Bound">funname</a> <a id="24763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24763" class="Bound">msg</a> <a id="24767" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24767" class="Bound">gasreserved</a>  <a id="24780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24780" class="Bound">ntimes</a>
                     <a id="24808" class="Symbol">=</a> <a id="24810" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22639" class="Function">stepLedgerFunntimesAux</a> <a id="24833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24712" class="Bound">ledger</a> <a id="24840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24719" class="Bound">initialAddr</a> <a id="24852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24731" class="Bound">lastCallAddr</a> <a id="24865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24744" class="Bound">calledAddr</a>
                       <a id="24899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24755" class="Bound">funname</a> <a id="24907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24763" class="Bound">msg</a> <a id="24911" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24767" class="Bound">gasreserved</a>  <a id="24924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24780" class="Bound">ntimes</a>
                       <a id="24954" class="Symbol">(</a><a id="24955" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="24966" class="Symbol">(</a><a id="24967" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="24976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="24982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24767" class="Bound">gasreserved</a><a id="24993" class="Symbol">)</a> <a id="24995" class="Symbol">(</a><a id="24996" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24712" class="Bound">ledger</a> <a id="25003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24731" class="Bound">lastCallAddr</a> <a id="25016" class="Symbol">.</a><a id="25017" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="25023" class="Symbol">))</a>


<a id="25028" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="25040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="25067" class="Symbol">:</a> <a id="25069" class="Symbol">(</a><a id="25070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25070" class="Bound">ledger</a> <a id="25077" class="Symbol">:</a> <a id="25079" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="25085" class="Symbol">)</a>
                           <a id="25114" class="Symbol">→</a> <a id="25116" class="Symbol">(</a><a id="25117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25117" class="Bound">initialAddr</a> <a id="25129" class="Symbol">:</a> <a id="25131" href="basicDataStructure.html#387" class="Function">Address</a><a id="25138" class="Symbol">)</a>
                           <a id="25167" class="Symbol">→</a> <a id="25169" class="Symbol">(</a><a id="25170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25170" class="Bound">lastCallAddr</a> <a id="25183" class="Symbol">:</a> <a id="25185" href="basicDataStructure.html#387" class="Function">Address</a><a id="25192" class="Symbol">)</a>
                           <a id="25221" class="Symbol">→</a> <a id="25223" class="Symbol">(</a><a id="25224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25224" class="Bound">calledAddr</a> <a id="25235" class="Symbol">:</a> <a id="25237" href="basicDataStructure.html#387" class="Function">Address</a><a id="25244" class="Symbol">)</a>
                           <a id="25273" class="Symbol">→</a> <a id="25275" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                           <a id="25315" class="Symbol">→</a> <a id="25317" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                           <a id="25348" class="Symbol">→</a> <a id="25350" class="Symbol">(</a><a id="25351" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25351" class="Bound">gasreserved</a> <a id="25363" class="Symbol">:</a> <a id="25365" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25366" class="Symbol">)</a>
                           <a id="25395" class="Symbol">→</a> <a id="25397" class="Symbol">(</a><a id="25398" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25398" class="Bound">ntimes</a> <a id="25405" class="Symbol">:</a> <a id="25407" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25408" class="Symbol">)</a>
                           <a id="25437" class="Symbol">→</a> <a id="25439" class="Symbol">(</a><a id="25440" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25440" class="Bound">cp</a>  <a id="25444" class="Symbol">:</a> <a id="25446" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="25458" class="Symbol">(</a><a id="25459" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25474" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25351" class="Bound">gasreserved</a><a id="25485" class="Symbol">)</a> <a id="25487" class="Symbol">(</a><a id="25488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25070" class="Bound">ledger</a> <a id="25495" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25170" class="Bound">lastCallAddr</a> <a id="25508" class="Symbol">.</a><a id="25509" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="25515" class="Symbol">))</a>
                           <a id="25545" class="Symbol">→</a> <a id="25547" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="25553" class="Symbol">(</a><a id="25554" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="25559" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="25571" class="Symbol">)</a>
<a id="25573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="25600" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25600" class="Bound">ledger</a> <a id="25607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25607" class="Bound">initialAddr</a> <a id="25619" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25619" class="Bound">lastCallAddr</a> <a id="25632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25632" class="Bound">calledAddr</a> <a id="25643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25643" class="Bound">funname</a> <a id="25651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25651" class="Bound">msg</a> <a id="25655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25655" class="Bound">gasreserved</a>  <a id="25668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25668" class="Bound">ntimes</a> <a id="25675" class="Symbol">(</a><a id="25676" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="25680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25680" class="Bound">leqpro</a><a id="25686" class="Symbol">)</a>
                            <a id="25716" class="Symbol">=</a> <a id="25718" class="Keyword">let</a>
                               <a id="25753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="25768" class="Symbol">:</a> <a id="25770" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
                               <a id="25808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="25823" class="Symbol">=</a> <a id="25825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="25845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25600" class="Bound">ledger</a> <a id="25852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25619" class="Bound">lastCallAddr</a> <a id="25865" class="Symbol">(</a><a id="25866" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25881" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25655" class="Bound">gasreserved</a><a id="25892" class="Symbol">)</a> <a id="25894" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25680" class="Bound">leqpro</a>
                            <a id="25929" class="Keyword">in</a>
                              <a id="25962" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="25967" class="Symbol">(</a><a id="25968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20561" class="Function">stepEFntimesList</a> <a id="25985" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a>
                                   <a id="26035" class="Symbol">(</a><a id="26036" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="26044" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="26059" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="26062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25607" class="Bound">initialAddr</a> <a id="26074" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25619" class="Bound">lastCallAddr</a> <a id="26087" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25632" class="Bound">calledAddr</a>
                                   <a id="26133" class="Symbol">(</a><a id="26134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25753" class="Bound">ledgerDeducted</a> <a id="26149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25632" class="Bound">calledAddr</a> <a id="26160" class="Symbol">.</a><a id="26161" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="26165" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25643" class="Bound">funname</a> <a id="26173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25651" class="Bound">msg</a><a id="26176" class="Symbol">)</a> <a id="26178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25655" class="Bound">gasreserved</a> <a id="26190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25643" class="Bound">funname</a> <a id="26198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25651" class="Bound">msg</a><a id="26201" class="Symbol">)</a> <a id="26203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25668" class="Bound">ntimes</a><a id="26209" class="Symbol">)</a>
<a id="26211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="26238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26238" class="Bound">ledger</a> <a id="26245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26245" class="Bound">initialAddr</a> <a id="26257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26257" class="Bound">lastCallAddr</a> <a id="26270" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26270" class="Bound">calledAddr</a> <a id="26281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26281" class="Bound">funname</a> <a id="26289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26289" class="Bound">msg</a> <a id="26293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26293" class="Bound">gasreserved</a> <a id="26305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26305" class="Bound">ntimes</a> <a id="26312" class="Symbol">(</a><a id="26313" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="26321" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26321" class="Bound">greaterpro</a><a id="26331" class="Symbol">)</a>
                            <a id="26361" class="Symbol">=</a> <a id="26363" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="26373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26373" class="Function">stepLedgerFunntimesList</a> <a id="26397" class="Symbol">:</a> <a id="26399" class="Symbol">(</a><a id="26400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26400" class="Bound">ledger</a> <a id="26407" class="Symbol">:</a> <a id="26409" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="26415" class="Symbol">)</a>
                          <a id="26443" class="Symbol">→</a> <a id="26445" class="Symbol">(</a><a id="26446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26446" class="Bound">initialAddr</a> <a id="26458" class="Symbol">:</a> <a id="26460" href="basicDataStructure.html#387" class="Function">Address</a><a id="26467" class="Symbol">)</a>
                          <a id="26495" class="Symbol">→</a> <a id="26497" class="Symbol">(</a><a id="26498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26498" class="Bound">lastCallAddr</a> <a id="26511" class="Symbol">:</a> <a id="26513" href="basicDataStructure.html#387" class="Function">Address</a><a id="26520" class="Symbol">)</a>
                          <a id="26548" class="Symbol">→</a> <a id="26550" class="Symbol">(</a><a id="26551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26551" class="Bound">calledAddr</a> <a id="26562" class="Symbol">:</a> <a id="26564" href="basicDataStructure.html#387" class="Function">Address</a><a id="26571" class="Symbol">)</a>
                          <a id="26599" class="Symbol">→</a> <a id="26601" class="Symbol">(</a><a id="26602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26602" class="Bound">funname</a> <a id="26610" class="Symbol">:</a> <a id="26612" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="26624" class="Symbol">)</a>
                          <a id="26652" class="Symbol">→</a> <a id="26654" class="Symbol">(</a><a id="26655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26655" class="Bound">msg</a> <a id="26659" class="Symbol">:</a> <a id="26661" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="26664" class="Symbol">)</a>
                          <a id="26692" class="Symbol">→</a> <a id="26694" class="Symbol">(</a><a id="26695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26695" class="Bound">gasreserved</a> <a id="26707" class="Symbol">:</a> <a id="26709" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="26710" class="Symbol">)</a>
                          <a id="26738" class="Symbol">→</a> <a id="26740" class="Symbol">(</a><a id="26741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26741" class="Bound">ntimes</a> <a id="26748" class="Symbol">:</a> <a id="26750" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="26751" class="Symbol">)</a>
                          <a id="26779" class="Symbol">→</a> <a id="26781" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="26787" class="Symbol">(</a><a id="26788" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="26793" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="26805" class="Symbol">)</a>
<a id="26807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26373" class="Function">stepLedgerFunntimesList</a> <a id="26831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26831" class="Bound">ledger</a> <a id="26838" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26838" class="Bound">initialAddr</a> <a id="26850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26850" class="Bound">lastCallAddr</a> <a id="26863" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26863" class="Bound">calledAddr</a> <a id="26874" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26874" class="Bound">funname</a> <a id="26882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26882" class="Bound">msg</a> <a id="26886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26886" class="Bound">gasreserved</a>  <a id="26899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26899" class="Bound">ntimes</a>
                        <a id="26930" class="Symbol">=</a> <a id="26932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25040" class="Function">stepLedgerFunntimesListAux</a> <a id="26959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26831" class="Bound">ledger</a> <a id="26966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26838" class="Bound">initialAddr</a> <a id="26978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26850" class="Bound">lastCallAddr</a> <a id="26991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26863" class="Bound">calledAddr</a> <a id="27002" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26874" class="Bound">funname</a> <a id="27010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26882" class="Bound">msg</a> <a id="27014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26886" class="Bound">gasreserved</a>  <a id="27027" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26899" class="Bound">ntimes</a>
                       <a id="27057" class="Symbol">(</a><a id="27058" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="27069" class="Symbol">(</a><a id="27070" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="27079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26886" class="Bound">gasreserved</a><a id="27096" class="Symbol">)</a> <a id="27098" class="Symbol">(</a><a id="27099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26831" class="Bound">ledger</a> <a id="27106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26850" class="Bound">lastCallAddr</a> <a id="27119" class="Symbol">.</a><a id="27120" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="27126" class="Symbol">))</a>




<a id="27133" class="Comment">-- the below is the final step and we use it to solve the return cost</a>
<a id="evaluateAuxfinal0&#39;"></a><a id="27203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27203" class="Function">evaluateAuxfinal0&#39;</a> <a id="27222" class="Symbol">:</a> <a id="27224" class="Symbol">(</a><a id="27225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27225" class="Bound">oldLedger</a> <a id="27235" class="Symbol">:</a> <a id="27237" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="27243" class="Symbol">)</a>
                          <a id="27271" class="Symbol">→</a> <a id="27273" class="Symbol">(</a><a id="27274" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27274" class="Bound">currentLedger</a> <a id="27288" class="Symbol">:</a> <a id="27290" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="27296" class="Symbol">)</a>
                          <a id="27324" class="Symbol">→</a> <a id="27326" class="Symbol">(</a><a id="27327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27327" class="Bound">initialAddr</a> <a id="27339" class="Symbol">:</a> <a id="27341" href="basicDataStructure.html#387" class="Function">Address</a><a id="27348" class="Symbol">)</a>
                          <a id="27376" class="Symbol">→</a> <a id="27378" class="Symbol">(</a><a id="27379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27379" class="Bound">lastCallAddr</a> <a id="27392" class="Symbol">:</a> <a id="27394" href="basicDataStructure.html#387" class="Function">Address</a><a id="27401" class="Symbol">)</a>
                          <a id="27429" class="Symbol">→</a> <a id="27431" class="Symbol">(</a><a id="27432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27432" class="Bound">calledAddr</a> <a id="27443" class="Symbol">:</a> <a id="27445" href="basicDataStructure.html#387" class="Function">Address</a><a id="27452" class="Symbol">)</a>
                          <a id="27480" class="Symbol">→</a> <a id="27482" class="Symbol">(</a><a id="27483" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27483" class="Bound">cost</a> <a id="27488" class="Symbol">:</a> <a id="27490" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="27491" class="Symbol">)</a>
                          <a id="27519" class="Symbol">→</a> <a id="27521" class="Symbol">(</a><a id="27522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27522" class="Bound">returnvalue</a> <a id="27534" class="Symbol">:</a> <a id="27536" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="27539" class="Symbol">)</a>
                          <a id="27567" class="Symbol">→</a> <a id="27569" class="Symbol">(</a><a id="27570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27570" class="Bound">gasLeft</a> <a id="27578" class="Symbol">:</a> <a id="27580" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="27581" class="Symbol">)</a>
                          <a id="27609" class="Symbol">→</a> <a id="27611" class="Symbol">(</a><a id="27612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27612" class="Bound">funNameevalState</a> <a id="27629" class="Symbol">:</a> <a id="27631" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="27643" class="Symbol">)</a>
                          <a id="27671" class="Symbol">→</a> <a id="27673" class="Symbol">(</a><a id="27674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27674" class="Bound">msgevalState</a> <a id="27687" class="Symbol">:</a> <a id="27689" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="27692" class="Symbol">)</a>
                          <a id="27720" class="Symbol">→</a> <a id="27722" class="Symbol">(</a><a id="27723" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27723" class="Bound">cp</a>  <a id="27727" class="Symbol">:</a> <a id="27729" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="27741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27483" class="Bound">cost</a> <a id="27746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27570" class="Bound">gasLeft</a><a id="27753" class="Symbol">)</a>
                          <a id="27781" class="Symbol">→</a> <a id="27783" class="Symbol">(</a><a id="27784" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="27791" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="27793" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="27810" class="Symbol">)</a>
<a id="27812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27203" class="Function">evaluateAuxfinal0&#39;</a> <a id="27831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27831" class="Bound">oldLedger</a> <a id="27841" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27841" class="Bound">currentLedger</a> <a id="27855" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27855" class="Bound">initialAddr</a> <a id="27867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27867" class="Bound">lastCallAddr</a> <a id="27880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27880" class="Bound">calledAddr</a> <a id="27891" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27891" class="Bound">cost</a> <a id="27896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27896" class="Bound">ms</a> <a id="27899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27899" class="Bound">gasLeft</a> <a id="27907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27907" class="Bound">funNameevalState</a> <a id="27924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27924" class="Bound">msgevalState</a> <a id="27937" class="Symbol">(</a><a id="27938" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="27942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27942" class="Bound">x</a><a id="27943" class="Symbol">)</a>
                               <a id="27976" class="Symbol">=</a>  <a id="27979" class="Symbol">(</a><a id="27980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="27995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27841" class="Bound">currentLedger</a> <a id="28009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27855" class="Bound">initialAddr</a>
                                   <a id="28056" class="Symbol">(</a><a id="28057" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="28066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="28072" class="Symbol">(</a><a id="28073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27899" class="Bound">gasLeft</a> <a id="28081" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="28083" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27891" class="Bound">cost</a><a id="28087" class="Symbol">)))</a> <a id="28091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="28094" class="Symbol">(</a><a id="28095" href="basicDataStructure.html#1560" class="InductiveConstructor">theMsg</a> <a id="28102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27896" class="Bound">ms</a> <a id="28105" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="28107" class="Symbol">(</a><a id="28108" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27899" class="Bound">gasLeft</a> <a id="28116" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="28118" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27891" class="Bound">cost</a><a id="28122" class="Symbol">)</a> <a id="28124" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="28127" class="Symbol">)</a>

<a id="28130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27203" class="Function">evaluateAuxfinal0&#39;</a> <a id="28149" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28149" class="Bound">oldLedger</a> <a id="28159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28159" class="Bound">currentLedger</a> <a id="28173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28173" class="Bound">initialAddr</a> <a id="28185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28185" class="Bound">lastCallAddr</a> <a id="28198" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28198" class="Bound">calledAddr</a> <a id="28209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28209" class="Bound">cost</a> <a id="28214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28214" class="Bound">returnvalue</a> <a id="28226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28226" class="Bound">gasLeft</a> <a id="28234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28234" class="Bound">funNameevalState</a> <a id="28251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28251" class="Bound">msgevalState</a> <a id="28264" class="Symbol">(</a><a id="28265" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="28273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28273" class="Bound">x</a><a id="28274" class="Symbol">)</a>
                               <a id="28307" class="Symbol">=</a> <a id="28309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28149" class="Bound">oldLedger</a> <a id="28319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="28322" class="Symbol">((</a><a id="28324" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="28328" class="Symbol">(</a><a id="28329" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="28336" class="String">&quot; Out Of Gass &quot;</a><a id="28351" class="Symbol">)</a> <a id="28353" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="28355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28185" class="Bound">lastCallAddr</a> <a id="28368" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="28371" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28173" class="Bound">initialAddr</a> <a id="28383" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="28385" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28234" class="Bound">funNameevalState</a> <a id="28402" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="28404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28251" class="Bound">msgevalState</a> <a id="28417" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="28419" class="Symbol">)</a> <a id="28421" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="28423" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28226" class="Bound">gasLeft</a> <a id="28431" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="28434" class="Symbol">)</a>

<a id="28437" class="Keyword">mutual</a>

  <a id="evaluateTerminatingAuxfinal0"></a><a id="28447" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28447" class="Function">evaluateTerminatingAuxfinal0</a> <a id="28476" class="Symbol">:</a> <a id="28478" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
                                    <a id="28521" class="Symbol">→</a> <a id="28523" class="Symbol">(</a><a id="28524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28524" class="Bound">stateEF</a> <a id="28532" class="Symbol">:</a> <a id="28534" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="28546" class="Symbol">)</a>
                                    <a id="28584" class="Symbol">→</a> <a id="28586" class="Symbol">(</a><a id="28587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28587" class="Bound">numberOfSteps</a> <a id="28601" class="Symbol">:</a> <a id="28603" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="28604" class="Symbol">)</a>
                                    <a id="28642" class="Symbol">→</a> <a id="28644" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="28663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28524" class="Bound">stateEF</a> <a id="28671" href="libraries.natCompare.html#436" class="Function Operator">≦r</a> <a id="28674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28587" class="Bound">numberOfSteps</a>
                                    <a id="28724" class="Symbol">→</a> <a id="28726" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="28733" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="28735" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a>
  <a id="28755" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28447" class="Function">evaluateTerminatingAuxfinal0</a> <a id="28784" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28784" class="Bound">oldLedger</a> <a id="28794" class="Symbol">(</a><a id="28795" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="28803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28803" class="Bound">currentLedger</a> <a id="28817" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="28820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28820" class="Bound">initialAddr</a> <a id="28832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28832" class="Bound">lastCallAddr</a> <a id="28845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28845" class="Bound">calledAddr</a> <a id="28856" class="Symbol">(</a><a id="28857" href="Complex-Model.ccomand.ccommands-cresponse.html#1558" class="InductiveConstructor">return</a> <a id="28864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28864" class="Bound">cost</a> <a id="28869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28869" class="Bound">ms</a><a id="28871" class="Symbol">)</a>
                              <a id="28903" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28903" class="Bound">gasLeft</a>  <a id="28912" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28912" class="Bound">funNameevalState</a> <a id="28929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28929" class="Bound">msgevalState</a><a id="28941" class="Symbol">)</a>
                              <a id="28973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28973" class="Bound">numberOfSteps</a> <a id="28987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28987" class="Bound">numberOfStepsLessGas</a>
                              <a id="29038" class="Symbol">=</a> <a id="29040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27203" class="Function">evaluateAuxfinal0&#39;</a> <a id="29059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28784" class="Bound">oldLedger</a> <a id="29069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28803" class="Bound">currentLedger</a>
                                  <a id="29117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28820" class="Bound">initialAddr</a> <a id="29129" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28832" class="Bound">lastCallAddr</a> <a id="29142" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28845" class="Bound">calledAddr</a> <a id="29153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28864" class="Bound">cost</a> <a id="29158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28869" class="Bound">ms</a> <a id="29161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28903" class="Bound">gasLeft</a> <a id="29169" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28912" class="Bound">funNameevalState</a> <a id="29186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28929" class="Bound">msgevalState</a> <a id="29199" class="Symbol">(</a><a id="29200" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="29211" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28864" class="Bound">cost</a> <a id="29216" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28903" class="Bound">gasLeft</a><a id="29223" class="Symbol">)</a>

  <a id="29228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28447" class="CatchallClause Function">evaluateTerminatingAuxfinal0</a><a id="29256" class="CatchallClause"> </a><a id="29257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29257" class="CatchallClause Bound">oldLedger</a><a id="29266" class="CatchallClause"> </a><a id="29267" class="CatchallClause Symbol">(</a><a id="29268" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="29275" class="CatchallClause"> </a><a id="29276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29276" class="CatchallClause Bound">currentLedger</a><a id="29289" class="CatchallClause"> </a><a id="29290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29290" class="CatchallClause Bound">s</a><a id="29291" class="CatchallClause"> </a><a id="29292" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29292" class="CatchallClause Bound">initialAddr</a><a id="29303" class="CatchallClause"> </a><a id="29304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29304" class="CatchallClause Bound">lastCallAddr</a><a id="29316" class="CatchallClause"> </a><a id="29317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29317" class="CatchallClause Bound">calledAddr</a><a id="29327" class="CatchallClause"> </a><a id="29328" class="CatchallClause Symbol">(</a><a id="29329" href="Complex-Model.ccomand.ccommands-cresponse.html#1599" class="CatchallClause InductiveConstructor">error</a><a id="29334" class="CatchallClause"> </a><a id="29335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29335" class="CatchallClause Bound">msgg</a><a id="29339" class="CatchallClause"> </a><a id="29340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29340" class="CatchallClause Bound">debugInfo</a><a id="29349" class="CatchallClause Symbol">)</a>
                               <a id="29382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29382" class="CatchallClause Bound">gasLeft</a><a id="29389" class="CatchallClause">  </a><a id="29391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29391" class="CatchallClause Bound">funNameevalState</a><a id="29407" class="CatchallClause"> </a><a id="29408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29408" class="CatchallClause Bound">msgevalState</a><a id="29420" class="CatchallClause Symbol">)</a>
                               <a id="29453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29453" class="CatchallClause Bound">numberOfSteps</a><a id="29466" class="CatchallClause"> </a><a id="29467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29467" class="CatchallClause Bound">numberOfStepsLessGas</a>
                            <a id="29516" class="Symbol">=</a> <a id="29518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3398" class="Function">addWeiToLedger</a> <a id="29533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29257" class="Bound">oldLedger</a> <a id="29543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29292" class="Bound">initialAddr</a> <a id="29555" class="Symbol">(</a><a id="29556" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="29565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="29571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29382" class="Bound">gasLeft</a><a id="29578" class="Symbol">)</a> <a id="29580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a>
                              <a id="29613" class="Symbol">(</a><a id="29614" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="29618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29335" class="Bound">msgg</a> <a id="29623" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a>  <a id="29626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29304" class="Bound">lastCallAddr</a> <a id="29639" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="29642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29292" class="Bound">initialAddr</a> <a id="29654" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="29656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29391" class="Bound">funNameevalState</a> <a id="29673" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="29675" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29408" class="Bound">msgevalState</a> <a id="29688" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a> <a id="29691" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="29693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29382" class="Bound">gasLeft</a> <a id="29701" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="29704" class="Symbol">)</a>
  <a id="29708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28447" class="CatchallClause Function">evaluateTerminatingAuxfinal0</a><a id="29736" class="CatchallClause"> </a><a id="29737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29737" class="CatchallClause Bound">oldLedger</a><a id="29746" class="CatchallClause"> </a><a id="29747" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29747" class="CatchallClause Bound">evals</a><a id="29752" class="CatchallClause"> </a><a id="29753" class="CatchallClause Symbol">(</a><a id="29754" href="Agda.Builtin.Nat.html#223" class="CatchallClause InductiveConstructor">suc</a><a id="29757" class="CatchallClause"> </a><a id="29758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29758" class="CatchallClause Bound">numberOfSteps</a><a id="29771" class="CatchallClause Symbol">)</a><a id="29772" class="CatchallClause"> </a><a id="29773" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29773" class="CatchallClause Bound">numberOfStepsLessGas</a>
                             <a id="29823" class="Symbol">=</a> <a id="29825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30396" class="Function">evaluateTerminatingAuxfinal0aux</a> <a id="29857" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29737" class="Bound">oldLedger</a> <a id="29867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29747" class="Bound">evals</a> <a id="29873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29758" class="Bound">numberOfSteps</a> <a id="29887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29773" class="Bound">numberOfStepsLessGas</a>
                               <a id="29939" class="Symbol">(</a><a id="29940" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="29951" class="Symbol">(</a><a id="29952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="29968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29747" class="Bound">evals</a><a id="29973" class="Symbol">)</a> <a id="29975" class="Symbol">(</a><a id="29976" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="29995" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#29747" class="Bound">evals</a><a id="30000" class="Symbol">))</a>

  <a id="30006" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28447" class="CatchallClause Function">evaluateTerminatingAuxfinal0</a><a id="30034" class="CatchallClause"> </a><a id="30035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30035" class="CatchallClause Bound">oldLedger</a>
                               <a id="30076" class="CatchallClause Symbol">(</a><a id="30077" href="libraries.Mainlibrary.html#2217" class="CatchallClause InductiveConstructor">stateEF</a><a id="30084" class="CatchallClause"> </a><a id="30085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30085" class="CatchallClause Bound">currentLedger</a><a id="30098" class="CatchallClause"> </a><a id="30099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30099" class="CatchallClause Bound">executionStack</a><a id="30113" class="CatchallClause"> </a><a id="30114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30114" class="CatchallClause Bound">initialAddr</a><a id="30125" class="CatchallClause"> </a><a id="30126" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30126" class="CatchallClause Bound">lastCallAddr</a><a id="30138" class="CatchallClause"> </a><a id="30139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30139" class="CatchallClause Bound">calledAddr</a><a id="30149" class="CatchallClause"> </a><a id="30150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30150" class="CatchallClause Bound">nextstep</a><a id="30158" class="CatchallClause"> </a><a id="30159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30159" class="CatchallClause Bound">gasLeft</a><a id="30166" class="CatchallClause"> </a><a id="30167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30167" class="CatchallClause Bound">funNameevalState</a><a id="30183" class="CatchallClause"> </a><a id="30184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30184" class="CatchallClause Bound">msgevalState</a><a id="30196" class="CatchallClause Symbol">)</a><a id="30197" class="CatchallClause"> </a><a id="30198" class="CatchallClause Number">0</a><a id="30199" class="CatchallClause"> </a><a id="30200" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30200" class="CatchallClause Bound">numberOfStepsLessGas</a>
                               <a id="30252" class="Symbol">=</a> <a id="30254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30035" class="Bound">oldLedger</a> <a id="30264" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a>  <a id="30268" class="Symbol">(</a><a id="30269" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="30273" href="basicDataStructure.html#727" class="InductiveConstructor">outOfGasError</a> <a id="30287" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="30289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30126" class="Bound">lastCallAddr</a> <a id="30302" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="30305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30114" class="Bound">initialAddr</a> <a id="30317" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="30319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30167" class="Bound">funNameevalState</a> <a id="30336" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="30338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30184" class="Bound">msgevalState</a> <a id="30351" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a> <a id="30354" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="30356" class="Number">0</a> <a id="30358" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="30361" class="Symbol">)</a>

                          <a id="30390" class="Comment">--</a>

  <a id="evaluateTerminatingAuxfinal0aux"></a><a id="30396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30396" class="Function">evaluateTerminatingAuxfinal0aux</a> <a id="30428" class="Symbol">:</a> <a id="30430" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
                                    <a id="30473" class="Symbol">→</a> <a id="30475" class="Symbol">(</a><a id="30476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30476" class="Bound">stateEF</a> <a id="30484" class="Symbol">:</a> <a id="30486" href="libraries.Mainlibrary.html#2178" class="Record">StateExecFun</a><a id="30498" class="Symbol">)</a>
                                    <a id="30536" class="Symbol">→</a> <a id="30538" class="Symbol">(</a><a id="30539" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30539" class="Bound">numberOfSteps</a> <a id="30553" class="Symbol">:</a> <a id="30555" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="30556" class="Symbol">)</a>
                                    <a id="30594" class="Symbol">→</a> <a id="30596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="30615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30476" class="Bound">stateEF</a> <a id="30623" href="libraries.natCompare.html#436" class="Function Operator">≦r</a> <a id="30626" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="30630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30539" class="Bound">numberOfSteps</a>
                                    <a id="30680" class="Symbol">→</a> <a id="30682" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="30694" class="Symbol">(</a><a id="30695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="30711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30476" class="Bound">stateEF</a><a id="30718" class="Symbol">)</a> <a id="30720" class="Symbol">(</a><a id="30721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15344" class="Function">stepEFgasAvailable</a> <a id="30740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30476" class="Bound">stateEF</a><a id="30747" class="Symbol">)</a>
                                    <a id="30785" class="Symbol">→</a> <a id="30787" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="30794" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="30796" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a>
  <a id="30816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30396" class="Function">evaluateTerminatingAuxfinal0aux</a> <a id="30848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30848" class="Bound">oldLedger</a> <a id="30858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a> <a id="30864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30864" class="Bound">numberOfSteps</a> <a id="30878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30878" class="Bound">numberOfStepsLessgas</a> <a id="30899" class="Symbol">(</a><a id="30900" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="30904" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30904" class="Bound">x</a><a id="30905" class="Symbol">)</a>
               <a id="30922" class="Symbol">=</a> <a id="30924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28447" class="Function">evaluateTerminatingAuxfinal0</a> <a id="30953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30848" class="Bound">oldLedger</a>
                 <a id="30980" class="Symbol">(</a><a id="30981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18636" class="Function">deductGas</a> <a id="30991" class="Symbol">(</a><a id="30992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="30999" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30848" class="Bound">oldLedger</a> <a id="31009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a><a id="31014" class="Symbol">)</a> <a id="31016" class="Symbol">(</a><a id="31017" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="31021" class="Symbol">(</a><a id="31022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="31038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a><a id="31043" class="Symbol">)))</a> <a id="31047" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30864" class="Bound">numberOfSteps</a>
                 <a id="31078" class="Symbol">(</a><a id="31079" href="libraries.natCompare.html#1830" class="Function">lemmaxSucY</a> <a id="31090" class="Symbol">(</a><a id="31091" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="31099" class="Symbol">(</a><a id="31100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="31107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30848" class="Bound">oldLedger</a> <a id="31117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a><a id="31122" class="Symbol">))</a> <a id="31125" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30864" class="Bound">numberOfSteps</a> <a id="31139" class="Symbol">(</a><a id="31140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15676" class="Function">stepEFgasNeeded</a> <a id="31156" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a><a id="31161" class="Symbol">)</a>
                   <a id="31182" class="Symbol">(</a><a id="31183" href="libraries.natCompare.html#2021" class="Function">lemma=≦r</a> <a id="31192" class="Symbol">(</a><a id="31193" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="31201" class="Symbol">(</a><a id="31202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7484" class="Function">stepEF</a> <a id="31209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30848" class="Bound">oldLedger</a> <a id="31219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a><a id="31224" class="Symbol">))</a> <a id="31227" class="Symbol">(</a><a id="31228" href="libraries.Mainlibrary.html#2656" class="Field">gasLeft</a> <a id="31236" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a><a id="31241" class="Symbol">)</a> <a id="31243" class="Symbol">(</a><a id="31244" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="31248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30864" class="Bound">numberOfSteps</a><a id="31261" class="Symbol">)</a>
                             <a id="31292" class="Symbol">(</a><a id="31293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14961" class="Function">lemmaStepEFpreserveGas2</a> <a id="31317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30848" class="Bound">oldLedger</a> <a id="31327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30858" class="Bound">state</a><a id="31332" class="Symbol">)</a> <a id="31334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30878" class="Bound">numberOfStepsLessgas</a><a id="31354" class="Symbol">))</a>


  <a id="31361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#30396" class="Function">evaluateTerminatingAuxfinal0aux</a> <a id="31393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31393" class="Bound">oldLedger</a> <a id="31403" class="Symbol">(</a><a id="31404" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="31412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31412" class="Bound">ledger</a> <a id="31419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31419" class="Bound">executionStack</a> <a id="31434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31434" class="Bound">initialAddr</a> <a id="31446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31446" class="Bound">lastCallAddr</a> <a id="31459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31459" class="Bound">calledAddr</a> <a id="31470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31470" class="Bound">nextstep</a> <a id="31479" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31479" class="Bound">gasLeft₁</a> <a id="31488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31488" class="Bound">funNameevalState</a> <a id="31505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31505" class="Bound">msgevalState</a><a id="31517" class="Symbol">)</a>
                                  <a id="31553" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31553" class="Bound">numberOfSteps</a> <a id="31567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31567" class="Bound">numberOfStepsLessgas</a> <a id="31588" class="Symbol">(</a><a id="31589" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="31597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31597" class="Bound">x</a><a id="31598" class="Symbol">)</a>
                                  <a id="31634" class="Symbol">=</a> <a id="31636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31393" class="Bound">oldLedger</a> <a id="31646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a>  <a id="31650" class="Symbol">(</a><a id="31651" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="31655" href="basicDataStructure.html#727" class="InductiveConstructor">outOfGasError</a> <a id="31669" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="31671" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31446" class="Bound">lastCallAddr</a> <a id="31684" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="31687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31434" class="Bound">initialAddr</a> <a id="31699" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="31701" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31488" class="Bound">funNameevalState</a> <a id="31718" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="31720" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31505" class="Bound">msgevalState</a> <a id="31733" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a> <a id="31736" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="31738" class="Number">0</a> <a id="31740" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="31743" class="Symbol">)</a>



<a id="evaluateTerminatingAuxfinal"></a><a id="31748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31748" class="Function">evaluateTerminatingAuxfinal</a> <a id="31776" class="Symbol">:</a> <a id="31778" class="Symbol">(</a><a id="31779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31779" class="Bound">ledger</a> <a id="31786" class="Symbol">:</a> <a id="31788" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="31794" class="Symbol">)</a>
                          <a id="31822" class="Symbol">→</a> <a id="31824" class="Symbol">(</a><a id="31825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31825" class="Bound">initialAddr</a> <a id="31837" class="Symbol">:</a> <a id="31839" href="basicDataStructure.html#387" class="Function">Address</a><a id="31846" class="Symbol">)</a>
                          <a id="31874" class="Symbol">→</a> <a id="31876" class="Symbol">(</a><a id="31877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31877" class="Bound">lastCallAddr</a> <a id="31890" class="Symbol">:</a> <a id="31892" href="basicDataStructure.html#387" class="Function">Address</a><a id="31899" class="Symbol">)</a>
                          <a id="31927" class="Symbol">→</a> <a id="31929" class="Symbol">(</a><a id="31930" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31930" class="Bound">calledAddr</a> <a id="31941" class="Symbol">:</a> <a id="31943" href="basicDataStructure.html#387" class="Function">Address</a><a id="31950" class="Symbol">)</a>
                          <a id="31978" class="Symbol">→</a> <a id="31980" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                          <a id="32019" class="Symbol">→</a> <a id="32021" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                          <a id="32051" class="Symbol">→</a> <a id="32053" class="Symbol">(</a><a id="32054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32054" class="Bound">gasreserved</a> <a id="32066" class="Symbol">:</a> <a id="32068" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="32069" class="Symbol">)</a>
                          <a id="32097" class="Symbol">→</a> <a id="32099" class="Symbol">(</a><a id="32100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32100" class="Bound">cp</a>  <a id="32104" class="Symbol">:</a> <a id="32106" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="32118" class="Symbol">(</a><a id="32119" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="32128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="32134" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32054" class="Bound">gasreserved</a><a id="32145" class="Symbol">)</a> <a id="32147" class="Symbol">(</a><a id="32148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31779" class="Bound">ledger</a> <a id="32155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31825" class="Bound">initialAddr</a> <a id="32167" class="Symbol">.</a><a id="32168" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="32174" class="Symbol">))</a>
                          <a id="32203" class="Symbol">→</a> <a id="32205" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="32212" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="32214" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a>
<a id="32232" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31748" class="Function">evaluateTerminatingAuxfinal</a> <a id="32260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32260" class="Bound">ledger</a> <a id="32267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32267" class="Bound">initialAddr</a> <a id="32279" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32279" class="Bound">lastCallAddr</a> <a id="32292" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32292" class="Bound">calledAddr</a> <a id="32303" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32303" class="Bound">funname</a> <a id="32311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32311" class="Bound">msg</a> <a id="32315" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32315" class="Bound">gasreserved</a>  <a id="32328" class="Symbol">(</a><a id="32329" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="32333" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32333" class="Bound">leqpr</a><a id="32338" class="Symbol">)</a>
                           <a id="32367" class="Symbol">=</a> <a id="32369" class="Keyword">let</a>
                               <a id="32404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32404" class="Bound">ledgerDeducted</a> <a id="32419" class="Symbol">:</a> <a id="32421" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a>
                               <a id="32459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32404" class="Bound">ledgerDeducted</a> <a id="32474" class="Symbol">=</a> <a id="32476" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2544" class="Function">deductGasFromLedger</a> <a id="32496" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32260" class="Bound">ledger</a> <a id="32503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32267" class="Bound">initialAddr</a> <a id="32515" class="Symbol">(</a><a id="32516" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="32525" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="32531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32315" class="Bound">gasreserved</a><a id="32542" class="Symbol">)</a> <a id="32544" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32333" class="Bound">leqpr</a>
                             <a id="32579" class="Keyword">in</a> <a id="32582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#28447" class="Function">evaluateTerminatingAuxfinal0</a> <a id="32611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32404" class="Bound">ledgerDeducted</a>
                                     <a id="32663" class="Symbol">(</a><a id="32664" href="libraries.Mainlibrary.html#2217" class="InductiveConstructor">stateEF</a> <a id="32672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32404" class="Bound">ledgerDeducted</a> <a id="32687" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="32690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32267" class="Bound">initialAddr</a> <a id="32702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32279" class="Bound">lastCallAddr</a> <a id="32715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32292" class="Bound">calledAddr</a> <a id="32726" class="Symbol">(</a><a id="32727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32404" class="Bound">ledgerDeducted</a> <a id="32742" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32292" class="Bound">calledAddr</a> <a id="32753" class="Symbol">.</a><a id="32754" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="32758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32303" class="Bound">funname</a> <a id="32766" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32311" class="Bound">msg</a><a id="32769" class="Symbol">)</a>
                                     <a id="32808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32315" class="Bound">gasreserved</a>  <a id="32821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32303" class="Bound">funname</a> <a id="32829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32311" class="Bound">msg</a><a id="32832" class="Symbol">)</a> <a id="32834" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32315" class="Bound">gasreserved</a> <a id="32846" class="Symbol">(</a><a id="32847" href="libraries.natCompare.html#1560" class="Function">refl≦r</a> <a id="32854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32315" class="Bound">gasreserved</a><a id="32865" class="Symbol">)</a>

<a id="32868" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31748" class="Function">evaluateTerminatingAuxfinal</a> <a id="32896" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32896" class="Bound">ledger</a> <a id="32903" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32903" class="Bound">initialAddr</a> <a id="32915" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32915" class="Bound">lastCallAddr</a> <a id="32928" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32928" class="Bound">calledAddr</a> <a id="32939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32939" class="Bound">funname</a> <a id="32947" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32947" class="Bound">msg</a> <a id="32951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32951" class="Bound">gasreserved</a>  <a id="32964" class="Symbol">(</a><a id="32965" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="32973" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32973" class="Bound">greaterpr</a><a id="32982" class="Symbol">)</a>
                           <a id="33011" class="Symbol">=</a> <a id="33013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32896" class="Bound">ledger</a> <a id="33020" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a>  <a id="33024" class="Symbol">(</a><a id="33025" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="33029" href="basicDataStructure.html#727" class="InductiveConstructor">outOfGasError</a> <a id="33043" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="33045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32915" class="Bound">lastCallAddr</a> <a id="33058" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="33061" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32903" class="Bound">initialAddr</a> <a id="33073" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="33075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32939" class="Bound">funname</a> <a id="33083" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="33085" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#32947" class="Bound">msg</a> <a id="33089" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a> <a id="33092" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="33094" class="Number">0</a> <a id="33096" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="33099" class="Symbol">)</a>

<a id="evaluateTerminatingfinal"></a><a id="33102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33102" class="Function">evaluateTerminatingfinal</a> <a id="33127" class="Symbol">:</a> <a id="33129" class="Symbol">(</a><a id="33130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33130" class="Bound">ledger</a> <a id="33137" class="Symbol">:</a> <a id="33139" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a><a id="33145" class="Symbol">)</a>
                         <a id="33172" class="Symbol">→</a> <a id="33174" class="Symbol">(</a><a id="33175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33175" class="Bound">initialAddr</a> <a id="33187" class="Symbol">:</a> <a id="33189" href="basicDataStructure.html#387" class="Function">Address</a><a id="33196" class="Symbol">)</a>
                            <a id="33226" class="Comment">-- Initial address is the address from which the very first call was made</a>
                         <a id="33325" class="Symbol">→</a> <a id="33327" class="Symbol">(</a><a id="33328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33328" class="Bound">lastCallAddr</a> <a id="33341" class="Symbol">:</a> <a id="33343" href="basicDataStructure.html#387" class="Function">Address</a><a id="33350" class="Symbol">)</a>
                            <a id="33380" class="Comment">-- lastCallAddr is the address from which the current call of a function in</a>
                            <a id="33484" class="Comment">--         calledAddr is made</a>
                         <a id="33539" class="Symbol">→</a> <a id="33541" class="Symbol">(</a><a id="33542" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33542" class="Bound">calledAddr</a> <a id="33553" class="Symbol">:</a> <a id="33555" href="basicDataStructure.html#387" class="Function">Address</a><a id="33562" class="Symbol">)</a>
                            <a id="33592" class="Comment">-- calledAddr is the address where a function call is currently executed</a>
                            <a id="33693" class="Comment">--            it was called from calledAddr</a>
                         <a id="33762" class="Symbol">→</a> <a id="33764" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                         <a id="33802" class="Symbol">→</a> <a id="33804" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                         <a id="33833" class="Symbol">→</a> <a id="33835" class="Symbol">(</a><a id="33836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33836" class="Bound">gasreserved</a> <a id="33848" class="Symbol">:</a> <a id="33850" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="33851" class="Symbol">)</a>
                         <a id="33878" class="Symbol">→</a> <a id="33880" href="libraries.Mainlibrary.html#1110" class="Function">Ledger</a> <a id="33887" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="33889" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a>
<a id="33907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33102" class="Function">evaluateTerminatingfinal</a> <a id="33932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33932" class="Bound">ledger</a> <a id="33939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33939" class="Bound">initialAddr</a> <a id="33951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33951" class="Bound">lastCallAddr</a> <a id="33964" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33964" class="Bound">calledAddr</a> <a id="33975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33975" class="Bound">funname</a> <a id="33983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33983" class="Bound">msg</a> <a id="33987" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33987" class="Bound">gasreserved</a>
                      <a id="34021" class="Symbol">=</a>  <a id="34024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#31748" class="Function">evaluateTerminatingAuxfinal</a> <a id="34052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33932" class="Bound">ledger</a> <a id="34059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33939" class="Bound">initialAddr</a> <a id="34071" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33951" class="Bound">lastCallAddr</a> <a id="34084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33964" class="Bound">calledAddr</a> <a id="34095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33975" class="Bound">funname</a> <a id="34103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33983" class="Bound">msg</a> <a id="34107" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33987" class="Bound">gasreserved</a>
                         <a id="34144" class="Symbol">(</a><a id="34145" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="34156" class="Symbol">(</a><a id="34157" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="34166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="34172" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33987" class="Bound">gasreserved</a><a id="34183" class="Symbol">)</a> <a id="34185" class="Symbol">(</a><a id="34186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33932" class="Bound">ledger</a> <a id="34193" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#33939" class="Bound">initialAddr</a> <a id="34205" class="Symbol">.</a><a id="34206" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="34212" class="Symbol">))</a>

</pre></body></html>