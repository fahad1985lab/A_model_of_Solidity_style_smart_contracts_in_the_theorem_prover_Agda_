<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Complex-Model.ledgerversion.Ledger-Complex-Model</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="constantparameters.html" class="Module">constantparameters</a>

<a id="33" class="Keyword">module</a> <a id="40" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html" class="Module">Complex-Model.ledgerversion.Ledger-Complex-Model</a> <a id="89" class="Symbol">(</a><a id="90" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="96" class="Symbol">:</a> <a id="98" href="constantparameters.html#275" class="Record">ConstantParameters</a><a id="116" class="Symbol">)</a> <a id="118" class="Keyword">where</a>

<a id="125" class="Keyword">open</a> <a id="130" class="Keyword">import</a> <a id="137" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Agda.Builtin.Nat.html" class="Module">Agda.Builtin.Nat</a> <a id="175" class="Keyword">using</a> <a id="181" class="Symbol">(</a><a id="182" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">_-_</a><a id="185" class="Symbol">;</a> <a id="187" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">_*_</a><a id="190" class="Symbol">)</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="214" class="Keyword">open</a> <a id="219" class="Keyword">import</a> <a id="226" href="Data.List.html" class="Module">Data.List</a>
<a id="236" class="Keyword">open</a> <a id="241" class="Keyword">import</a> <a id="248" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="258" class="Keyword">open</a> <a id="263" class="Keyword">import</a> <a id="270" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="311" class="Keyword">open</a> <a id="316" class="Keyword">import</a> <a id="323" href="Data.Maybe.html" class="Module">Data.Maybe</a>  <a id="335" class="Keyword">hiding</a> <a id="342" class="Symbol">(</a><a id="343" href="Data.Maybe.Base.html#2227" class="Function Operator">_&gt;&gt;=_</a><a id="348" class="Symbol">)</a>
<a id="350" class="Keyword">open</a> <a id="355" class="Keyword">import</a> <a id="362" href="Data.String.html" class="Module">Data.String</a> <a id="374" class="Keyword">hiding</a> <a id="381" class="Symbol">(</a><a id="382" href="Data.String.Base.html#2430" class="Function">length</a><a id="388" class="Symbol">;</a> <a id="390" href="Data.String.Base.html#1561" class="Primitive">show</a><a id="394" class="Symbol">)</a> <a id="396" class="Keyword">renaming</a> <a id="405" class="Symbol">(</a><a id="406" href="Data.String.Base.html#2366" class="Function Operator">_++_</a> <a id="411" class="Symbol">to</a> <a id="414" class="Function Operator">_++str_</a><a id="421" class="Symbol">)</a>
<a id="423" class="Keyword">open</a> <a id="428" class="Keyword">import</a> <a id="435" href="Data.Product.html" class="Module">Data.Product</a> <a id="448" class="Keyword">renaming</a> <a id="457" class="Symbol">(</a><a id="458" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a> <a id="462" class="Symbol">to</a> <a id="465" class="InductiveConstructor Operator">_,,_</a> <a id="470" class="Symbol">)</a>
<a id="472" class="Keyword">open</a> <a id="477" class="Keyword">import</a> <a id="484" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Empty.html" class="Module">Data.Empty</a>


<a id="523" class="Comment">-- our work</a>
<a id="535" class="Keyword">open</a> <a id="540" class="Keyword">import</a> <a id="547" href="Complex-Model.ccomand.ccommands-cresponse.html" class="Module">Complex-Model.ccomand.ccommands-cresponse</a>
<a id="589" class="Keyword">open</a> <a id="594" class="Keyword">import</a> <a id="601" href="basicDataStructure.html" class="Module">basicDataStructure</a>
<a id="620" class="Keyword">open</a> <a id="625" class="Keyword">import</a> <a id="632" href="libraries.natCompare.html" class="Module">libraries.natCompare</a>
<a id="653" class="Keyword">open</a> <a id="658" class="Keyword">import</a> <a id="665" href="Complex-Model.ccomand.do-notation.html" class="Module">Complex-Model.ccomand.do-notation</a> <a id="699" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="libraries.Mainlibrary.html" class="Module">libraries.Mainlibrary</a>



<a id="742" class="Comment">-- update pure function in the ledger</a>
<a id="updateLedgerpurefun"></a><a id="780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="800" class="Symbol">:</a> <a id="802" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="809" class="Symbol">→</a>  <a id="812" href="basicDataStructure.html#387" class="Function">Address</a> <a id="820" class="Symbol">→</a> <a id="822" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="857" class="Symbol">→</a> <a id="859" class="Symbol">((</a><a id="861" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="865" class="Symbol">→</a> <a id="867" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="877" class="Symbol">)</a> <a id="879" class="Symbol">→</a> <a id="881" class="Symbol">(</a><a id="882" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="886" class="Symbol">→</a> <a id="888" href="basicDataStructure.html#1428" class="Datatype">MsgOrError</a><a id="898" class="Symbol">))</a>
                      <a id="923" class="Symbol">→</a> <a id="925" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#952" class="Bound">ledger</a> <a id="959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#959" class="Bound">changedAddr</a> <a id="971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#971" class="Bound">changedFname</a> <a id="984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#984" class="Bound">f</a> <a id="986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#986" class="Bound">a</a> <a id="988" class="Symbol">.</a><a id="989" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="996" class="Symbol">=</a> <a id="998" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#952" class="Bound">ledger</a> <a id="1005" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#986" class="Bound">a</a> <a id="1007" class="Symbol">.</a><a id="1008" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="1015" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="1035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1035" class="Bound">ledger</a> <a id="1042" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1042" class="Bound">changedAddr</a> <a id="1054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1054" class="Bound">changedFname</a> <a id="1067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1067" class="Bound">f</a> <a id="1069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1069" class="Bound">a</a> <a id="1071" class="Symbol">.</a><a id="1072" href="libraries.Mainlibrary.html#830" class="Field">fun</a>  <a id="1077" class="Symbol">=</a> <a id="1079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1035" class="Bound">ledger</a> <a id="1086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1069" class="Bound">a</a> <a id="1088" class="Symbol">.</a><a id="1089" href="libraries.Mainlibrary.html#830" class="Field">fun</a> 
<a id="1094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="1114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1121" class="Bound">changedAddr</a> <a id="1133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1133" class="Bound">changedFname</a> <a id="1146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">f</a> <a id="1148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1150" class="Symbol">.</a><a id="1151" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="1164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a> <a id="1170" class="Symbol">=</a>
       <a id="1179" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1182" class="Symbol">(</a><a id="1183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1133" class="Bound">changedFname</a> <a id="1196" href="basicDataStructure.html#257" class="Function Operator">≡fun</a> <a id="1201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a><a id="1206" class="Symbol">)</a> <a id="1208" href="Data.Bool.Base.html#1283" class="Function Operator">then</a>  <a id="1214" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1146" class="Bound">f</a> <a id="1216" class="Symbol">(</a><a id="1217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1226" class="Symbol">.</a><a id="1227" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="1240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a><a id="1245" class="Symbol">)</a>
                         <a id="1272" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="1278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1114" class="Bound">ledger</a> <a id="1285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1148" class="Bound">a</a> <a id="1287" class="Symbol">.</a><a id="1288" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="1301" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1164" class="Bound">fname</a>


<a id="1309" class="Comment">--update ledger amount</a>
<a id="updateLedgerAmount"></a><a id="1332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1351" class="Symbol">:</a> <a id="1353" class="Symbol">(</a><a id="1354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1354" class="Bound">ledger</a> <a id="1361" class="Symbol">:</a> <a id="1363" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="1369" class="Symbol">)</a>
               <a id="1386" class="Symbol">→</a>  <a id="1389" class="Symbol">(</a><a id="1390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1390" class="Bound">calledAddr</a> <a id="1401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1401" class="Bound">destinationAddr</a> <a id="1417" class="Symbol">:</a> <a id="1419" href="basicDataStructure.html#387" class="Function">Address</a><a id="1426" class="Symbol">)</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1429" class="Bound">amount&#39;</a> <a id="1437" class="Symbol">:</a> <a id="1439" href="basicDataStructure.html#360" class="Function">Amount</a><a id="1445" class="Symbol">)</a>
               <a id="1462" class="Symbol">→</a> <a id="1464" class="Symbol">(</a><a id="1465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1465" class="Bound">correctAmount</a> <a id="1479" class="Symbol">:</a> <a id="1481" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1429" class="Bound">amount&#39;</a> <a id="1489" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="1493" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1354" class="Bound">ledger</a> <a id="1500" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1390" class="Bound">calledAddr</a> <a id="1511" class="Symbol">.</a><a id="1512" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1518" class="Symbol">)</a>
                <a id="1536" class="Symbol">→</a> <a id="1538" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="1545" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1564" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a> <a id="1582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a> <a id="1598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a> <a id="1606" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1606" class="Bound">correctAmount</a> <a id="1620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1625" class="Symbol">.</a><a id="1626" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
     <a id="1638" class="Symbol">=</a> <a id="1640" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1648" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1651" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a>
     <a id="1667" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1672" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="1681" class="Symbol">(</a><a id="1682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1571" class="Bound">calledAddr</a> <a id="1700" class="Symbol">.</a><a id="1701" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1707" class="Symbol">)</a> <a id="1709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a> <a id="1717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1606" class="Bound">correctAmount</a>
     <a id="1736" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1741" class="Symbol">(</a><a id="1742" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1745" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1750" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="1753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a>
     <a id="1774" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1582" class="Bound">destinationAddr</a> <a id="1802" class="Symbol">.</a><a id="1803" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="1810" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="1812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1598" class="Bound">amount&#39;</a>
       <a id="1827" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1832" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1564" class="Bound">ledger</a> <a id="1839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1620" class="Bound">addr</a> <a id="1844" class="Symbol">.</a><a id="1845" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="1851" class="Symbol">)</a>
<a id="1853" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1872" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1879" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1879" class="Bound">calledAddr</a> <a id="1890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1890" class="Bound">newAddr</a> <a id="1898" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1898" class="Bound">amount&#39;</a> <a id="1906" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1906" class="Bound">correctAmount</a> <a id="1920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1920" class="Bound">addr</a> <a id="1925" class="Symbol">.</a><a id="1926" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
     <a id="1935" class="Symbol">=</a>  <a id="1938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1872" class="Bound">ledger</a> <a id="1945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1920" class="Bound">addr</a> <a id="1950" class="Symbol">.</a><a id="1951" href="libraries.Mainlibrary.html#830" class="Field">fun</a>

<a id="1956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="1975" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1975" class="Bound">ledger</a> <a id="1982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1982" class="Bound">calledAddr</a> <a id="1993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1993" class="Bound">newAddr</a> <a id="2001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2001" class="Bound">amount&#39;</a> <a id="2009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2009" class="Bound">correctAmount</a> <a id="2023" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2023" class="Bound">addr</a> <a id="2028" class="Symbol">.</a><a id="2029" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>
     <a id="2047" class="Symbol">=</a> <a id="2049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1975" class="Bound">ledger</a> <a id="2056" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2023" class="Bound">addr</a> <a id="2061" class="Symbol">.</a><a id="2062" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>



<a id="2078" class="Comment">--This function we use it to update the gas by decucting from the ledger</a>
<a id="2151" class="Comment">--rename gasPrice to gascost</a>
<a id="deductGasFromLedger"></a><a id="2180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2200" class="Symbol">:</a> <a id="2202" class="Symbol">(</a><a id="2203" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2203" class="Bound">ledger</a> <a id="2210" class="Symbol">:</a> <a id="2212" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="2218" class="Symbol">)</a> <a id="2220" class="Symbol">→</a>  <a id="2223" class="Symbol">(</a><a id="2224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2224" class="Bound">calledAddr</a> <a id="2235" class="Symbol">:</a> <a id="2237" href="basicDataStructure.html#387" class="Function">Address</a><a id="2244" class="Symbol">)</a> <a id="2246" class="Symbol">(</a><a id="2247" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2247" class="Bound">gascost</a> <a id="2255" class="Symbol">:</a> <a id="2257" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="2258" class="Symbol">)</a>
                     <a id="2281" class="Symbol">→</a> <a id="2283" class="Symbol">(</a><a id="2284" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2284" class="Bound">correctAmount</a> <a id="2298" class="Symbol">:</a> <a id="2300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2247" class="Bound">gascost</a> <a id="2308" href="libraries.natCompare.html#436" class="Function Operator">≦r</a>  <a id="2312" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2203" class="Bound">ledger</a> <a id="2319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2224" class="Bound">calledAddr</a> <a id="2330" class="Symbol">.</a><a id="2331" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2337" class="Symbol">)</a>
                     <a id="2360" class="Symbol">→</a> <a id="2362" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="2369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a> <a id="2407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2407" class="Bound">gascost</a> <a id="2415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2415" class="Bound">correctAmount</a> <a id="2429" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2434" class="Symbol">.</a><a id="2435" href="libraries.Mainlibrary.html#808" class="Field">amount</a> 
     <a id="2448" class="Symbol">=</a> <a id="2450" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="2453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2458" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="2461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a>
     <a id="2477" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="2482" href="libraries.natCompare.html#1454" class="Function">subtract</a> <a id="2491" class="Symbol">(</a><a id="2492" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2499" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2396" class="Bound">calledAddr</a> <a id="2510" class="Symbol">.</a><a id="2511" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="2517" class="Symbol">)</a> <a id="2519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2407" class="Bound">gascost</a> <a id="2527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2415" class="Bound">correctAmount</a>
     <a id="2546" href="Data.Bool.Base.html#1283" class="Function Operator">else</a>  <a id="2552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2389" class="Bound">ledger</a> <a id="2559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2429" class="Bound">addr</a> <a id="2564" class="Symbol">.</a><a id="2565" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="2572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2592" class="Bound">ledger</a> <a id="2599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2599" class="Bound">calledAddr</a> <a id="2610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2610" class="Bound">gascost</a> <a id="2618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2618" class="Bound">correctAmount</a> <a id="2632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2632" class="Bound">addr</a> <a id="2637" class="Symbol">.</a><a id="2638" href="libraries.Mainlibrary.html#830" class="Field">fun</a> 
    <a id="2647" class="Symbol">=</a> <a id="2649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2592" class="Bound">ledger</a> <a id="2656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2632" class="Bound">addr</a> <a id="2661" class="Symbol">.</a><a id="2662" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="2666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="2686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2686" class="Bound">ledger</a> <a id="2693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2693" class="Bound">calledAddr</a> <a id="2704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2704" class="Bound">gascost</a> <a id="2712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2712" class="Bound">correctAmount</a> <a id="2726" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2726" class="Bound">addr</a> <a id="2731" class="Symbol">.</a><a id="2732" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>
    <a id="2749" class="Symbol">=</a> <a id="2751" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2686" class="Bound">ledger</a> <a id="2758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2726" class="Bound">addr</a> <a id="2763" class="Symbol">.</a><a id="2764" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>


<a id="2779" class="Comment">-- this function below we use it to refuend in two cases with stepEF</a>
<a id="2848" class="Comment">-- 1) when finish (first case)</a>
<a id="2879" class="Comment">-- 2) when we have error (the last case)</a>
<a id="addWeiToLedger"></a><a id="2920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="2935" class="Symbol">:</a> <a id="2937" class="Symbol">(</a><a id="2938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2938" class="Bound">ledger</a> <a id="2945" class="Symbol">:</a> <a id="2947" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="2953" class="Symbol">)</a>
         <a id="2964" class="Symbol">→</a>  <a id="2967" class="Symbol">(</a><a id="2968" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2968" class="Bound">address</a> <a id="2976" class="Symbol">:</a> <a id="2978" href="basicDataStructure.html#387" class="Function">Address</a><a id="2985" class="Symbol">)</a> <a id="2987" class="Symbol">(</a><a id="2988" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2988" class="Bound">amount&#39;</a> <a id="2996" class="Symbol">:</a> <a id="2998" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3004" class="Symbol">)</a>
         <a id="3015" class="Symbol">→</a> <a id="3017" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
<a id="3024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a> <a id="3054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3054" class="Bound">amount&#39;</a> <a id="3062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3067" class="Symbol">.</a><a id="3068" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
       <a id="3082" class="Symbol">=</a>   <a id="3086" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="3089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3094" href="Data.Nat.Base.html#1127" class="Primitive Operator">≡ᵇ</a> <a id="3097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a>
           <a id="3116" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="3121" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3046" class="Bound">address</a> <a id="3136" class="Symbol">.</a><a id="3137" href="libraries.Mainlibrary.html#808" class="Field">amount</a> <a id="3144" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="3146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3054" class="Bound">amount&#39;</a>
           <a id="3165" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="3170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3039" class="Bound">ledger</a> <a id="3177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3062" class="Bound">addr</a> <a id="3182" class="Symbol">.</a><a id="3183" href="libraries.Mainlibrary.html#808" class="Field">amount</a>
<a id="3190" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3205" class="Bound">ledger</a> <a id="3212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3212" class="Bound">address</a> <a id="3220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3220" class="Bound">amount&#39;</a> <a id="3228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3228" class="Bound">addr</a> <a id="3233" class="Symbol">.</a><a id="3234" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
       <a id="3245" class="Symbol">=</a>   <a id="3249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3205" class="Bound">ledger</a> <a id="3256" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3228" class="Bound">addr</a> <a id="3261" class="Symbol">.</a><a id="3262" href="libraries.Mainlibrary.html#830" class="Field">fun</a>
<a id="3266" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="3281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">ledger</a> <a id="3288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3288" class="Bound">address</a> <a id="3296" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3296" class="Bound">amount&#39;</a> <a id="3304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3304" class="Bound">addr</a> <a id="3309" class="Symbol">.</a><a id="3310" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>
       <a id="3330" class="Symbol">=</a> <a id="3332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3281" class="Bound">ledger</a> <a id="3339" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3304" class="Bound">addr</a> <a id="3344" class="Symbol">.</a><a id="3345" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a>



<a id="3361" class="Comment">-- execute transfer auxiliary</a>
<a id="executeTransferAux"></a><a id="3391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="3410" class="Symbol">:</a> <a id="3412" class="Symbol">(</a><a id="3413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3413" class="Bound">oldLedger</a> <a id="3423" class="Symbol">:</a> <a id="3425" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="3431" class="Symbol">)</a>
                  <a id="3451" class="Symbol">→</a> <a id="3453" class="Symbol">(</a><a id="3454" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3454" class="Bound">ledger</a> <a id="3461" class="Symbol">:</a> <a id="3463" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="3469" class="Symbol">)</a> <a id="3471" class="Comment">--ledger == currentLedger</a>
                  <a id="3515" class="Symbol">→</a> <a id="3517" class="Symbol">(</a><a id="3518" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3518" class="Bound">executionStack</a> <a id="3533" class="Symbol">:</a> <a id="3535" href="libraries.Mainlibrary.html#1991" class="Function">ExecutionStack</a><a id="3549" class="Symbol">)</a>
                  <a id="3569" class="Symbol">→</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3572" class="Bound">initialAddr</a> <a id="3584" class="Symbol">:</a> <a id="3586" href="basicDataStructure.html#387" class="Function">Address</a><a id="3593" class="Symbol">)</a>
                  <a id="3613" class="Symbol">→</a> <a id="3615" class="Symbol">(</a><a id="3616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3616" class="Bound">lastCallAddr</a> <a id="3629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3629" class="Bound">calledAddr</a> <a id="3640" class="Symbol">:</a> <a id="3642" href="basicDataStructure.html#387" class="Function">Address</a><a id="3649" class="Symbol">)</a>
                  <a id="3669" class="Symbol">→</a> <a id="3671" class="Symbol">(</a><a id="3672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3672" class="Bound">cont</a> <a id="3677" class="Symbol">:</a> <a id="3679" href="Complex-Model.ccomand.ccommands-cresponse.html#1474" class="Datatype">Prog</a> <a id="3684" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="3687" class="Symbol">)</a>
                  <a id="3707" class="Symbol">→</a> <a id="3709" class="Symbol">(</a><a id="3710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3710" class="Bound">gasleft</a> <a id="3718" class="Symbol">:</a> <a id="3720" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3721" class="Symbol">)</a>
                  <a id="3741" class="Symbol">→</a> <a id="3743" class="Symbol">(</a><a id="3744" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3744" class="Bound">funNameevalState</a> <a id="3761" class="Symbol">:</a> <a id="3763" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="3775" class="Symbol">)</a>
                  <a id="3795" class="Symbol">→</a> <a id="3797" class="Symbol">(</a><a id="3798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3798" class="Bound">msgevalState</a> <a id="3811" class="Symbol">:</a> <a id="3813" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="3816" class="Symbol">)</a>
                  <a id="3836" class="Symbol">→</a> <a id="3838" class="Symbol">(</a><a id="3839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3839" class="Bound">amount&#39;</a> <a id="3847" class="Symbol">:</a> <a id="3849" href="basicDataStructure.html#360" class="Function">Amount</a><a id="3855" class="Symbol">)</a>
                  <a id="3875" class="Symbol">→</a> <a id="3877" class="Symbol">(</a><a id="3878" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3878" class="Bound">destinationAddr</a> <a id="3894" class="Symbol">:</a> <a id="3896" href="basicDataStructure.html#387" class="Function">Address</a><a id="3903" class="Symbol">)</a>
                  <a id="3923" class="Symbol">→</a> <a id="3925" class="Symbol">(</a><a id="3926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3926" class="Bound">cp</a>  <a id="3930" class="Symbol">:</a> <a id="3932" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="3944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3839" class="Bound">amount&#39;</a> <a id="3952" class="Symbol">(</a><a id="3953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3454" class="Bound">ledger</a> <a id="3960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3629" class="Bound">calledAddr</a> <a id="3971" class="Symbol">.</a><a id="3972" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="3978" class="Symbol">))</a>
                  <a id="3999" class="Symbol">→</a> <a id="4001" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="4014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="4033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4033" class="Bound">oldLedger</a> <a id="4043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4043" class="Bound">ledger</a> <a id="4050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4050" class="Bound">executionStack</a> <a id="4065" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4065" class="Bound">initialAddr</a> <a id="4077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4077" class="Bound">lastCallAddr</a> <a id="4090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">calledAddr</a> <a id="4101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4101" class="Bound">cont</a> <a id="4106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4106" class="Bound">gasleft</a>
                   <a id="4133" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4133" class="Bound">funNameevalState</a> <a id="4150" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4150" class="Bound">msgevalState</a> <a id="4163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4163" class="Bound">amount&#39;</a> <a id="4171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4171" class="Bound">destinationAddr</a> <a id="4187" class="Symbol">(</a><a id="4188" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="4192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4192" class="Bound">x</a><a id="4193" class="Symbol">)</a>
         <a id="4204" class="Symbol">=</a> <a id="4206" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="4214" class="Symbol">(</a><a id="4215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#1332" class="Function">updateLedgerAmount</a> <a id="4234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4043" class="Bound">ledger</a> <a id="4241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">calledAddr</a> <a id="4252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4171" class="Bound">destinationAddr</a> <a id="4268" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4163" class="Bound">amount&#39;</a> <a id="4276" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4192" class="Bound">x</a><a id="4277" class="Symbol">)</a>
          <a id="4289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4050" class="Bound">executionStack</a> <a id="4304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4065" class="Bound">initialAddr</a> <a id="4316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4077" class="Bound">lastCallAddr</a> <a id="4329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4090" class="Bound">calledAddr</a> <a id="4340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4101" class="Bound">cont</a> <a id="4345" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4106" class="Bound">gasleft</a> <a id="4353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4133" class="Bound">funNameevalState</a> <a id="4370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4150" class="Bound">msgevalState</a>
<a id="4383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="4402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4402" class="Bound">oldLedger</a> <a id="4412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4412" class="Bound">ledger</a> <a id="4419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4419" class="Bound">executionStack</a> <a id="4434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4434" class="Bound">initialAddr</a> <a id="4446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4446" class="Bound">lastCallAddr</a> <a id="4459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4459" class="Bound">calledAddr</a> <a id="4470" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4470" class="Bound">cont</a> <a id="4475" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4475" class="Bound">gasleft</a>
                   <a id="4502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4502" class="Bound">funNameevalState</a> <a id="4519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4519" class="Bound">msgevalState</a> <a id="4532" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4532" class="Bound">amount&#39;</a> <a id="4540" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4540" class="Bound">destinationAddr</a> <a id="4556" class="Symbol">(</a><a id="4557" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="4565" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4565" class="Bound">x</a><a id="4566" class="Symbol">)</a>
          <a id="4578" class="Symbol">=</a> <a id="4580" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="4588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4402" class="Bound">oldLedger</a> <a id="4598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4419" class="Bound">executionStack</a> <a id="4613" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4434" class="Bound">initialAddr</a> <a id="4625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4446" class="Bound">lastCallAddr</a> <a id="4638" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4459" class="Bound">calledAddr</a>
            <a id="4661" class="Symbol">(</a><a id="4662" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a>  <a id="4669" class="Symbol">(</a><a id="4670" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="4677" class="String">&quot;not enough money&quot;</a><a id="4695" class="Symbol">)</a>
            <a id="4709" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="4711" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4446" class="Bound">lastCallAddr</a> <a id="4724" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="4727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4434" class="Bound">initialAddr</a> <a id="4739" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="4741" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4502" class="Bound">funNameevalState</a> <a id="4758" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="4760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4519" class="Bound">msgevalState</a> <a id="4773" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="4775" class="Symbol">)</a>
             <a id="4790" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4475" class="Bound">gasleft</a> <a id="4798" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4502" class="Bound">funNameevalState</a> <a id="4815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4519" class="Bound">msgevalState</a>

<a id="4829" class="Comment">-- execute transfer </a>
<a id="executeTransfer"></a><a id="4850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4850" class="Function">executeTransfer</a> <a id="4866" class="Symbol">:</a> <a id="4868" class="Symbol">(</a><a id="4869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4869" class="Bound">oldLedger</a> <a id="4879" class="Symbol">:</a> <a id="4881" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="4887" class="Symbol">)</a>
                  <a id="4907" class="Symbol">→</a> <a id="4909" class="Symbol">(</a><a id="4910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4910" class="Bound">ledger</a> <a id="4917" class="Symbol">:</a> <a id="4919" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="4925" class="Symbol">)</a>
                  <a id="4945" class="Symbol">→</a> <a id="4947" class="Symbol">(</a><a id="4948" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4948" class="Bound">execStack</a> <a id="4958" class="Symbol">:</a> <a id="4960" href="libraries.Mainlibrary.html#1991" class="Function">ExecutionStack</a><a id="4974" class="Symbol">)</a>
                  <a id="4994" class="Symbol">→</a> <a id="4996" class="Symbol">(</a><a id="4997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4997" class="Bound">initialAddr</a> <a id="5009" class="Symbol">:</a> <a id="5011" href="basicDataStructure.html#387" class="Function">Address</a><a id="5018" class="Symbol">)</a>
                  <a id="5038" class="Symbol">→</a> <a id="5040" class="Symbol">(</a><a id="5041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5041" class="Bound">lastCallAddr</a> <a id="5054" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5054" class="Bound">calledAddr</a> <a id="5065" class="Symbol">:</a> <a id="5067" href="basicDataStructure.html#387" class="Function">Address</a><a id="5074" class="Symbol">)</a>
                  <a id="5094" class="Symbol">→</a> <a id="5096" class="Symbol">(</a><a id="5097" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5097" class="Bound">cont</a> <a id="5102" class="Symbol">:</a> <a id="5104" href="Complex-Model.ccomand.ccommands-cresponse.html#1474" class="Datatype">Prog</a> <a id="5109" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5112" class="Symbol">)</a>
                  <a id="5132" class="Symbol">→</a> <a id="5134" class="Symbol">(</a><a id="5135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5135" class="Bound">gasleft</a> <a id="5143" class="Symbol">:</a> <a id="5145" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5146" class="Symbol">)</a>

                  <a id="5167" class="Symbol">→</a> <a id="5169" class="Symbol">(</a><a id="5170" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5170" class="Bound">funNameevalState</a> <a id="5187" class="Symbol">:</a> <a id="5189" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="5201" class="Symbol">)</a>
                  <a id="5221" class="Symbol">→</a> <a id="5223" class="Symbol">(</a><a id="5224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5224" class="Bound">msgevalState</a> <a id="5237" class="Symbol">:</a> <a id="5239" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="5242" class="Symbol">)</a>
                  <a id="5262" class="Symbol">→</a> <a id="5264" class="Symbol">(</a><a id="5265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5265" class="Bound">amount&#39;</a> <a id="5273" class="Symbol">:</a> <a id="5275" href="basicDataStructure.html#360" class="Function">Amount</a><a id="5281" class="Symbol">)</a>
                  <a id="5301" class="Symbol">→</a> <a id="5303" class="Symbol">(</a><a id="5304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5304" class="Bound">destinationAddr</a> <a id="5320" class="Symbol">:</a> <a id="5322" href="basicDataStructure.html#387" class="Function">Address</a><a id="5329" class="Symbol">)</a>
                  <a id="5349" class="Symbol">→</a> <a id="5351" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="5364" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4850" class="Function">executeTransfer</a> <a id="5380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5380" class="Bound">oldLedger</a> <a id="5390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5390" class="Bound">ledger</a> <a id="5397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5397" class="Bound">execStack</a> <a id="5407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5407" class="Bound">initialAddr</a> <a id="5419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5419" class="Bound">lastCallAddr</a> <a id="5432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5432" class="Bound">calledAddr</a>
                <a id="5459" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5459" class="Bound">cont</a> <a id="5464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5464" class="Bound">gasleft</a>  <a id="5473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5473" class="Bound">funNameevalState</a> <a id="5490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5490" class="Bound">msgevalState</a> <a id="5503" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5503" class="Bound">amount&#39;</a> <a id="5511" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5511" class="Bound">destinationAddr</a>
         <a id="5536" class="Symbol">=</a> <a id="5538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#3391" class="Function">executeTransferAux</a> <a id="5557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5380" class="Bound">oldLedger</a> <a id="5567" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5390" class="Bound">ledger</a> <a id="5574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5397" class="Bound">execStack</a> <a id="5584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5407" class="Bound">initialAddr</a> <a id="5596" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5419" class="Bound">lastCallAddr</a> <a id="5609" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5432" class="Bound">calledAddr</a>
            <a id="5632" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5459" class="Bound">cont</a> <a id="5637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5464" class="Bound">gasleft</a>  <a id="5646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5473" class="Bound">funNameevalState</a> <a id="5663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5490" class="Bound">msgevalState</a> <a id="5676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5503" class="Bound">amount&#39;</a>
            <a id="5696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5511" class="Bound">destinationAddr</a> <a id="5712" class="Symbol">(</a><a id="5713" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="5724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5503" class="Bound">amount&#39;</a> <a id="5732" class="Symbol">(</a><a id="5733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5390" class="Bound">ledger</a> <a id="5740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5432" class="Bound">calledAddr</a> <a id="5751" class="Symbol">.</a><a id="5752" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="5758" class="Symbol">))</a>



<a id="5764" class="Comment">-- the stepEF without deducting the gasLeft</a>
<a id="stepEF"></a><a id="5808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="5815" class="Symbol">:</a> <a id="5817" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="5824" class="Symbol">→</a> <a id="5826" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="5839" class="Symbol">→</a> <a id="5841" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="5854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="5861" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5861" class="Bound">oldLedger</a> <a id="5871" class="Symbol">(</a><a id="5872" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="5880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5880" class="Bound">currentLedger</a> <a id="5894" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="5897" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5897" class="Bound">initialAddr</a> <a id="5909" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5909" class="Bound">lastCallAddr</a> <a id="5922" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5922" class="Bound">calledAddr</a>
                 <a id="5950" class="Symbol">(</a><a id="5951" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="5958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5958" class="Bound">cost</a> <a id="5963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5963" class="Bound">result</a><a id="5969" class="Symbol">)</a> <a id="5971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5971" class="Bound">gasLeft</a>  <a id="5980" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5980" class="Bound">funNameevalState</a> <a id="5997" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5997" class="Bound">msgevalState</a><a id="6009" class="Symbol">)</a>
       <a id="6018" class="Symbol">=</a> <a id="6020" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5880" class="Bound">currentLedger</a> <a id="6042" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="6045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5897" class="Bound">initialAddr</a> <a id="6057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5909" class="Bound">lastCallAddr</a> <a id="6070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5922" class="Bound">calledAddr</a>
         <a id="6090" class="Symbol">(</a><a id="6091" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="6098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5958" class="Bound">cost</a> <a id="6103" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5963" class="Bound">result</a><a id="6109" class="Symbol">)</a> <a id="6111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5971" class="Bound">gasLeft</a>  <a id="6120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5980" class="Bound">funNameevalState</a> <a id="6137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5997" class="Bound">msgevalState</a> 

<a id="6152" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="6159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6159" class="Bound">oldLedger</a> <a id="6169" class="Symbol">(</a><a id="6170" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6178" class="Bound">currentLedger</a> <a id="6192" class="Symbol">(</a><a id="6193" href="libraries.Mainlibrary.html#1164" class="InductiveConstructor">execStackEl</a> <a id="6205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6205" class="Bound">prevLastCallAddress</a> <a id="6225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6225" class="Bound">prevCalledAddress</a> <a id="6243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6243" class="Bound">prevContinuation</a>
                 <a id="6277" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6277" class="Bound">prevCostCont</a> <a id="6290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6290" class="Bound">prevFunName</a> <a id="6302" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6302" class="Bound">prevMsgExec</a> <a id="6314" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="6316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6316" class="Bound">executionStack</a><a id="6330" class="Symbol">)</a>
                  <a id="6350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6350" class="Bound">initialAddr</a> <a id="6362" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6362" class="Bound">lastCallAddr</a> <a id="6375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6375" class="Bound">calledAddr</a> <a id="6386" class="Symbol">(</a><a id="6387" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="6394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6394" class="Bound">cost</a> <a id="6399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6399" class="Bound">result</a><a id="6405" class="Symbol">)</a> <a id="6407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6407" class="Bound">gasLeft</a> <a id="6415" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6415" class="Bound">funNameevalState</a> <a id="6432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6432" class="Bound">msgevalState</a><a id="6444" class="Symbol">)</a>
            <a id="6458" class="Symbol">=</a> <a id="6460" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6178" class="Bound">currentLedger</a> <a id="6482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6316" class="Bound">executionStack</a> <a id="6497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6350" class="Bound">initialAddr</a> <a id="6509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6205" class="Bound">prevLastCallAddress</a> <a id="6529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6225" class="Bound">prevCalledAddress</a>
                        <a id="6571" class="Symbol">(</a><a id="6572" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6243" class="Bound">prevContinuation</a> <a id="6589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6399" class="Bound">result</a><a id="6595" class="Symbol">)</a> <a id="6597" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6407" class="Bound">gasLeft</a> <a id="6605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6290" class="Bound">prevFunName</a> <a id="6617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6302" class="Bound">prevMsgExec</a>

<a id="6630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="6636" class="CatchallClause"> </a><a id="6637" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6637" class="CatchallClause Bound">oldLedger</a><a id="6646" class="CatchallClause"> </a><a id="6647" class="CatchallClause Symbol">(</a><a id="6648" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="6655" class="CatchallClause"> </a><a id="6656" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6656" class="CatchallClause Bound">currentLedger</a><a id="6669" class="CatchallClause"> </a><a id="6670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6670" class="CatchallClause Bound">executionStack</a><a id="6684" class="CatchallClause"> </a><a id="6685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6685" class="CatchallClause Bound">initialAddr</a><a id="6696" class="CatchallClause"> </a><a id="6697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6697" class="CatchallClause Bound">lastCallAddr</a><a id="6709" class="CatchallClause"> </a><a id="6710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6710" class="CatchallClause Bound">calledAddr</a>
                 <a id="6738" class="CatchallClause Symbol">(</a><a id="6739" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="6743" class="CatchallClause"> </a><a id="6744" href="Complex-Model.ccomand.ccommands-cresponse.html#608" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="6762" class="CatchallClause"> </a><a id="6763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6763" class="CatchallClause Bound">costcomputecont</a><a id="6778" class="CatchallClause"> </a><a id="6779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6779" class="CatchallClause Bound">cont</a><a id="6783" class="CatchallClause Symbol">)</a><a id="6784" class="CatchallClause"> </a><a id="6785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6785" class="CatchallClause Bound">gasLeft</a>
                  <a id="6811" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="CatchallClause Bound">funNameevalState</a><a id="6827" class="CatchallClause"> </a><a id="6828" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6828" class="CatchallClause Bound">msgevalState</a><a id="6840" class="CatchallClause Symbol">)</a>
       <a id="6849" class="Symbol">=</a> <a id="6851" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="6859" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6656" class="Bound">currentLedger</a> <a id="6873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6670" class="Bound">executionStack</a> <a id="6888" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6685" class="Bound">initialAddr</a> <a id="6900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6697" class="Bound">lastCallAddr</a> <a id="6913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6710" class="Bound">calledAddr</a>
          <a id="6934" class="Symbol">(</a><a id="6935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6779" class="Bound">cont</a> <a id="6940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6710" class="Bound">calledAddr</a><a id="6950" class="Symbol">)</a> <a id="6952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6785" class="Bound">gasLeft</a>  <a id="6961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6811" class="Bound">funNameevalState</a> <a id="6978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#6828" class="Bound">msgevalState</a> 

<a id="6993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="6999" class="CatchallClause"> </a><a id="7000" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7000" class="CatchallClause Bound">oldLedger</a><a id="7009" class="CatchallClause"> </a><a id="7010" class="CatchallClause Symbol">(</a><a id="7011" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="7018" class="CatchallClause"> </a><a id="7019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7019" class="CatchallClause Bound">currentLedger</a><a id="7032" class="CatchallClause"> </a><a id="7033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7033" class="CatchallClause Bound">executionStack</a><a id="7047" class="CatchallClause"> </a><a id="7048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7048" class="CatchallClause Bound">initialAddr</a><a id="7059" class="CatchallClause"> </a><a id="7060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7060" class="CatchallClause Bound">lastCallAddr</a><a id="7072" class="CatchallClause"> </a><a id="7073" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="CatchallClause Bound">calledAddr</a>
                 <a id="7101" class="CatchallClause Symbol">(</a><a id="7102" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="7106" class="CatchallClause"> </a><a id="7107" href="Complex-Model.ccomand.ccommands-cresponse.html#643" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="7122" class="CatchallClause"> </a><a id="7123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7123" class="CatchallClause Bound">costcomputecont</a><a id="7138" class="CatchallClause"> </a><a id="7139" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7139" class="CatchallClause Bound">cont</a><a id="7143" class="CatchallClause Symbol">)</a><a id="7144" class="CatchallClause"> </a><a id="7145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7145" class="CatchallClause Bound">gasLeft</a>
                  <a id="7171" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7171" class="CatchallClause Bound">funNameevalState</a><a id="7187" class="CatchallClause"> </a><a id="7188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7188" class="CatchallClause Bound">msgevalState</a><a id="7200" class="CatchallClause Symbol">)</a>
       <a id="7209" class="Symbol">=</a> <a id="7211" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="7219" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7019" class="Bound">currentLedger</a> <a id="7233" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7033" class="Bound">executionStack</a> <a id="7248" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7048" class="Bound">initialAddr</a> <a id="7260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7060" class="Bound">lastCallAddr</a> <a id="7273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7073" class="Bound">calledAddr</a> <a id="7284" class="Symbol">(</a><a id="7285" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7139" class="Bound">cont</a> <a id="7290" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7060" class="Bound">lastCallAddr</a><a id="7302" class="Symbol">)</a>
          <a id="7314" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7145" class="Bound">gasLeft</a>  <a id="7323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7171" class="Bound">funNameevalState</a> <a id="7340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7188" class="Bound">msgevalState</a>

<a id="7354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="7360" class="CatchallClause"> </a><a id="7361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7361" class="CatchallClause Bound">oldLedger</a><a id="7370" class="CatchallClause"> </a><a id="7371" class="CatchallClause Symbol">(</a><a id="7372" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="7379" class="CatchallClause"> </a><a id="7380" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7380" class="CatchallClause Bound">currentLedger</a><a id="7393" class="CatchallClause"> </a><a id="7394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7394" class="CatchallClause Bound">executionStack</a><a id="7408" class="CatchallClause"> </a><a id="7409" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7409" class="CatchallClause Bound">initialAddr</a><a id="7420" class="CatchallClause"> </a><a id="7421" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7421" class="CatchallClause Bound">lastCallAddr</a><a id="7433" class="CatchallClause"> </a><a id="7434" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7434" class="CatchallClause Bound">calledAddr</a>
                 <a id="7462" class="CatchallClause Symbol">(</a><a id="7463" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="7467" class="CatchallClause"> </a><a id="7468" class="CatchallClause Symbol">(</a><a id="7469" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">updatec</a><a id="7476" class="CatchallClause"> </a><a id="7477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7477" class="CatchallClause Bound">changedFname</a><a id="7489" class="CatchallClause"> </a><a id="7490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7490" class="CatchallClause Bound">changedPFun</a><a id="7501" class="CatchallClause"> </a><a id="7502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7502" class="CatchallClause Bound">cost</a><a id="7506" class="CatchallClause Symbol">)</a><a id="7507" class="CatchallClause"> </a><a id="7508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7508" class="CatchallClause Bound">costcomputecont</a><a id="7523" class="CatchallClause"> </a><a id="7524" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7524" class="CatchallClause Bound">cont</a><a id="7528" class="CatchallClause Symbol">)</a>
                 <a id="7547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7547" class="CatchallClause Bound">gasLeft</a><a id="7554" class="CatchallClause">  </a><a id="7556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7556" class="CatchallClause Bound">funNameevalState</a><a id="7572" class="CatchallClause"> </a><a id="7573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7573" class="CatchallClause Bound">msgevalState</a><a id="7585" class="CatchallClause Symbol">)</a>
       <a id="7594" class="Symbol">=</a> <a id="7596" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="7604" class="Symbol">(</a><a id="7605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#780" class="Function">updateLedgerpurefun</a> <a id="7625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7380" class="Bound">currentLedger</a> <a id="7639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7434" class="Bound">calledAddr</a> <a id="7650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7477" class="Bound">changedFname</a>  <a id="7664" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7490" class="Bound">changedPFun</a><a id="7675" class="Symbol">)</a>
          <a id="7687" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7394" class="Bound">executionStack</a> <a id="7702" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7409" class="Bound">initialAddr</a> <a id="7714" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7421" class="Bound">lastCallAddr</a> <a id="7727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7434" class="Bound">calledAddr</a> <a id="7738" class="Symbol">(</a><a id="7739" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7524" class="Bound">cont</a> <a id="7744" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="7746" class="Symbol">)</a> <a id="7748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7547" class="Bound">gasLeft</a>
            <a id="7768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7556" class="Bound">funNameevalState</a> <a id="7785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7573" class="Bound">msgevalState</a>

<a id="7799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="7805" class="CatchallClause"> </a><a id="7806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7806" class="CatchallClause Bound">oldLedger</a><a id="7815" class="CatchallClause"> </a><a id="7816" class="CatchallClause Symbol">(</a><a id="7817" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="7824" class="CatchallClause"> </a><a id="7825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7825" class="CatchallClause Bound">currentLedger</a><a id="7838" class="CatchallClause"> </a><a id="7839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7839" class="CatchallClause Bound">executionStack</a><a id="7853" class="CatchallClause"> </a><a id="7854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7854" class="CatchallClause Bound">initialAddr</a><a id="7865" class="CatchallClause"> </a><a id="7866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7866" class="CatchallClause Bound">oldlastCallAddr</a><a id="7881" class="CatchallClause"> </a><a id="7882" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7882" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="7913" class="CatchallClause Symbol">(</a><a id="7914" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="7918" class="CatchallClause"> </a><a id="7919" class="CatchallClause Symbol">(</a><a id="7920" href="Complex-Model.ccomand.ccommands-cresponse.html#675" class="CatchallClause InductiveConstructor">callc</a><a id="7925" class="CatchallClause"> </a><a id="7926" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7926" class="CatchallClause Bound">newaddr</a><a id="7933" class="CatchallClause"> </a><a id="7934" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7934" class="CatchallClause Bound">fname</a><a id="7939" class="CatchallClause"> </a><a id="7940" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="CatchallClause Bound">msg</a><a id="7943" class="CatchallClause Symbol">)</a><a id="7944" class="CatchallClause"> </a><a id="7945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7945" class="CatchallClause Bound">costcomputecont</a><a id="7960" class="CatchallClause"> </a><a id="7961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="CatchallClause Bound">cont</a><a id="7965" class="CatchallClause Symbol">)</a>
                 <a id="7984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7984" class="CatchallClause Bound">gasLeft</a><a id="7991" class="CatchallClause">  </a><a id="7993" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7993" class="CatchallClause Bound">funNameevalState</a><a id="8009" class="CatchallClause"> </a><a id="8010" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8010" class="CatchallClause Bound">msgevalState</a><a id="8022" class="CatchallClause Symbol">)</a>
       <a id="8031" class="Symbol">=</a> <a id="8033" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="8041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7825" class="Bound">currentLedger</a>
           <a id="8066" class="Symbol">(</a><a id="8067" href="libraries.Mainlibrary.html#1164" class="InductiveConstructor">execStackEl</a> <a id="8079" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7866" class="Bound">oldlastCallAddr</a> <a id="8095" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7882" class="Bound">oldcalledAddr</a> <a id="8109" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7961" class="Bound">cont</a> <a id="8114" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7945" class="Bound">costcomputecont</a> <a id="8130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7993" class="Bound">funNameevalState</a> <a id="8147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8010" class="Bound">msgevalState</a> <a id="8160" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7839" class="Bound">executionStack</a><a id="8176" class="Symbol">)</a>
           <a id="8189" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7854" class="Bound">initialAddr</a> <a id="8201" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7882" class="Bound">oldcalledAddr</a> <a id="8215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7926" class="Bound">newaddr</a> <a id="8223" class="Symbol">(</a><a id="8224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7825" class="Bound">currentLedger</a> <a id="8238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7926" class="Bound">newaddr</a> <a id="8246" class="Symbol">.</a><a id="8247" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="8251" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7934" class="Bound">fname</a> <a id="8257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="Bound">msg</a><a id="8260" class="Symbol">)</a>
           <a id="8273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7984" class="Bound">gasLeft</a>  <a id="8282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7934" class="Bound">fname</a> <a id="8288" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#7940" class="Bound">msg</a>

<a id="8293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="8299" class="CatchallClause"> </a><a id="8300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8300" class="CatchallClause Bound">oldLedger</a><a id="8309" class="CatchallClause"> </a><a id="8310" class="CatchallClause Symbol">(</a><a id="8311" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="8318" class="CatchallClause"> </a><a id="8319" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8319" class="CatchallClause Bound">currentLedger</a><a id="8332" class="CatchallClause"> </a><a id="8333" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8333" class="CatchallClause Bound">executionStack</a><a id="8347" class="CatchallClause"> </a><a id="8348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8348" class="CatchallClause Bound">initialAddr</a><a id="8359" class="CatchallClause"> </a><a id="8360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8360" class="CatchallClause Bound">lastCallAddr</a><a id="8372" class="CatchallClause"> </a><a id="8373" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8373" class="CatchallClause Bound">calledAddr</a>
                 <a id="8401" class="CatchallClause Symbol">(</a><a id="8402" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="8406" class="CatchallClause"> </a><a id="8407" class="CatchallClause Symbol">(</a><a id="8408" href="Complex-Model.ccomand.ccommands-cresponse.html#816" class="CatchallClause InductiveConstructor">transferc</a><a id="8417" class="CatchallClause"> </a><a id="8418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8418" class="CatchallClause Bound">amount</a><a id="8424" class="CatchallClause"> </a><a id="8425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8425" class="CatchallClause Bound">destinationAddr</a><a id="8440" class="CatchallClause Symbol">)</a><a id="8441" class="CatchallClause"> </a><a id="8442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8442" class="CatchallClause Bound">costcomputecont</a><a id="8457" class="CatchallClause"> </a><a id="8458" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8458" class="CatchallClause Bound">cont</a><a id="8462" class="CatchallClause Symbol">)</a>
                  <a id="8482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8482" class="CatchallClause Bound">gasLeft</a><a id="8489" class="CatchallClause">  </a><a id="8491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8491" class="CatchallClause Bound">funNameevalState</a><a id="8507" class="CatchallClause"> </a><a id="8508" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="CatchallClause Bound">msgevalState</a><a id="8520" class="CatchallClause Symbol">)</a>
       <a id="8529" class="Symbol">=</a> <a id="8531" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#4850" class="Function">executeTransfer</a> <a id="8547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8300" class="Bound">oldLedger</a> <a id="8557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8319" class="Bound">currentLedger</a> <a id="8571" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8333" class="Bound">executionStack</a> <a id="8586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8348" class="Bound">initialAddr</a> <a id="8598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8360" class="Bound">lastCallAddr</a> <a id="8611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8373" class="Bound">calledAddr</a>
       <a id="8629" class="Symbol">(</a><a id="8630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8458" class="Bound">cont</a> <a id="8635" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="8637" class="Symbol">)</a> <a id="8639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8482" class="Bound">gasLeft</a>  <a id="8648" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8491" class="Bound">funNameevalState</a> <a id="8665" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8508" class="Bound">msgevalState</a>
           <a id="8689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8418" class="Bound">amount</a> <a id="8696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8425" class="Bound">destinationAddr</a>
           
<a id="8724" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="8730" class="CatchallClause"> </a><a id="8731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8731" class="CatchallClause Bound">oldLedger</a><a id="8740" class="CatchallClause"> </a><a id="8741" class="CatchallClause Symbol">(</a><a id="8742" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="8749" class="CatchallClause"> </a><a id="8750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="CatchallClause Bound">currentLedger</a><a id="8763" class="CatchallClause"> </a><a id="8764" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8764" class="CatchallClause Bound">executionStack</a><a id="8778" class="CatchallClause"> </a><a id="8779" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8779" class="CatchallClause Bound">initialAddr</a><a id="8790" class="CatchallClause"> </a><a id="8791" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8791" class="CatchallClause Bound">lastCallAddr</a><a id="8803" class="CatchallClause"> </a><a id="8804" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8804" class="CatchallClause Bound">calledAddr</a>
                 <a id="8832" class="CatchallClause Symbol">(</a><a id="8833" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="8837" class="CatchallClause"> </a><a id="8838" class="CatchallClause Symbol">(</a><a id="8839" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">getAmountc</a><a id="8849" class="CatchallClause"> </a><a id="8850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8850" class="CatchallClause Bound">addrLookedUp</a><a id="8862" class="CatchallClause Symbol">)</a><a id="8863" class="CatchallClause"> </a><a id="8864" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8864" class="CatchallClause Bound">costcomputecont</a><a id="8879" class="CatchallClause"> </a><a id="8880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8880" class="CatchallClause Bound">cont</a><a id="8884" class="CatchallClause Symbol">)</a><a id="8885" class="CatchallClause"> </a><a id="8886" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8886" class="CatchallClause Bound">gasLeft</a>
                   <a id="8913" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8913" class="CatchallClause Bound">funNameevalState</a><a id="8929" class="CatchallClause"> </a><a id="8930" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8930" class="CatchallClause Bound">msgevalState</a><a id="8942" class="CatchallClause Symbol">)</a>
      <a id="8950" class="Symbol">=</a> <a id="8952" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="8960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="Bound">currentLedger</a> <a id="8974" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8764" class="Bound">executionStack</a> <a id="8989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8779" class="Bound">initialAddr</a> <a id="9001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8791" class="Bound">lastCallAddr</a> <a id="9014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8804" class="Bound">calledAddr</a>
           <a id="9036" class="Symbol">(</a><a id="9037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8880" class="Bound">cont</a> <a id="9042" class="Symbol">(</a><a id="9043" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8750" class="Bound">currentLedger</a> <a id="9057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8850" class="Bound">addrLookedUp</a> <a id="9070" class="Symbol">.</a><a id="9071" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="9077" class="Symbol">))</a> <a id="9080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8886" class="Bound">gasLeft</a>
              <a id="9102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8913" class="Bound">funNameevalState</a> <a id="9119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#8930" class="Bound">msgevalState</a>
              
<a id="9147" class="Comment">--------------------- new for raiseException</a>
<a id="9192" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="9198" class="CatchallClause"> </a><a id="9199" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9199" class="CatchallClause Bound">oldLedger</a><a id="9208" class="CatchallClause"> </a><a id="9209" class="CatchallClause Symbol">(</a><a id="9210" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="9217" class="CatchallClause"> </a><a id="9218" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9218" class="CatchallClause Bound">ledger</a><a id="9224" class="CatchallClause"> </a><a id="9225" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="CatchallClause Bound">executionStack</a><a id="9239" class="CatchallClause"> </a><a id="9240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9240" class="CatchallClause Bound">initialAddr</a><a id="9251" class="CatchallClause"> </a><a id="9252" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9252" class="CatchallClause Bound">lastCallAddr</a><a id="9264" class="CatchallClause"> </a><a id="9265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9265" class="CatchallClause Bound">calledAddr</a>
                   <a id="9295" class="CatchallClause Symbol">(</a><a id="9296" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="9300" class="CatchallClause"> </a><a id="9301" class="CatchallClause Symbol">(</a><a id="9302" href="Complex-Model.ccomand.ccommands-cresponse.html#899" class="CatchallClause InductiveConstructor">raiseException</a><a id="9316" class="CatchallClause"> </a><a id="9317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9317" class="CatchallClause Bound">cost</a><a id="9321" class="CatchallClause"> </a><a id="9322" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9322" class="CatchallClause Bound">str</a><a id="9325" class="CatchallClause Symbol">)</a><a id="9326" class="CatchallClause"> </a><a id="9327" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9327" class="CatchallClause Bound">costcomputecont</a><a id="9342" class="CatchallClause"> </a><a id="9343" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9343" class="CatchallClause Bound">cont</a><a id="9347" class="CatchallClause Symbol">)</a>
                   <a id="9368" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9368" class="CatchallClause Bound">gasLeft</a><a id="9375" class="CatchallClause"> </a><a id="9376" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9376" class="CatchallClause Bound">funNameevalState</a><a id="9392" class="CatchallClause"> </a><a id="9393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="CatchallClause Bound">msgevalState</a><a id="9405" class="CatchallClause Symbol">)</a>
                   <a id="9426" class="Symbol">=</a> <a id="9428" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="9436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9199" class="Bound">oldLedger</a> <a id="9446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9225" class="Bound">executionStack</a> <a id="9461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9240" class="Bound">initialAddr</a> <a id="9473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9252" class="Bound">lastCallAddr</a> <a id="9486" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9265" class="Bound">calledAddr</a>
                     <a id="9518" class="Symbol">(</a><a id="9519" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a>  <a id="9526" class="Symbol">(</a><a id="9527" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="9534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9322" class="Bound">str</a><a id="9537" class="Symbol">)</a> 
                     <a id="9561" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="9563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9252" class="Bound">lastCallAddr</a> <a id="9576" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="9579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9240" class="Bound">initialAddr</a> <a id="9591" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="9593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9376" class="Bound">funNameevalState</a> <a id="9610" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="9612" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="Bound">msgevalState</a> <a id="9625" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="9627" class="Symbol">)</a>
                     <a id="9650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9368" class="Bound">gasLeft</a> <a id="9658" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9376" class="Bound">funNameevalState</a> <a id="9675" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9393" class="Bound">msgevalState</a>



<a id="9691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="9697" class="CatchallClause"> </a><a id="9698" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="CatchallClause Bound">oldLedger</a><a id="9707" class="CatchallClause"> </a><a id="9708" class="CatchallClause Symbol">(</a><a id="9709" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="9716" class="CatchallClause"> </a><a id="9717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9717" class="CatchallClause Bound">currentLedger</a><a id="9730" class="CatchallClause"> </a><a id="9731" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9731" class="CatchallClause Bound">executionStack</a><a id="9745" class="CatchallClause"> </a><a id="9746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9746" class="CatchallClause Bound">initialAddr</a><a id="9757" class="CatchallClause"> </a><a id="9758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9758" class="CatchallClause Bound">lastCallAddr</a><a id="9770" class="CatchallClause"> </a><a id="9771" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9771" class="CatchallClause Bound">calledAddr</a>
                 <a id="9799" class="CatchallClause Symbol">(</a><a id="9800" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="9805" class="CatchallClause"> </a><a id="9806" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="CatchallClause Bound">errorMsg</a><a id="9814" class="CatchallClause"> </a><a id="9815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9815" class="CatchallClause Bound">debugInfo</a><a id="9824" class="CatchallClause Symbol">)</a><a id="9825" class="CatchallClause"> </a><a id="9826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9826" class="CatchallClause Bound">gasLeft</a><a id="9833" class="CatchallClause">  </a><a id="9835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9835" class="CatchallClause Bound">funNameevalState</a><a id="9851" class="CatchallClause"> </a><a id="9852" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9852" class="CatchallClause Bound">msgevalState</a><a id="9864" class="CatchallClause Symbol">)</a>
       <a id="9873" class="Symbol">=</a> <a id="9875" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="9883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9698" class="Bound">oldLedger</a> <a id="9893" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9731" class="Bound">executionStack</a> <a id="9908" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9746" class="Bound">initialAddr</a> <a id="9920" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9758" class="Bound">lastCallAddr</a> <a id="9933" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9771" class="Bound">calledAddr</a>
         <a id="9953" class="Symbol">(</a><a id="9954" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a> <a id="9960" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9806" class="Bound">errorMsg</a> <a id="9969" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9815" class="Bound">debugInfo</a><a id="9978" class="Symbol">)</a>  <a id="9981" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9826" class="Bound">gasLeft</a>  <a id="9990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9835" class="Bound">funNameevalState</a> <a id="10007" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#9852" class="Bound">msgevalState</a>


<a id="10022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="CatchallClause Function">stepEF</a><a id="10028" class="CatchallClause"> </a><a id="10029" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10029" class="CatchallClause Bound">oldLedger</a><a id="10038" class="CatchallClause"> </a><a id="10039" class="CatchallClause Symbol">(</a><a id="10040" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="10047" class="CatchallClause"> </a><a id="10048" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="CatchallClause Bound">currentLedger</a><a id="10061" class="CatchallClause"> </a><a id="10062" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10062" class="CatchallClause Bound">executionStack</a><a id="10076" class="CatchallClause"> </a><a id="10077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10077" class="CatchallClause Bound">initialAddr</a><a id="10088" class="CatchallClause"> </a><a id="10089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10089" class="CatchallClause Bound">lastCallAddr</a><a id="10101" class="CatchallClause"> </a><a id="10102" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10102" class="CatchallClause Bound">calledAddr</a>
                 <a id="10130" class="CatchallClause Symbol">(</a><a id="10131" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="10135" class="CatchallClause"> </a><a id="10136" class="CatchallClause Symbol">(</a><a id="10137" href="Complex-Model.ccomand.ccommands-cresponse.html#730" class="CatchallClause InductiveConstructor">callPure</a><a id="10145" class="CatchallClause"> </a><a id="10146" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="CatchallClause Bound">addr</a><a id="10150" class="CatchallClause"> </a><a id="10151" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="CatchallClause Bound">fname</a><a id="10156" class="CatchallClause"> </a><a id="10157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="CatchallClause Bound">msg</a><a id="10160" class="CatchallClause Symbol">)</a><a id="10161" class="CatchallClause"> </a><a id="10162" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10162" class="CatchallClause Bound">costcomputecont</a><a id="10177" class="CatchallClause"> </a><a id="10178" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10178" class="CatchallClause Bound">cont</a><a id="10182" class="CatchallClause Symbol">)</a><a id="10183" class="CatchallClause"> </a><a id="10184" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10184" class="CatchallClause Bound">gasLeft</a>
                  <a id="10210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10210" class="CatchallClause Bound">funNameevalState</a><a id="10226" class="CatchallClause"> </a><a id="10227" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10227" class="CatchallClause Bound">msgevalState</a><a id="10239" class="CatchallClause Symbol">)</a>
                  <a id="10259" class="Symbol">=</a> <a id="10261" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="10269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="Bound">currentLedger</a> <a id="10283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10062" class="Bound">executionStack</a> <a id="10298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10077" class="Bound">initialAddr</a> <a id="10310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10089" class="Bound">lastCallAddr</a> <a id="10323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10102" class="Bound">calledAddr</a>
                    <a id="10354" class="Symbol">(</a><a id="10355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10178" class="Bound">cont</a> <a id="10360" class="Symbol">(</a><a id="10361" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="Bound">currentLedger</a> <a id="10375" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="Bound">addr</a> <a id="10380" class="Symbol">.</a><a id="10381" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="10394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="Bound">fname</a> <a id="10400" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="Bound">msg</a><a id="10403" class="Symbol">))</a>
                    <a id="10426" class="Symbol">(</a><a id="10427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10184" class="Bound">gasLeft</a> <a id="10435" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="10437" class="Symbol">(</a><a id="10438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10162" class="Bound">costcomputecont</a> <a id="10454" class="Symbol">(</a><a id="10455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10048" class="Bound">currentLedger</a> <a id="10469" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10146" class="Bound">addr</a> <a id="10474" class="Symbol">.</a><a id="10475" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="10488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="Bound">fname</a> <a id="10494" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="Bound">msg</a><a id="10497" class="Symbol">)))</a> <a id="10501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10151" class="Bound">fname</a> <a id="10507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10157" class="Bound">msg</a>


<a id="10513" class="Comment">-- stepEFgasAvailable which returns gasLeft</a>
<a id="stepEFgasAvailable"></a><a id="10557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="10576" class="Symbol">:</a> <a id="10578" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="10591" class="Symbol">→</a> <a id="10593" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="10595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="10614" class="Symbol">(</a><a id="10615" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="10623" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10623" class="Bound">ledger</a> <a id="10630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10630" class="Bound">executionStack</a> <a id="10645" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10645" class="Bound">initialAddr</a>
                   <a id="10676" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10676" class="Bound">lastCallAddr</a> <a id="10689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10689" class="Bound">calledAddr</a>
                   <a id="10719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10719" class="Bound">nextstep</a> <a id="10728" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10728" class="Bound">gasLeft</a>  <a id="10737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10737" class="Bound">funNameevalState</a> <a id="10754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10754" class="Bound">msgevalState</a><a id="10766" class="Symbol">)</a>
                   <a id="10787" class="Symbol">=</a> <a id="10789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10728" class="Bound">gasLeft</a>


<a id="10799" class="Comment">--this function simliar to stepEF and deduct the gasleft</a>
<a id="10856" class="Comment">--which returns the gas deducted</a>
<a id="stepEFgasNeeded"></a><a id="10889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="10905" class="Symbol">:</a> <a id="10907" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="10920" class="Symbol">→</a> <a id="10922" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
<a id="10924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a>  <a id="10941" class="Symbol">(</a><a id="10942" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="10950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10950" class="Bound">currentLedger</a> <a id="10964" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10967" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10967" class="Bound">initialAddr</a> <a id="10979" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10979" class="Bound">lastCallAddr</a> <a id="10992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10992" class="Bound">calledAddr</a>
                 <a id="11020" class="Symbol">(</a><a id="11021" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="11028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11028" class="Bound">cost</a> <a id="11033" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11033" class="Bound">result</a><a id="11039" class="Symbol">)</a> <a id="11041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11041" class="Bound">gasLeft</a>  <a id="11050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11050" class="Bound">funNameevalState</a> <a id="11067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11067" class="Bound">msgevalState</a><a id="11079" class="Symbol">)</a>
       <a id="11088" class="Symbol">=</a> <a id="11090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11028" class="Bound">cost</a> 
<a id="11096" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a>  <a id="11113" class="Symbol">(</a><a id="11114" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="11122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11122" class="Bound">currentLedger</a> <a id="11136" class="Symbol">(</a><a id="11137" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11137" class="Bound">execSEl</a> <a id="11145" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11147" class="Bound">executionStack</a><a id="11161" class="Symbol">)</a> <a id="11163" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11163" class="Bound">initialAddr</a> <a id="11175" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11175" class="Bound">lastCallAddr</a> <a id="11188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11188" class="Bound">calledAddr</a>
                 <a id="11216" class="Symbol">(</a><a id="11217" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="11224" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11224" class="Bound">cost</a> <a id="11229" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11229" class="Bound">result</a><a id="11235" class="Symbol">)</a> <a id="11237" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11237" class="Bound">gasLeft</a>  <a id="11246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11246" class="Bound">funNameevalState</a> <a id="11263" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11263" class="Bound">msgevalState</a><a id="11275" class="Symbol">)</a>
       <a id="11284" class="Symbol">=</a> <a id="11286" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11224" class="Bound">cost</a> 

<a id="11293" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="11308" class="CatchallClause"> </a><a id="11309" class="CatchallClause Symbol">(</a><a id="11310" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="11317" class="CatchallClause"> </a><a id="11318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11318" class="CatchallClause Bound">currentLedger</a><a id="11331" class="CatchallClause"> </a><a id="11332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11332" class="CatchallClause Bound">executionStack</a><a id="11346" class="CatchallClause"> </a><a id="11347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11347" class="CatchallClause Bound">initialAddr</a><a id="11358" class="CatchallClause"> </a><a id="11359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11359" class="CatchallClause Bound">lastCallAddr</a><a id="11371" class="CatchallClause"> </a><a id="11372" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11372" class="CatchallClause Bound">calledAddr</a>
                 <a id="11400" class="CatchallClause Symbol">(</a><a id="11401" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="11405" class="CatchallClause"> </a><a id="11406" href="Complex-Model.ccomand.ccommands-cresponse.html#608" class="CatchallClause InductiveConstructor">currentAddrLookupc</a><a id="11424" class="CatchallClause"> </a><a id="11425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11425" class="CatchallClause Bound">costcomputecont</a><a id="11440" class="CatchallClause"> </a><a id="11441" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11441" class="CatchallClause Bound">cont</a><a id="11445" class="CatchallClause Symbol">)</a>
                 <a id="11464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11464" class="CatchallClause Bound">gasLeft</a><a id="11471" class="CatchallClause">  </a><a id="11473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11473" class="CatchallClause Bound">funNameevalState</a><a id="11489" class="CatchallClause"> </a><a id="11490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11490" class="CatchallClause Bound">msgevalState</a><a id="11502" class="CatchallClause Symbol">)</a>
       <a id="11511" class="Symbol">=</a> <a id="11513" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11425" class="Bound">costcomputecont</a> <a id="11529" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11372" class="Bound">calledAddr</a>

<a id="11541" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="11556" class="CatchallClause"> </a><a id="11557" class="CatchallClause Symbol">(</a><a id="11558" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="11565" class="CatchallClause"> </a><a id="11566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11566" class="CatchallClause Bound">currentLedger</a><a id="11579" class="CatchallClause"> </a><a id="11580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11580" class="CatchallClause Bound">executionStack</a><a id="11594" class="CatchallClause"> </a><a id="11595" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11595" class="CatchallClause Bound">initialAddr</a><a id="11606" class="CatchallClause"> </a><a id="11607" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11607" class="CatchallClause Bound">lastCallAddr</a><a id="11619" class="CatchallClause"> </a><a id="11620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11620" class="CatchallClause Bound">calledAddr</a>
                 <a id="11648" class="CatchallClause Symbol">(</a><a id="11649" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="11653" class="CatchallClause"> </a><a id="11654" href="Complex-Model.ccomand.ccommands-cresponse.html#643" class="CatchallClause InductiveConstructor">callAddrLookupc</a><a id="11669" class="CatchallClause"> </a><a id="11670" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11670" class="CatchallClause Bound">costcomputecont</a><a id="11685" class="CatchallClause"> </a><a id="11686" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11686" class="CatchallClause Bound">cont</a><a id="11690" class="CatchallClause Symbol">)</a>
                 <a id="11709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11709" class="CatchallClause Bound">gasLeft</a><a id="11716" class="CatchallClause">  </a><a id="11718" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11718" class="CatchallClause Bound">funNameevalState</a><a id="11734" class="CatchallClause"> </a><a id="11735" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11735" class="CatchallClause Bound">msgevalState</a><a id="11747" class="CatchallClause Symbol">)</a>
       <a id="11756" class="Symbol">=</a> <a id="11758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11670" class="Bound">costcomputecont</a> <a id="11774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11607" class="Bound">lastCallAddr</a>

<a id="11788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="11803" class="CatchallClause"> </a><a id="11804" class="CatchallClause Symbol">(</a><a id="11805" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="11812" class="CatchallClause"> </a><a id="11813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11813" class="CatchallClause Bound">currentLedger</a><a id="11826" class="CatchallClause"> </a><a id="11827" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11827" class="CatchallClause Bound">executionStack</a><a id="11841" class="CatchallClause"> </a><a id="11842" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11842" class="CatchallClause Bound">initialAddr</a><a id="11853" class="CatchallClause"> </a><a id="11854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11854" class="CatchallClause Bound">lastCallAddr</a><a id="11866" class="CatchallClause"> </a><a id="11867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11867" class="CatchallClause Bound">calledAddr</a>
                 <a id="11895" class="CatchallClause Symbol">(</a><a id="11896" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="11900" class="CatchallClause"> </a><a id="11901" class="CatchallClause Symbol">(</a><a id="11902" href="Complex-Model.ccomand.ccommands-cresponse.html#486" class="CatchallClause InductiveConstructor">updatec</a><a id="11909" class="CatchallClause"> </a><a id="11910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11910" class="CatchallClause Bound">changedFname</a><a id="11922" class="CatchallClause"> </a><a id="11923" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11923" class="CatchallClause Bound">changedPufun</a><a id="11935" class="CatchallClause"> </a><a id="11936" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="CatchallClause Bound">cost</a><a id="11940" class="CatchallClause Symbol">)</a><a id="11941" class="CatchallClause"> </a><a id="11942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11942" class="CatchallClause Bound">costcomputecont</a><a id="11957" class="CatchallClause"> </a><a id="11958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11958" class="CatchallClause Bound">cont</a><a id="11962" class="CatchallClause Symbol">)</a>  
                 <a id="11983" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11983" class="CatchallClause Bound">gasLeft</a><a id="11990" class="CatchallClause">  </a><a id="11992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11992" class="CatchallClause Bound">funNameevalState</a><a id="12008" class="CatchallClause"> </a><a id="12009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12009" class="CatchallClause Bound">msgevalState</a><a id="12021" class="CatchallClause Symbol">)</a>
       <a id="12030" class="Symbol">=</a> <a id="12032" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11936" class="Bound">cost</a> <a id="12037" class="Symbol">(</a><a id="12038" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11813" class="Bound">currentLedger</a> <a id="12052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11867" class="Bound">calledAddr</a> <a id="12063" class="Symbol">.</a><a id="12064" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="12077" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11910" class="Bound">changedFname</a><a id="12089" class="Symbol">)</a> <a id="12091" href="Agda.Builtin.Nat.html#325" class="Primitive Operator">+</a> <a id="12093" class="Symbol">(</a><a id="12094" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#11942" class="Bound">costcomputecont</a> <a id="12110" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="12112" class="Symbol">)</a> 
   

<a id="12120" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12135" class="CatchallClause"> </a><a id="12136" class="CatchallClause Symbol">(</a><a id="12137" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12144" class="CatchallClause"> </a><a id="12145" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12145" class="CatchallClause Bound">currentLedger</a><a id="12158" class="CatchallClause"> </a><a id="12159" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12159" class="CatchallClause Bound">executionStack</a><a id="12173" class="CatchallClause"> </a><a id="12174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12174" class="CatchallClause Bound">initialAddr</a><a id="12185" class="CatchallClause"> </a><a id="12186" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12186" class="CatchallClause Bound">oldlastCallAddr</a><a id="12201" class="CatchallClause"> </a><a id="12202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12202" class="CatchallClause Bound">oldcalledAddr</a>
                 <a id="12233" class="CatchallClause Symbol">(</a><a id="12234" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12238" class="CatchallClause"> </a><a id="12239" class="CatchallClause Symbol">(</a><a id="12240" href="Complex-Model.ccomand.ccommands-cresponse.html#675" class="CatchallClause InductiveConstructor">callc</a><a id="12245" class="CatchallClause"> </a><a id="12246" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12246" class="CatchallClause Bound">newaddr</a><a id="12253" class="CatchallClause"> </a><a id="12254" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12254" class="CatchallClause Bound">fname</a><a id="12259" class="CatchallClause"> </a><a id="12260" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12260" class="CatchallClause Bound">msg</a><a id="12263" class="CatchallClause Symbol">)</a><a id="12264" class="CatchallClause"> </a><a id="12265" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12265" class="CatchallClause Bound">costcomputecont</a><a id="12280" class="CatchallClause"> </a><a id="12281" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12281" class="CatchallClause Bound">cont</a><a id="12285" class="CatchallClause Symbol">)</a>
                 <a id="12304" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12304" class="CatchallClause Bound">gasLeft</a><a id="12311" class="CatchallClause">  </a><a id="12313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12313" class="CatchallClause Bound">funNameevalState</a><a id="12329" class="CatchallClause"> </a><a id="12330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12330" class="CatchallClause Bound">msgevalState</a><a id="12342" class="CatchallClause Symbol">)</a>
       <a id="12351" class="Symbol">=</a> <a id="12353" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12265" class="Bound">costcomputecont</a> <a id="12369" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12260" class="Bound">msg</a>

<a id="12374" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12389" class="CatchallClause"> </a><a id="12390" class="CatchallClause Symbol">(</a><a id="12391" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12398" class="CatchallClause"> </a><a id="12399" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12399" class="CatchallClause Bound">currentLedger</a><a id="12412" class="CatchallClause"> </a><a id="12413" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12413" class="CatchallClause Bound">executionStack</a><a id="12427" class="CatchallClause"> </a><a id="12428" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12428" class="CatchallClause Bound">initialAddr</a><a id="12439" class="CatchallClause"> </a><a id="12440" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12440" class="CatchallClause Bound">lastCallAddr</a><a id="12452" class="CatchallClause"> </a><a id="12453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12453" class="CatchallClause Bound">calledAddr</a>
                 <a id="12481" class="CatchallClause Symbol">(</a><a id="12482" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12486" class="CatchallClause"> </a><a id="12487" class="CatchallClause Symbol">(</a><a id="12488" href="Complex-Model.ccomand.ccommands-cresponse.html#816" class="CatchallClause InductiveConstructor">transferc</a><a id="12497" class="CatchallClause"> </a><a id="12498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12498" class="CatchallClause Bound">amount</a><a id="12504" class="CatchallClause"> </a><a id="12505" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12505" class="CatchallClause Bound">destinationAddr</a><a id="12520" class="CatchallClause Symbol">)</a><a id="12521" class="CatchallClause"> </a><a id="12522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12522" class="CatchallClause Bound">costcomputecont</a><a id="12537" class="CatchallClause"> </a><a id="12538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12538" class="CatchallClause Bound">cont</a><a id="12542" class="CatchallClause Symbol">)</a>
                 <a id="12561" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12561" class="CatchallClause Bound">gasLeft</a><a id="12568" class="CatchallClause">  </a><a id="12570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12570" class="CatchallClause Bound">funNameevalState</a><a id="12586" class="CatchallClause"> </a><a id="12587" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12587" class="CatchallClause Bound">msgevalState</a><a id="12599" class="CatchallClause Symbol">)</a>
       <a id="12608" class="Symbol">=</a> <a id="12610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12522" class="Bound">costcomputecont</a> <a id="12626" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a>

<a id="12630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12645" class="CatchallClause"> </a><a id="12646" class="CatchallClause Symbol">(</a><a id="12647" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12654" class="CatchallClause"> </a><a id="12655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12655" class="CatchallClause Bound">currentLedger</a><a id="12668" class="CatchallClause"> </a><a id="12669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12669" class="CatchallClause Bound">executionStack</a><a id="12683" class="CatchallClause"> </a><a id="12684" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12684" class="CatchallClause Bound">initialAddr</a><a id="12695" class="CatchallClause"> </a><a id="12696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12696" class="CatchallClause Bound">lastCallAddr</a><a id="12708" class="CatchallClause"> </a><a id="12709" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12709" class="CatchallClause Bound">calledAddr</a>
                 <a id="12737" class="CatchallClause Symbol">(</a><a id="12738" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="12742" class="CatchallClause"> </a><a id="12743" class="CatchallClause Symbol">(</a><a id="12744" href="Complex-Model.ccomand.ccommands-cresponse.html#862" class="CatchallClause InductiveConstructor">getAmountc</a><a id="12754" class="CatchallClause">  </a><a id="12756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12756" class="CatchallClause Bound">addrLookedUp</a><a id="12768" class="CatchallClause Symbol">)</a><a id="12769" class="CatchallClause"> </a><a id="12770" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12770" class="CatchallClause Bound">costcomputecont</a><a id="12785" class="CatchallClause"> </a><a id="12786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12786" class="CatchallClause Bound">cont</a><a id="12790" class="CatchallClause Symbol">)</a>
                 <a id="12809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12809" class="CatchallClause Bound">gasLeft</a><a id="12816" class="CatchallClause">  </a><a id="12818" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12818" class="CatchallClause Bound">funNameevalState</a><a id="12834" class="CatchallClause"> </a><a id="12835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12835" class="CatchallClause Bound">msgevalState</a><a id="12847" class="CatchallClause Symbol">)</a>
       <a id="12856" class="Symbol">=</a> <a id="12858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12770" class="Bound">costcomputecont</a> <a id="12874" class="Symbol">(</a><a id="12875" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12655" class="Bound">currentLedger</a> <a id="12889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12756" class="Bound">addrLookedUp</a> <a id="12902" class="Symbol">.</a><a id="12903" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="12909" class="Symbol">)</a>

      
<a id="12919" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="12934" class="CatchallClause"> </a><a id="12935" class="CatchallClause Symbol">(</a><a id="12936" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="12943" class="CatchallClause"> </a><a id="12944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12944" class="CatchallClause Bound">ledger</a><a id="12950" class="CatchallClause"> </a><a id="12951" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12951" class="CatchallClause Bound">executionStack</a><a id="12965" class="CatchallClause"> </a><a id="12966" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12966" class="CatchallClause Bound">initialAddr</a><a id="12977" class="CatchallClause"> </a><a id="12978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12978" class="CatchallClause Bound">lastCallAddr</a><a id="12990" class="CatchallClause"> </a><a id="12991" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#12991" class="CatchallClause Bound">calledAddr</a>
                 <a id="13019" class="CatchallClause Symbol">(</a><a id="13020" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13024" class="CatchallClause"> </a><a id="13025" class="CatchallClause Symbol">(</a><a id="13026" href="Complex-Model.ccomand.ccommands-cresponse.html#899" class="CatchallClause InductiveConstructor">raiseException</a><a id="13040" class="CatchallClause"> </a><a id="13041" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13041" class="CatchallClause Bound">cost</a><a id="13045" class="CatchallClause"> </a><a id="13046" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13046" class="CatchallClause Bound">str</a><a id="13049" class="CatchallClause Symbol">)</a><a id="13050" class="CatchallClause"> </a><a id="13051" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13051" class="CatchallClause Bound">costcomputecont</a><a id="13066" class="CatchallClause"> </a><a id="13067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13067" class="CatchallClause Bound">cont</a><a id="13071" class="CatchallClause Symbol">)</a>
                 <a id="13090" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13090" class="CatchallClause Bound">gasLeft</a><a id="13097" class="CatchallClause"> </a><a id="13098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13098" class="CatchallClause Bound">funNameevalState</a><a id="13114" class="CatchallClause"> </a><a id="13115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13115" class="CatchallClause Bound">msgevalState</a><a id="13127" class="CatchallClause Symbol">)</a>
                 <a id="13146" class="Symbol">=</a> <a id="13148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13041" class="Bound">cost</a> 

<a id="13155" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="13170" class="CatchallClause"> </a><a id="13171" class="CatchallClause Symbol">(</a><a id="13172" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="13179" class="CatchallClause"> </a><a id="13180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13180" class="CatchallClause Bound">currentLedger</a><a id="13193" class="CatchallClause"> </a><a id="13194" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13194" class="CatchallClause Bound">executionStack</a><a id="13208" class="CatchallClause"> </a><a id="13209" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13209" class="CatchallClause Bound">initialAddr</a><a id="13220" class="CatchallClause"> </a><a id="13221" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13221" class="CatchallClause Bound">lastCallAddr</a><a id="13233" class="CatchallClause"> </a><a id="13234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13234" class="CatchallClause Bound">calledAddr</a>
                 <a id="13262" class="CatchallClause Symbol">(</a><a id="13263" href="Complex-Model.ccomand.ccommands-cresponse.html#1577" class="CatchallClause InductiveConstructor">exec</a><a id="13267" class="CatchallClause"> </a><a id="13268" class="CatchallClause Symbol">(</a><a id="13269" href="Complex-Model.ccomand.ccommands-cresponse.html#730" class="CatchallClause InductiveConstructor">callPure</a><a id="13277" class="CatchallClause"> </a><a id="13278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13278" class="CatchallClause Bound">addr</a><a id="13282" class="CatchallClause"> </a><a id="13283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13283" class="CatchallClause Bound">fname</a><a id="13288" class="CatchallClause"> </a><a id="13289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13289" class="CatchallClause Bound">msg</a><a id="13292" class="CatchallClause Symbol">)</a><a id="13293" class="CatchallClause"> </a><a id="13294" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13294" class="CatchallClause Bound">costcompute</a><a id="13305" class="CatchallClause"> </a><a id="13306" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13306" class="CatchallClause Bound">cont</a><a id="13310" class="CatchallClause Symbol">)</a>
                 <a id="13329" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13329" class="CatchallClause Bound">gasLeft</a><a id="13336" class="CatchallClause">  </a><a id="13338" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13338" class="CatchallClause Bound">funNameevalState</a><a id="13354" class="CatchallClause"> </a><a id="13355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13355" class="CatchallClause Bound">msgevalState</a><a id="13367" class="CatchallClause Symbol">)</a>
       <a id="13376" class="Symbol">=</a> <a id="13378" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13294" class="Bound">costcompute</a> <a id="13390" class="Symbol">(</a><a id="13391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13180" class="Bound">currentLedger</a> <a id="13405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13234" class="Bound">calledAddr</a> <a id="13416" class="Symbol">.</a><a id="13417" href="libraries.Mainlibrary.html#865" class="Field">purefunction</a> <a id="13430" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13283" class="Bound">fname</a> <a id="13436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13289" class="Bound">msg</a><a id="13439" class="Symbol">)</a>


<a id="13443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="CatchallClause Function">stepEFgasNeeded</a><a id="13458" class="CatchallClause"> </a><a id="13459" class="CatchallClause Symbol">(</a><a id="13460" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="13467" class="CatchallClause"> </a><a id="13468" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13468" class="CatchallClause Bound">currentLedger</a><a id="13481" class="CatchallClause"> </a><a id="13482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13482" class="CatchallClause Bound">executionStack</a><a id="13496" class="CatchallClause"> </a><a id="13497" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13497" class="CatchallClause Bound">initialAddr</a><a id="13508" class="CatchallClause"> </a><a id="13509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13509" class="CatchallClause Bound">lastCallAddr</a><a id="13521" class="CatchallClause"> </a><a id="13522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13522" class="CatchallClause Bound">calledAddr</a>
                 <a id="13550" class="CatchallClause Symbol">(</a><a id="13551" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="13556" class="CatchallClause"> </a><a id="13557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13557" class="CatchallClause Bound">errorMsg</a><a id="13565" class="CatchallClause"> </a><a id="13566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13566" class="CatchallClause Bound">debuginfo</a><a id="13575" class="CatchallClause Symbol">)</a><a id="13576" class="CatchallClause"> </a><a id="13577" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13577" class="CatchallClause Bound">gasLeft</a><a id="13584" class="CatchallClause">  </a><a id="13586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13586" class="CatchallClause Bound">funNameevalState</a><a id="13602" class="CatchallClause"> </a><a id="13603" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13603" class="CatchallClause Bound">msgevalState</a><a id="13615" class="CatchallClause Symbol">)</a>
       <a id="13624" class="Symbol">=</a> <a id="13626" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="13632" class="Symbol">.</a><a id="13633" href="constantparameters.html#705" class="Field">costerror</a> <a id="13643" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13557" class="Bound">errorMsg</a> 


<a id="13655" class="Comment">--This function we use it to deduct gas from evalstate not ledger</a>
<a id="deductGas"></a><a id="13721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13721" class="Function">deductGas</a> <a id="13731" class="Symbol">:</a> <a id="13733" class="Symbol">(</a><a id="13734" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13734" class="Bound">statefun</a> <a id="13743" class="Symbol">:</a> <a id="13745" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="13757" class="Symbol">)(</a><a id="13759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13759" class="Bound">gasDeducted</a> <a id="13771" class="Symbol">:</a> <a id="13773" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="13774" class="Symbol">)</a>
            <a id="13788" class="Symbol">→</a> <a id="13790" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="13803" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13721" class="Function">deductGas</a> <a id="13813" class="Symbol">(</a><a id="13814" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="13822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13822" class="Bound">ledger</a> <a id="13829" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13829" class="Bound">executionStack</a> <a id="13844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13844" class="Bound">initialAddr</a> <a id="13856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13856" class="Bound">lastCallAddr</a> <a id="13869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13869" class="Bound">calledAddr</a> <a id="13880" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13880" class="Bound">nextstep</a>
            <a id="13901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13901" class="Bound">gasLeft</a>  <a id="13910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13910" class="Bound">funNameevalState</a> <a id="13927" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13927" class="Bound">msgevalState</a><a id="13939" class="Symbol">)</a> <a id="13941" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13941" class="Bound">gasDeducted</a>
       <a id="13960" class="Symbol">=</a> <a id="13962" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="13970" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13822" class="Bound">ledger</a> <a id="13977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13829" class="Bound">executionStack</a> <a id="13992" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13844" class="Bound">initialAddr</a> <a id="14004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13856" class="Bound">lastCallAddr</a> <a id="14017" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13869" class="Bound">calledAddr</a> <a id="14028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13880" class="Bound">nextstep</a>
       <a id="14044" class="Symbol">(</a><a id="14045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13901" class="Bound">gasLeft</a> <a id="14053" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="14055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13941" class="Bound">gasDeducted</a><a id="14066" class="Symbol">)</a>  <a id="14069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13910" class="Bound">funNameevalState</a> <a id="14086" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13927" class="Bound">msgevalState</a>



<a id="14102" class="Comment">-- this function we use it to cpmare gas in stepEFgasNeeded with stepEFgasAvailable</a>

<a id="stepEFAuxCompare"></a><a id="14187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="14204" class="Symbol">:</a> <a id="14206" class="Symbol">(</a><a id="14207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14207" class="Bound">oldLedger</a> <a id="14217" class="Symbol">:</a> <a id="14219" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="14225" class="Symbol">)</a> <a id="14227" class="Symbol">→</a> <a id="14229" class="Symbol">(</a><a id="14230" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14230" class="Bound">statefun</a> <a id="14239" class="Symbol">:</a> <a id="14241" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="14253" class="Symbol">)</a>
                   <a id="14274" class="Symbol">→</a> <a id="14276" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="14288" class="Symbol">(</a><a id="14289" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="14305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14230" class="Bound">statefun</a><a id="14313" class="Symbol">)</a> <a id="14315" class="Symbol">(</a><a id="14316" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="14335" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14230" class="Bound">statefun</a><a id="14343" class="Symbol">)</a>
                   <a id="14364" class="Symbol">→</a> <a id="14366" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="14379" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="14396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14396" class="Bound">oldLedger</a> <a id="14406" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14406" class="Bound">statefun</a> <a id="14415" class="Symbol">(</a><a id="14416" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="14420" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14420" class="Bound">x</a><a id="14421" class="Symbol">)</a> <a id="14423" class="Symbol">=</a> <a id="14425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#13721" class="Function">deductGas</a> <a id="14435" class="Symbol">(</a><a id="14436" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#5808" class="Function">stepEF</a> <a id="14443" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14396" class="Bound">oldLedger</a> <a id="14453" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14406" class="Bound">statefun</a><a id="14461" class="Symbol">)</a> <a id="14463" class="Symbol">(</a><a id="14464" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="14480" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14406" class="Bound">statefun</a><a id="14488" class="Symbol">)</a>
<a id="14490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="14507" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14507" class="Bound">oldLedger</a> <a id="14517" class="Symbol">(</a><a id="14518" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="14526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14526" class="Bound">ledger</a> <a id="14533" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14533" class="Bound">executionStack</a> <a id="14548" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14548" class="Bound">initialAddr</a> <a id="14560" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14560" class="Bound">lastCallAddr</a> <a id="14573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14573" class="Bound">calledAddr</a> <a id="14584" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14584" class="Bound">nextstep</a>
                           <a id="14620" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14620" class="Bound">gasLeft</a>  <a id="14629" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="Bound">funNameevalState</a> <a id="14646" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14646" class="Bound">msgevalState</a><a id="14658" class="Symbol">)</a> <a id="14660" class="Symbol">(</a><a id="14661" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="14669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14669" class="Bound">x</a><a id="14670" class="Symbol">)</a>
        <a id="14680" class="Symbol">=</a> <a id="14682" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="14690" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14507" class="Bound">oldLedger</a> <a id="14700" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14533" class="Bound">executionStack</a> <a id="14715" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14548" class="Bound">initialAddr</a> <a id="14727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14560" class="Bound">lastCallAddr</a> <a id="14740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14573" class="Bound">calledAddr</a> <a id="14751" class="Symbol">(</a><a id="14752" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a> <a id="14758" href="basicDataStructure.html#727" class="InductiveConstructor">outOfGasError</a>
            <a id="14784" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="14786" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14560" class="Bound">lastCallAddr</a> <a id="14799" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="14802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14548" class="Bound">initialAddr</a> <a id="14814" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="14816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="Bound">funNameevalState</a> <a id="14833" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="14835" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14646" class="Bound">msgevalState</a> <a id="14848" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="14850" class="Symbol">)</a> <a id="14852" class="Number">0</a>
            <a id="14866" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14629" class="Bound">funNameevalState</a> <a id="14883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14646" class="Bound">msgevalState</a>



<a id="stepEFwithGasError"></a><a id="14899" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="14918" class="Symbol">:</a> <a id="14920" class="Symbol">(</a><a id="14921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14921" class="Bound">oldLedger</a> <a id="14931" class="Symbol">:</a> <a id="14933" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="14939" class="Symbol">)</a> <a id="14941" class="Symbol">→</a> <a id="14943" class="Symbol">(</a><a id="14944" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14944" class="Bound">statefun</a> <a id="14953" class="Symbol">:</a> <a id="14955" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="14967" class="Symbol">)</a> <a id="14969" class="Symbol">→</a> <a id="14971" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="14984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="15003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15003" class="Bound">oldLedger</a> <a id="15013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">evals</a>  <a id="15020" class="Symbol">=</a> <a id="15022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14187" class="Function">stepEFAuxCompare</a> <a id="15039" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15003" class="Bound">oldLedger</a> <a id="15049" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">evals</a>
                                      <a id="15093" class="Symbol">(</a><a id="15094" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="15105" class="Symbol">(</a><a id="15106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10889" class="Function">stepEFgasNeeded</a> <a id="15122" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">evals</a><a id="15127" class="Symbol">)</a>
                                      <a id="15167" class="Symbol">(</a><a id="15168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#10557" class="Function">stepEFgasAvailable</a> <a id="15187" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15013" class="Bound">evals</a><a id="15192" class="Symbol">))</a>







<a id="stepEFntimes"></a><a id="15202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15202" class="Function">stepEFntimes</a> <a id="15215" class="Symbol">:</a> <a id="15217" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="15224" class="Symbol">→</a> <a id="15226" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="15239" class="Symbol">→</a> <a id="15241" class="Symbol">(</a><a id="15242" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15242" class="Bound">ntimes</a> <a id="15249" class="Symbol">:</a> <a id="15251" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15252" class="Symbol">)</a> <a id="15254" class="Symbol">→</a> <a id="15256" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="15269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15202" class="Function">stepEFntimes</a> <a id="15282" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15282" class="Bound">oldLedger</a> <a id="15292" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15292" class="Bound">ledgerstateexecfun</a> <a id="15311" class="Number">0</a>
             <a id="15326" class="Symbol">=</a> <a id="15328" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15292" class="Bound">ledgerstateexecfun</a>
<a id="15347" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15202" class="Function">stepEFntimes</a> <a id="15360" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15360" class="Bound">oldLedger</a> <a id="15370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15370" class="Bound">ledgerstateexecfun</a> <a id="15389" class="Symbol">(</a><a id="15390" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15394" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15394" class="Bound">n</a><a id="15395" class="Symbol">)</a>
             <a id="15410" class="Symbol">=</a> <a id="15412" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="15431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15360" class="Bound">oldLedger</a> <a id="15441" class="Symbol">(</a><a id="15442" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15202" class="Function">stepEFntimes</a> <a id="15455" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15360" class="Bound">oldLedger</a> <a id="15465" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15370" class="Bound">ledgerstateexecfun</a> <a id="15484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15394" class="Bound">n</a><a id="15485" class="Symbol">)</a>
                     



<a id="stepEFntimesList"></a><a id="15512" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15512" class="Function">stepEFntimesList</a> <a id="15529" class="Symbol">:</a> <a id="15531" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="15538" class="Symbol">→</a> <a id="15540" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="15553" class="Symbol">→</a> <a id="15555" class="Symbol">(</a><a id="15556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15556" class="Bound">ntimes</a> <a id="15563" class="Symbol">:</a> <a id="15565" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="15566" class="Symbol">)</a> <a id="15568" class="Symbol">→</a> <a id="15570" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="15575" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="15588" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15512" class="Function">stepEFntimesList</a> <a id="15605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15605" class="Bound">oldLedger</a> <a id="15615" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15615" class="Bound">ledgerstateexecfun</a> <a id="15634" class="Number">0</a>
                 <a id="15653" class="Symbol">=</a> <a id="15655" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15615" class="Bound">ledgerstateexecfun</a> <a id="15674" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15676" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="15679" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15512" class="Function">stepEFntimesList</a> <a id="15696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15696" class="Bound">oldLedger</a> <a id="15706" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15706" class="Bound">ledgerstateexecfun</a> <a id="15725" class="Symbol">(</a><a id="15726" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15730" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15730" class="Bound">n</a><a id="15731" class="Symbol">)</a>
                 <a id="15750" class="Symbol">=</a> <a id="15752" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15202" class="Function">stepEFntimes</a> <a id="15765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15696" class="Bound">oldLedger</a> <a id="15775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15706" class="Bound">ledgerstateexecfun</a> <a id="15794" class="Symbol">(</a><a id="15795" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="15799" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15730" class="Bound">n</a><a id="15800" class="Symbol">)</a>
                   <a id="15821" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15823" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15512" class="Function">stepEFntimesList</a> <a id="15840" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15696" class="Bound">oldLedger</a> <a id="15850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15706" class="Bound">ledgerstateexecfun</a> <a id="15869" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15730" class="Bound">n</a>

<a id="15872" class="Comment">--this function below we use it to refund as a part of septEF</a>
<a id="15934" class="Comment">---- we use stepEFwithGasError instead of stepEF in refund and stepEFntimesWithRefund</a>

<a id="refund"></a><a id="16021" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16021" class="Function">refund</a> <a id="16028" class="Symbol">:</a> <a id="16030" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="16043" class="Symbol">→</a>  <a id="16046" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="16059" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16021" class="Function">refund</a> <a id="16066" class="Symbol">(</a><a id="16067" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="16075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16075" class="Bound">currentLedger</a> <a id="16089" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="16092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16092" class="Bound">initialAddr</a> <a id="16104" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16104" class="Bound">lastCallAddr</a> <a id="16117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16117" class="Bound">calledAddr</a> <a id="16128" class="Symbol">(</a><a id="16129" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="16136" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16136" class="Bound">cost</a> <a id="16141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16141" class="Bound">result</a><a id="16147" class="Symbol">)</a>
        <a id="16157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16157" class="Bound">gasLeft</a>  <a id="16166" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16166" class="Bound">funNameevalState</a> <a id="16183" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16183" class="Bound">msgevalState</a><a id="16195" class="Symbol">)</a>
            <a id="16209" class="Symbol">=</a> <a id="16211" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="16219" class="Symbol">(</a><a id="16220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="16235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16075" class="Bound">currentLedger</a> <a id="16249" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16104" class="Bound">lastCallAddr</a> <a id="16262" class="Symbol">(</a><a id="16263" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="16272" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="16278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16157" class="Bound">gasLeft</a><a id="16285" class="Symbol">))</a>
              <a id="16302" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="16305" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16092" class="Bound">initialAddr</a> <a id="16317" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16104" class="Bound">lastCallAddr</a> <a id="16330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16117" class="Bound">calledAddr</a> <a id="16341" class="Symbol">(</a><a id="16342" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="16349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16136" class="Bound">cost</a> <a id="16354" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16141" class="Bound">result</a><a id="16360" class="Symbol">)</a>
               <a id="16377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16157" class="Bound">gasLeft</a>  
               <a id="16402" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16166" class="Bound">funNameevalState</a> <a id="16419" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16183" class="Bound">msgevalState</a>
<a id="16432" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16021" class="CatchallClause Function">refund</a><a id="16438" class="CatchallClause"> </a><a id="16439" class="CatchallClause Symbol">(</a><a id="16440" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="16447" class="CatchallClause"> </a><a id="16448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16448" class="CatchallClause Bound">currentLedger</a><a id="16461" class="CatchallClause"> </a><a id="16462" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16462" class="CatchallClause Bound">executionStack</a><a id="16476" class="CatchallClause"> </a><a id="16477" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16477" class="CatchallClause Bound">initialAddr</a><a id="16488" class="CatchallClause"> </a><a id="16489" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16489" class="CatchallClause Bound">lastCallAddr</a><a id="16501" class="CatchallClause"> </a><a id="16502" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16502" class="CatchallClause Bound">calledAddr</a>
       <a id="16520" class="CatchallClause Symbol">(</a><a id="16521" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="16526" class="CatchallClause"> </a><a id="16527" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16527" class="CatchallClause Bound">errorMsg</a><a id="16535" class="CatchallClause"> </a><a id="16536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16536" class="CatchallClause Bound">debugInfo</a><a id="16545" class="CatchallClause Symbol">)</a><a id="16546" class="CatchallClause"> </a><a id="16547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16547" class="CatchallClause Bound">gasLeft</a><a id="16554" class="CatchallClause">  </a><a id="16556" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16556" class="CatchallClause Bound">funNameevalState</a><a id="16572" class="CatchallClause"> </a><a id="16573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16573" class="CatchallClause Bound">msgevalState</a><a id="16585" class="CatchallClause Symbol">)</a>
            <a id="16599" class="Symbol">=</a> <a id="16601" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="16609" class="Symbol">(</a><a id="16610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="16625" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16448" class="Bound">currentLedger</a>  <a id="16640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16489" class="Bound">lastCallAddr</a> <a id="16653" class="Symbol">(</a><a id="16654" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="16663" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="16669" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16547" class="Bound">gasLeft</a><a id="16676" class="Symbol">))</a>
              <a id="16693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16462" class="Bound">executionStack</a> <a id="16708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16477" class="Bound">initialAddr</a> <a id="16720" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16489" class="Bound">lastCallAddr</a> <a id="16733" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16502" class="Bound">calledAddr</a>
              <a id="16758" class="Symbol">(</a><a id="16759" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="InductiveConstructor">error</a> <a id="16765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16527" class="Bound">errorMsg</a> <a id="16774" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16536" class="Bound">debugInfo</a><a id="16783" class="Symbol">)</a> <a id="16785" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16547" class="Bound">gasLeft</a> 
               <a id="16809" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16556" class="Bound">funNameevalState</a> <a id="16826" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16573" class="Bound">msgevalState</a>
<a id="16839" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16021" class="CatchallClause Function">refund</a><a id="16845" class="CatchallClause"> </a><a id="16846" class="CatchallClause Symbol">(</a><a id="16847" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="16854" class="CatchallClause"> </a><a id="16855" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16855" class="CatchallClause Bound">ledger</a><a id="16861" class="CatchallClause"> </a><a id="16862" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16862" class="CatchallClause Bound">executionStack</a><a id="16876" class="CatchallClause"> </a><a id="16877" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16877" class="CatchallClause Bound">initialAddr</a><a id="16888" class="CatchallClause"> </a><a id="16889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16889" class="CatchallClause Bound">lastCallAddr</a><a id="16901" class="CatchallClause"> </a><a id="16902" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16902" class="CatchallClause Bound">calledAddr</a>
        <a id="16921" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16921" class="CatchallClause Bound">nextstep</a><a id="16929" class="CatchallClause"> </a><a id="16930" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16930" class="CatchallClause Bound">gasLeft</a><a id="16937" class="CatchallClause">  </a><a id="16939" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16939" class="CatchallClause Bound">funNameevalState</a><a id="16955" class="CatchallClause"> </a><a id="16956" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16956" class="CatchallClause Bound">msgevalState</a><a id="16968" class="CatchallClause Symbol">)</a>
            <a id="16982" class="Symbol">=</a> <a id="16984" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a> <a id="17003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16855" class="Bound">ledger</a> <a id="17010" class="Symbol">(</a><a id="17011" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="17019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16855" class="Bound">ledger</a> <a id="17026" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16862" class="Bound">executionStack</a>
              <a id="17055" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16877" class="Bound">initialAddr</a> <a id="17067" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16889" class="Bound">lastCallAddr</a> <a id="17080" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16902" class="Bound">calledAddr</a> <a id="17091" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16921" class="Bound">nextstep</a> <a id="17100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16930" class="Bound">gasLeft</a>
                <a id="17124" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16939" class="Bound">funNameevalState</a> <a id="17141" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16956" class="Bound">msgevalState</a><a id="17153" class="Symbol">)</a>


<a id="stepEFntimesWithRefund"></a><a id="17157" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17157" class="Function">stepEFntimesWithRefund</a> <a id="17180" class="Symbol">:</a> <a id="17182" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="17189" class="Symbol">→</a> <a id="17191" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="17204" class="Symbol">→</a> <a id="17206" class="Symbol">(</a><a id="17207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17207" class="Bound">ntimes</a> <a id="17214" class="Symbol">:</a> <a id="17216" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17217" class="Symbol">)</a> <a id="17219" class="Symbol">→</a> <a id="17221" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="17234" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17157" class="Function">stepEFntimesWithRefund</a> <a id="17257" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17257" class="Bound">oldLedger</a> <a id="17267" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17267" class="Bound">ledgerstateexecfun</a> <a id="17286" class="Number">0</a>
                       <a id="17311" class="Symbol">=</a> <a id="17313" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17267" class="Bound">ledgerstateexecfun</a>
<a id="17332" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17157" class="Function">stepEFntimesWithRefund</a> <a id="17355" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17355" class="Bound">oldLedger</a> <a id="17365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17365" class="Bound">ledgerstateexecfun</a> <a id="17384" class="Symbol">(</a><a id="17385" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="17389" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17389" class="Bound">n</a><a id="17390" class="Symbol">)</a>
                       <a id="17415" class="Symbol">=</a> <a id="17417" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#16021" class="Function">refund</a> <a id="17424" class="Symbol">(</a><a id="17425" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15202" class="Function">stepEFntimes</a> <a id="17438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17355" class="Bound">oldLedger</a> <a id="17448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17365" class="Bound">ledgerstateexecfun</a> <a id="17467" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17389" class="Bound">n</a><a id="17468" class="Symbol">)</a>


<a id="17472" class="Comment">---## similar to above but we use it with the new version of stepEFwithGasError</a>
<a id="17552" class="Comment">--initialAddr lastCallAddr calledAddr</a>
<a id="stepLedgerFunntimesAux"></a><a id="17590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17590" class="Function">stepLedgerFunntimesAux</a> <a id="17613" class="Symbol">:</a> <a id="17615" class="Symbol">(</a><a id="17616" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17616" class="Bound">ledger</a> <a id="17623" class="Symbol">:</a> <a id="17625" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="17631" class="Symbol">)</a> <a id="17633" class="Symbol">→</a> <a id="17635" class="Symbol">(</a><a id="17636" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17636" class="Bound">initialAddr</a> <a id="17648" class="Symbol">:</a> <a id="17650" href="basicDataStructure.html#387" class="Function">Address</a><a id="17657" class="Symbol">)</a> <a id="17659" class="Symbol">→</a> <a id="17661" class="Symbol">(</a><a id="17662" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17662" class="Bound">lastCallAddr</a> <a id="17675" class="Symbol">:</a> <a id="17677" href="basicDataStructure.html#387" class="Function">Address</a><a id="17684" class="Symbol">)</a> <a id="17686" class="Symbol">→</a> <a id="17688" class="Symbol">(</a><a id="17689" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17689" class="Bound">calledAddr</a> <a id="17700" class="Symbol">:</a> <a id="17702" href="basicDataStructure.html#387" class="Function">Address</a><a id="17709" class="Symbol">)</a> <a id="17711" class="Symbol">→</a> <a id="17713" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                        <a id="17750" class="Symbol">→</a> <a id="17752" href="basicDataStructure.html#488" class="Datatype">Msg</a>  <a id="17757" class="Symbol">→</a> <a id="17759" class="Symbol">(</a><a id="17760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17760" class="Bound">gascost</a> <a id="17768" class="Symbol">:</a> <a id="17770" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17771" class="Symbol">)</a>  <a id="17774" class="Symbol">→</a> <a id="17776" class="Symbol">(</a><a id="17777" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17777" class="Bound">ntimes</a> <a id="17784" class="Symbol">:</a> <a id="17786" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="17787" class="Symbol">)</a>
                        <a id="17813" class="Symbol">→</a> <a id="17815" class="Symbol">(</a><a id="17816" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17816" class="Bound">cp</a>  <a id="17820" class="Symbol">:</a> <a id="17822" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="17834" class="Symbol">(</a><a id="17835" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="17844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="17850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17760" class="Bound">gascost</a><a id="17857" class="Symbol">)</a> <a id="17859" class="Symbol">(</a><a id="17860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17616" class="Bound">ledger</a> <a id="17867" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17662" class="Bound">lastCallAddr</a> <a id="17880" class="Symbol">.</a><a id="17881" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="17887" class="Symbol">))</a>
                        <a id="17914" class="Symbol">→</a> <a id="17916" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="17922" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="17935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17590" class="Function">stepLedgerFunntimesAux</a> <a id="17958" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17958" class="Bound">ledger</a> <a id="17965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17965" class="Bound">initialAddr</a> <a id="17977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17977" class="Bound">lastCallAddr</a> <a id="17990" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17990" class="Bound">calledAddr</a> <a id="18001" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18001" class="Bound">funname</a> <a id="18009" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18009" class="Bound">msg</a> <a id="18013" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18013" class="Bound">gascost</a>  <a id="18022" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18022" class="Bound">ntimes</a>  <a id="18030" class="Symbol">(</a><a id="18031" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="18035" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18035" class="Bound">leqpro</a><a id="18041" class="Symbol">)</a>
                             <a id="18072" class="Symbol">=</a> <a id="18074" class="Keyword">let</a>
                                 <a id="18111" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18111" class="Bound">ledgerDeducted</a> <a id="18126" class="Symbol">:</a> <a id="18128" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
                                 <a id="18168" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18111" class="Bound">ledgerDeducted</a> <a id="18183" class="Symbol">=</a> <a id="18185" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="18205" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17958" class="Bound">ledger</a> <a id="18212" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17977" class="Bound">lastCallAddr</a> <a id="18225" class="Symbol">(</a><a id="18226" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="18235" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="18241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18013" class="Bound">gascost</a><a id="18248" class="Symbol">)</a> <a id="18250" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18035" class="Bound">leqpro</a>
                               <a id="18288" class="Keyword">in</a> <a id="18291" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="18296" class="Symbol">(</a><a id="18297" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15202" class="Function">stepEFntimes</a> <a id="18310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18111" class="Bound">ledgerDeducted</a>
                               <a id="18356" class="Symbol">(</a><a id="18357" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="18365" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18111" class="Bound">ledgerDeducted</a> <a id="18380" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="18383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17965" class="Bound">initialAddr</a> <a id="18395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17977" class="Bound">lastCallAddr</a> <a id="18408" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17990" class="Bound">calledAddr</a>
                               <a id="18450" class="Symbol">(</a><a id="18451" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18111" class="Bound">ledgerDeducted</a> <a id="18466" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17990" class="Bound">calledAddr</a> <a id="18477" class="Symbol">.</a><a id="18478" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="18482" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18001" class="Bound">funname</a> <a id="18490" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18009" class="Bound">msg</a><a id="18493" class="Symbol">)</a>
                               <a id="18526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18013" class="Bound">gascost</a> <a id="18534" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18001" class="Bound">funname</a> <a id="18542" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18009" class="Bound">msg</a><a id="18545" class="Symbol">)</a>
                               <a id="18578" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18022" class="Bound">ntimes</a><a id="18584" class="Symbol">)</a>
                              
<a id="18617" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17590" class="Function">stepLedgerFunntimesAux</a> <a id="18640" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18640" class="Bound">ledger</a> <a id="18647" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18647" class="Bound">initialAddr</a> <a id="18659" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18659" class="Bound">lastCallAddr</a> <a id="18672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18672" class="Bound">calledAddr</a> <a id="18683" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18683" class="Bound">funname</a> <a id="18691" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18691" class="Bound">msg</a> <a id="18695" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18695" class="Bound">gascost</a> <a id="18703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18703" class="Bound">ntimes</a> <a id="18710" class="Symbol">(</a><a id="18711" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="18719" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#18719" class="Bound">greaterpro</a><a id="18729" class="Symbol">)</a>
                             <a id="18760" class="Symbol">=</a> <a id="18762" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

<a id="18771" class="Comment">--stepLedgerFunntimesAux ledger callAddr currentAddr funname msg gasreserved ntimes</a>
<a id="18855" class="Comment">--                       (compareLeq (GastoWei param gasreserved) (ledger callAddr .amount))</a>
<a id="18948" class="Comment">-- NNN here we need before running stepEFntimes  deduct the gas from ledger</a>
<a id="19024" class="Comment">-- NNN    it needs as argument just one gas parameter which is set to both oldgas and newgas</a>
<a id="19117" class="Comment">-- NNN    if there is not enough money in the account, then we should fail (not an error but fail)</a>
<a id="19216" class="Comment">-- NNN    so return type  should be Maybe EvalState</a>

<a id="stepLedgerFunntimes"></a><a id="19269" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19269" class="Function">stepLedgerFunntimes</a> <a id="19289" class="Symbol">:</a> <a id="19291" class="Symbol">(</a><a id="19292" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19292" class="Bound">ledger</a> <a id="19299" class="Symbol">:</a> <a id="19301" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="19307" class="Symbol">)</a>
                      <a id="19331" class="Symbol">→</a> <a id="19333" class="Symbol">(</a><a id="19334" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19334" class="Bound">initialAddr</a> <a id="19346" class="Symbol">:</a> <a id="19348" href="basicDataStructure.html#387" class="Function">Address</a><a id="19355" class="Symbol">)</a>
                      <a id="19379" class="Symbol">→</a> <a id="19381" class="Symbol">(</a><a id="19382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19382" class="Bound">lastCallAddr</a> <a id="19395" class="Symbol">:</a> <a id="19397" href="basicDataStructure.html#387" class="Function">Address</a><a id="19404" class="Symbol">)</a>
                      <a id="19428" class="Symbol">→</a> <a id="19430" class="Symbol">(</a><a id="19431" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19431" class="Bound">calledAddr</a> <a id="19442" class="Symbol">:</a> <a id="19444" href="basicDataStructure.html#387" class="Function">Address</a><a id="19451" class="Symbol">)</a>
                      <a id="19475" class="Symbol">→</a> <a id="19477" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                      <a id="19512" class="Symbol">→</a> <a id="19514" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                      <a id="19540" class="Symbol">→</a> <a id="19542" class="Symbol">(</a><a id="19543" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19543" class="Bound">gasreserved</a> <a id="19555" class="Symbol">:</a> <a id="19557" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19558" class="Symbol">)</a>

                      <a id="19583" class="Symbol">→</a> <a id="19585" class="Symbol">(</a><a id="19586" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19586" class="Bound">ntimes</a> <a id="19593" class="Symbol">:</a> <a id="19595" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="19596" class="Symbol">)</a>
                      <a id="19620" class="Symbol">→</a> <a id="19622" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="19628" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a>
<a id="19641" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19269" class="Function">stepLedgerFunntimes</a> <a id="19661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19661" class="Bound">ledger</a> <a id="19668" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19668" class="Bound">initialAddr</a> <a id="19680" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19680" class="Bound">lastCallAddr</a> <a id="19693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19693" class="Bound">calledAddr</a> <a id="19704" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19704" class="Bound">funname</a> <a id="19712" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19712" class="Bound">msg</a> <a id="19716" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19716" class="Bound">gasreserved</a>  <a id="19729" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19729" class="Bound">ntimes</a>
                     <a id="19757" class="Symbol">=</a> <a id="19759" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#17590" class="Function">stepLedgerFunntimesAux</a> <a id="19782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19661" class="Bound">ledger</a> <a id="19789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19668" class="Bound">initialAddr</a> <a id="19801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19680" class="Bound">lastCallAddr</a> <a id="19814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19693" class="Bound">calledAddr</a>
                       <a id="19848" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19704" class="Bound">funname</a> <a id="19856" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19712" class="Bound">msg</a> <a id="19860" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19716" class="Bound">gasreserved</a>  <a id="19873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19729" class="Bound">ntimes</a>
                       <a id="19903" class="Symbol">(</a><a id="19904" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="19915" class="Symbol">(</a><a id="19916" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="19925" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="19931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19716" class="Bound">gasreserved</a><a id="19942" class="Symbol">)</a> <a id="19944" class="Symbol">(</a><a id="19945" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19661" class="Bound">ledger</a> <a id="19952" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19680" class="Bound">lastCallAddr</a> <a id="19965" class="Symbol">.</a><a id="19966" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="19972" class="Symbol">))</a>


<a id="19977" class="Comment">--with list</a>
<a id="stepLedgerFunntimesListAux"></a><a id="19989" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19989" class="Function">stepLedgerFunntimesListAux</a> <a id="20016" class="Symbol">:</a> <a id="20018" class="Symbol">(</a><a id="20019" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20019" class="Bound">ledger</a> <a id="20026" class="Symbol">:</a> <a id="20028" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="20034" class="Symbol">)</a>
                           <a id="20063" class="Symbol">→</a> <a id="20065" class="Symbol">(</a><a id="20066" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20066" class="Bound">initialAddr</a> <a id="20078" class="Symbol">:</a> <a id="20080" href="basicDataStructure.html#387" class="Function">Address</a><a id="20087" class="Symbol">)</a>
                           <a id="20116" class="Symbol">→</a> <a id="20118" class="Symbol">(</a><a id="20119" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20119" class="Bound">lastCallAddr</a> <a id="20132" class="Symbol">:</a> <a id="20134" href="basicDataStructure.html#387" class="Function">Address</a><a id="20141" class="Symbol">)</a>
                           <a id="20170" class="Symbol">→</a> <a id="20172" class="Symbol">(</a><a id="20173" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20173" class="Bound">calledAddr</a> <a id="20184" class="Symbol">:</a> <a id="20186" href="basicDataStructure.html#387" class="Function">Address</a><a id="20193" class="Symbol">)</a>
                           <a id="20222" class="Symbol">→</a> <a id="20224" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                           <a id="20264" class="Symbol">→</a> <a id="20266" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                           <a id="20297" class="Symbol">→</a> <a id="20299" class="Symbol">(</a><a id="20300" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20300" class="Bound">gasreserved</a> <a id="20312" class="Symbol">:</a> <a id="20314" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20315" class="Symbol">)</a>

                           <a id="20345" class="Symbol">→</a> <a id="20347" class="Symbol">(</a><a id="20348" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20348" class="Bound">ntimes</a> <a id="20355" class="Symbol">:</a> <a id="20357" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="20358" class="Symbol">)</a>
                           <a id="20387" class="Symbol">→</a> <a id="20389" class="Symbol">(</a><a id="20390" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20390" class="Bound">cp</a>  <a id="20394" class="Symbol">:</a> <a id="20396" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="20408" class="Symbol">(</a><a id="20409" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="20418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20424" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20300" class="Bound">gasreserved</a><a id="20435" class="Symbol">)</a> <a id="20437" class="Symbol">(</a><a id="20438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20019" class="Bound">ledger</a> <a id="20445" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20119" class="Bound">lastCallAddr</a> <a id="20458" class="Symbol">.</a><a id="20459" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="20465" class="Symbol">))</a>
                           <a id="20495" class="Symbol">→</a> <a id="20497" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="20503" class="Symbol">(</a><a id="20504" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="20509" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="20521" class="Symbol">)</a>
<a id="20523" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19989" class="Function">stepLedgerFunntimesListAux</a> <a id="20550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20550" class="Bound">ledger</a> <a id="20557" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20557" class="Bound">initialAddr</a> <a id="20569" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20569" class="Bound">lastCallAddr</a> <a id="20582" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20582" class="Bound">calledAddr</a> <a id="20593" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20593" class="Bound">funname</a> <a id="20601" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20601" class="Bound">msg</a> <a id="20605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20605" class="Bound">gasreserved</a>  <a id="20618" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20618" class="Bound">ntimes</a> <a id="20625" class="Symbol">(</a><a id="20626" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="20630" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20630" class="Bound">leqpro</a><a id="20636" class="Symbol">)</a>
                            <a id="20666" class="Symbol">=</a> <a id="20668" class="Keyword">let</a>
                               <a id="20703" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20703" class="Bound">ledgerDeducted</a> <a id="20718" class="Symbol">:</a> <a id="20720" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
                               <a id="20758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20703" class="Bound">ledgerDeducted</a> <a id="20773" class="Symbol">=</a> <a id="20775" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="20795" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20550" class="Bound">ledger</a> <a id="20802" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20569" class="Bound">lastCallAddr</a> <a id="20815" class="Symbol">(</a><a id="20816" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="20825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="20831" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20605" class="Bound">gasreserved</a><a id="20842" class="Symbol">)</a> <a id="20844" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20630" class="Bound">leqpro</a>
                            <a id="20879" class="Keyword">in</a>
                              <a id="20912" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="20917" class="Symbol">(</a><a id="20918" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#15512" class="Function">stepEFntimesList</a> <a id="20935" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20703" class="Bound">ledgerDeducted</a>
                                   <a id="20985" class="Symbol">(</a><a id="20986" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="20994" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20703" class="Bound">ledgerDeducted</a> <a id="21009" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="21012" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20557" class="Bound">initialAddr</a> <a id="21024" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20569" class="Bound">lastCallAddr</a> <a id="21037" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20582" class="Bound">calledAddr</a>
                                   <a id="21083" class="Symbol">(</a><a id="21084" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20703" class="Bound">ledgerDeducted</a> <a id="21099" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20582" class="Bound">calledAddr</a> <a id="21110" class="Symbol">.</a><a id="21111" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="21115" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20593" class="Bound">funname</a> <a id="21123" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20601" class="Bound">msg</a><a id="21126" class="Symbol">)</a> <a id="21128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20605" class="Bound">gasreserved</a> <a id="21140" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20593" class="Bound">funname</a> <a id="21148" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20601" class="Bound">msg</a><a id="21151" class="Symbol">)</a> <a id="21153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#20618" class="Bound">ntimes</a><a id="21159" class="Symbol">)</a>
<a id="21161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19989" class="Function">stepLedgerFunntimesListAux</a> <a id="21188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21188" class="Bound">ledger</a> <a id="21195" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21195" class="Bound">initialAddr</a> <a id="21207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21207" class="Bound">lastCallAddr</a> <a id="21220" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21220" class="Bound">calledAddr</a> <a id="21231" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21231" class="Bound">funname</a> <a id="21239" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21239" class="Bound">msg</a> <a id="21243" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21243" class="Bound">gasreserved</a> <a id="21255" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21255" class="Bound">ntimes</a> <a id="21262" class="Symbol">(</a><a id="21263" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="21271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21271" class="Bound">greaterpro</a><a id="21281" class="Symbol">)</a>
                            <a id="21311" class="Symbol">=</a> <a id="21313" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="stepLedgerFunntimesList"></a><a id="21323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21323" class="Function">stepLedgerFunntimesList</a> <a id="21347" class="Symbol">:</a> <a id="21349" class="Symbol">(</a><a id="21350" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21350" class="Bound">ledger</a> <a id="21357" class="Symbol">:</a> <a id="21359" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="21365" class="Symbol">)</a>
                          <a id="21393" class="Symbol">→</a> <a id="21395" class="Symbol">(</a><a id="21396" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21396" class="Bound">initialAddr</a> <a id="21408" class="Symbol">:</a> <a id="21410" href="basicDataStructure.html#387" class="Function">Address</a><a id="21417" class="Symbol">)</a>
                          <a id="21445" class="Symbol">→</a> <a id="21447" class="Symbol">(</a><a id="21448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21448" class="Bound">lastCallAddr</a> <a id="21461" class="Symbol">:</a> <a id="21463" href="basicDataStructure.html#387" class="Function">Address</a><a id="21470" class="Symbol">)</a>
                          <a id="21498" class="Symbol">→</a> <a id="21500" class="Symbol">(</a><a id="21501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21501" class="Bound">calledAddr</a> <a id="21512" class="Symbol">:</a> <a id="21514" href="basicDataStructure.html#387" class="Function">Address</a><a id="21521" class="Symbol">)</a>
                          <a id="21549" class="Symbol">→</a> <a id="21551" class="Symbol">(</a><a id="21552" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21552" class="Bound">funname</a> <a id="21560" class="Symbol">:</a> <a id="21562" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="21574" class="Symbol">)</a>
                          <a id="21602" class="Symbol">→</a> <a id="21604" class="Symbol">(</a><a id="21605" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21605" class="Bound">msg</a> <a id="21609" class="Symbol">:</a> <a id="21611" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="21614" class="Symbol">)</a>
                          <a id="21642" class="Symbol">→</a> <a id="21644" class="Symbol">(</a><a id="21645" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21645" class="Bound">gasreserved</a> <a id="21657" class="Symbol">:</a> <a id="21659" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21660" class="Symbol">)</a>

                          <a id="21689" class="Symbol">→</a> <a id="21691" class="Symbol">(</a><a id="21692" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21692" class="Bound">ntimes</a> <a id="21699" class="Symbol">:</a> <a id="21701" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="21702" class="Symbol">)</a>
                          <a id="21730" class="Symbol">→</a> <a id="21732" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="21738" class="Symbol">(</a><a id="21739" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="21744" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a><a id="21756" class="Symbol">)</a>
<a id="21758" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21323" class="Function">stepLedgerFunntimesList</a> <a id="21782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21782" class="Bound">ledger</a> <a id="21789" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21789" class="Bound">initialAddr</a> <a id="21801" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21801" class="Bound">lastCallAddr</a> <a id="21814" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21814" class="Bound">calledAddr</a> <a id="21825" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21825" class="Bound">funname</a> <a id="21833" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21833" class="Bound">msg</a> <a id="21837" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21837" class="Bound">gasreserved</a>  <a id="21850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21850" class="Bound">ntimes</a>
                        <a id="21881" class="Symbol">=</a> <a id="21883" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#19989" class="Function">stepLedgerFunntimesListAux</a> <a id="21910" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21782" class="Bound">ledger</a> <a id="21917" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21789" class="Bound">initialAddr</a> <a id="21929" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21801" class="Bound">lastCallAddr</a> <a id="21942" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21814" class="Bound">calledAddr</a> <a id="21953" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21825" class="Bound">funname</a> <a id="21961" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21833" class="Bound">msg</a> <a id="21965" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21837" class="Bound">gasreserved</a>  <a id="21978" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21850" class="Bound">ntimes</a>
                       <a id="22008" class="Symbol">(</a><a id="22009" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="22020" class="Symbol">(</a><a id="22021" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="22030" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="22036" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21837" class="Bound">gasreserved</a><a id="22047" class="Symbol">)</a> <a id="22049" class="Symbol">(</a><a id="22050" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21782" class="Bound">ledger</a> <a id="22057" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#21801" class="Bound">lastCallAddr</a> <a id="22070" class="Symbol">.</a><a id="22071" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="22077" class="Symbol">))</a>


<a id="22082" class="Comment">-- list to string</a>
<a id="Listmsg2String"></a><a id="22100" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22100" class="Function">Listmsg2String</a> <a id="22115" class="Symbol">:</a> <a id="22117" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="22122" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="22126" class="Symbol">→</a> <a id="22128" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="22135" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22100" class="Function">Listmsg2String</a> <a id="22150" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="22153" class="Symbol">=</a> <a id="22155" class="String">&quot;&quot;</a>
<a id="22158" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22100" class="Function">Listmsg2String</a> <a id="22173" class="Symbol">(</a><a id="22174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22174" class="Bound">msg</a> <a id="22178" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="22180" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22180" class="Bound">rest</a><a id="22184" class="Symbol">)</a> <a id="22186" class="Symbol">=</a> <a id="22188" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22100" class="Function">Listmsg2String</a> <a id="22203" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>  <a id="22207" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22213" class="String">&quot;,&quot;</a> <a id="22217" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22223" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22100" class="Function">Listmsg2String</a> <a id="22238" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22180" class="Bound">rest</a>


<a id="msg2String"></a><a id="22245" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22245" class="Function">msg2String</a> <a id="22256" class="Symbol">:</a> <a id="22258" href="basicDataStructure.html#488" class="Datatype">Msg</a> <a id="22262" class="Symbol">→</a> <a id="22264" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
<a id="22271" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22245" class="Function">msg2String</a> <a id="22282" class="Symbol">(</a><a id="22283" href="basicDataStructure.html#507" class="InductiveConstructor">nat</a> <a id="22287" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22287" class="Bound">n</a><a id="22288" class="Symbol">)</a> <a id="22290" class="Symbol">=</a> <a id="22292" class="String">&quot;nat&quot;</a> <a id="22298" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22304" href="Data.Nat.Show.html#1928" class="Function">show</a> <a id="22309" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22287" class="Bound">n</a>
<a id="22311" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22245" class="Function">msg2String</a> <a id="22322" class="Symbol">(</a><a id="22323" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22323" class="Bound">m</a> <a id="22325" href="basicDataStructure.html#543" class="InductiveConstructor Operator">+msg</a> <a id="22330" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22330" class="Bound">m₁</a><a id="22332" class="Symbol">)</a> <a id="22334" class="Symbol">=</a> <a id="22336" class="String">&quot;(&quot;</a> <a id="22340" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22346" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22245" class="Function">msg2String</a> <a id="22357" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22323" class="Bound">m</a> <a id="22359" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22365" class="String">&quot; , &quot;</a> <a id="22371" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22377" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22245" class="Function">msg2String</a> <a id="22388" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22330" class="Bound">m₁</a> <a id="22391" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22397" class="String">&quot;)&quot;</a>
<a id="22401" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22245" class="Function">msg2String</a> <a id="22412" class="Symbol">(</a><a id="22413" href="basicDataStructure.html#580" class="InductiveConstructor">list</a> <a id="22418" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22418" class="Bound">l</a><a id="22419" class="Symbol">)</a> <a id="22421" class="Symbol">=</a> <a id="22423" class="String">&quot;[&quot;</a> <a id="22427" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22433" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22100" class="Function">Listmsg2String</a> <a id="22448" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22418" class="Bound">l</a> <a id="22450" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#414" class="Function Operator">++str</a> <a id="22456" class="String">&quot;]&quot;</a>

<a id="msgOrErrorWithGas2StringOrError"></a><a id="22461" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22461" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22493" class="Symbol">:</a> <a id="22495" class="Symbol">(</a><a id="22496" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="22503" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="22505" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="22522" class="Symbol">)</a>  <a id="22525" class="Symbol">→</a> <a id="22527" class="Symbol">(</a><a id="22528" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="22535" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="22537" href="basicDataStructure.html#2079" class="Record">StringOrErrorWithGas</a><a id="22557" class="Symbol">)</a>
<a id="22559" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22461" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22591" class="Symbol">(</a><a id="22592" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22592" class="Bound">ledger</a> <a id="22599" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22602" class="Symbol">(</a><a id="22603" href="basicDataStructure.html#1560" class="InductiveConstructor">theMsg</a> <a id="22610" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22610" class="Bound">x</a> <a id="22612" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22614" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22614" class="Bound">gas₁</a> <a id="22619" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22622" class="Symbol">))</a> <a id="22625" class="Symbol">=</a> <a id="22627" class="Symbol">(</a><a id="22628" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22592" class="Bound">ledger</a> <a id="22635" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22638" class="Symbol">(</a><a id="22639" href="basicDataStructure.html#1916" class="InductiveConstructor">theString</a> <a id="22649" class="Symbol">(</a><a id="22650" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22245" class="Function">msg2String</a> <a id="22661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22610" class="Bound">x</a><a id="22662" class="Symbol">)</a> <a id="22664" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22666" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22614" class="Bound">gas₁</a> <a id="22671" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22674" class="Symbol">))</a>
<a id="22677" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22461" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22709" class="Symbol">(</a><a id="22710" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22710" class="Bound">ledger</a> <a id="22717" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22720" class="Symbol">(</a><a id="22721" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="22725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22725" class="Bound">x</a> <a id="22727" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22727" class="Bound">x₁</a> <a id="22730" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22732" class="Bound">gas₁</a> <a id="22737" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22740" class="Symbol">))</a> <a id="22743" class="Symbol">=</a> <a id="22745" class="Symbol">(</a><a id="22746" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22710" class="Bound">ledger</a> <a id="22753" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22756" class="Symbol">(</a><a id="22757" href="basicDataStructure.html#1953" class="InductiveConstructor">err</a> <a id="22761" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22725" class="Bound">x</a> <a id="22763" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22727" class="Bound">x₁</a> <a id="22766" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22768" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22732" class="Bound">gas₁</a> <a id="22773" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22776" class="Symbol">)</a> <a id="22778" class="Symbol">)</a>
<a id="22780" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22461" class="Function">msgOrErrorWithGas2StringOrError</a> <a id="22812" class="Symbol">(</a><a id="22813" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22813" class="Bound">ledger</a> <a id="22820" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22823" class="Symbol">(</a><a id="22824" href="basicDataStructure.html#1667" class="InductiveConstructor">invalidtransaction</a> <a id="22843" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="22845" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22845" class="Bound">gas₁</a> <a id="22850" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="22853" class="Symbol">))</a> <a id="22856" class="Symbol">=</a> <a id="22858" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22813" class="Bound">ledger</a> <a id="22865" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="22868" class="Symbol">(</a><a id="22869" href="basicDataStructure.html#2035" class="InductiveConstructor">invalidtransaction</a> <a id="22888" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">,</a> <a id="22890" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#22845" class="Bound">gas₁</a> <a id="22895" href="basicDataStructure.html#2133" class="InductiveConstructor Operator">gas</a><a id="22898" class="Symbol">)</a>


<a id="22902" class="Comment">--clear version of evaluateNonTerminating&#39;</a>
<a id="22945" class="Comment">-- the below is the final step and we use it to solve the return cost</a>

<a id="evaluateNonTerminatingAuxfinal0&#39;"></a><a id="23016" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23016" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="23049" class="Symbol">:</a> <a id="23051" class="Symbol">(</a><a id="23052" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23052" class="Bound">oldledger</a> <a id="23062" class="Symbol">:</a> <a id="23064" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="23070" class="Symbol">)</a>
                          <a id="23098" class="Symbol">→</a> <a id="23100" class="Symbol">(</a><a id="23101" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23101" class="Bound">currentLedger</a> <a id="23115" class="Symbol">:</a> <a id="23117" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="23123" class="Symbol">)</a>
                          <a id="23151" class="Symbol">→</a> <a id="23153" class="Symbol">(</a><a id="23154" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23154" class="Bound">initialAddr</a> <a id="23166" class="Symbol">:</a> <a id="23168" href="basicDataStructure.html#387" class="Function">Address</a><a id="23175" class="Symbol">)</a>
                          <a id="23203" class="Symbol">→</a> <a id="23205" class="Symbol">(</a><a id="23206" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23206" class="Bound">lastCallAddr</a> <a id="23219" class="Symbol">:</a> <a id="23221" href="basicDataStructure.html#387" class="Function">Address</a><a id="23228" class="Symbol">)</a>
                          <a id="23256" class="Symbol">→</a> <a id="23258" class="Symbol">(</a><a id="23259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23259" class="Bound">calledAddr</a> <a id="23270" class="Symbol">:</a> <a id="23272" href="basicDataStructure.html#387" class="Function">Address</a><a id="23279" class="Symbol">)</a>
                          <a id="23307" class="Symbol">→</a> <a id="23309" class="Symbol">(</a><a id="23310" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23310" class="Bound">cost</a> <a id="23315" class="Symbol">:</a> <a id="23317" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23318" class="Symbol">)</a>
                          <a id="23346" class="Symbol">→</a> <a id="23348" class="Symbol">(</a><a id="23349" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23349" class="Bound">returnvalue</a> <a id="23361" class="Symbol">:</a> <a id="23363" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="23366" class="Symbol">)</a>
                          <a id="23394" class="Symbol">→</a> <a id="23396" class="Symbol">(</a><a id="23397" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23397" class="Bound">gasLeft</a> <a id="23405" class="Symbol">:</a> <a id="23407" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="23408" class="Symbol">)</a>
                          <a id="23436" class="Symbol">→</a> <a id="23438" class="Symbol">(</a><a id="23439" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23439" class="Bound">funNameevalState</a> <a id="23456" class="Symbol">:</a> <a id="23458" href="basicDataStructure.html#172" class="Function">FunctionName</a><a id="23470" class="Symbol">)</a>
                          <a id="23498" class="Symbol">→</a> <a id="23500" class="Symbol">(</a><a id="23501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23501" class="Bound">msgevalState</a> <a id="23514" class="Symbol">:</a> <a id="23516" href="basicDataStructure.html#488" class="Datatype">Msg</a><a id="23519" class="Symbol">)</a>
                          <a id="23547" class="Symbol">→</a> <a id="23549" class="Symbol">(</a><a id="23550" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23550" class="Bound">cp</a>  <a id="23554" class="Symbol">:</a> <a id="23556" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="23568" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23310" class="Bound">cost</a> <a id="23573" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23397" class="Bound">gasLeft</a><a id="23580" class="Symbol">)</a>
                          <a id="23608" class="Symbol">→</a> <a id="23610" class="Symbol">(</a><a id="23611" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="23618" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="23620" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="23637" class="Symbol">)</a>
<a id="23639" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23016" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="23672" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23672" class="Bound">oldledger</a> <a id="23682" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23682" class="Bound">currentLedger</a> <a id="23696" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23696" class="Bound">initialAddr</a> <a id="23708" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23708" class="Bound">lastCallAddr</a> <a id="23721" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23721" class="Bound">calledAddr</a> <a id="23732" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23732" class="Bound">cost</a> <a id="23737" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23737" class="Bound">ms</a> <a id="23740" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23740" class="Bound">gasLeft</a> <a id="23748" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23748" class="Bound">funNameevalState</a> <a id="23765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23765" class="Bound">msgevalState</a> <a id="23778" class="Symbol">(</a><a id="23779" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="23783" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23783" class="Bound">x</a><a id="23784" class="Symbol">)</a>
                               <a id="23817" class="Symbol">=</a>  <a id="23820" class="Symbol">(</a><a id="23821" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="23836" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23682" class="Bound">currentLedger</a> <a id="23850" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23696" class="Bound">initialAddr</a>
                                   <a id="23897" class="Symbol">(</a><a id="23898" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="23907" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="23913" class="Symbol">(</a><a id="23914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23740" class="Bound">gasLeft</a> <a id="23922" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="23924" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23732" class="Bound">cost</a><a id="23928" class="Symbol">)))</a> <a id="23932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="23935" class="Symbol">(</a><a id="23936" href="basicDataStructure.html#1560" class="InductiveConstructor">theMsg</a> <a id="23943" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23737" class="Bound">ms</a> <a id="23946" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="23948" class="Symbol">(</a><a id="23949" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23740" class="Bound">gasLeft</a> <a id="23957" href="Agda.Builtin.Nat.html#415" class="Primitive Operator">-</a> <a id="23959" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23732" class="Bound">cost</a><a id="23963" class="Symbol">)</a> <a id="23965" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="23968" class="Symbol">)</a>

<a id="23971" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23016" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="24004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24004" class="Bound">oldledger</a> <a id="24014" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24014" class="Bound">currentLedger</a> <a id="24028" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24028" class="Bound">initialAddr</a> <a id="24040" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24040" class="Bound">lastCallAddr</a> <a id="24053" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24053" class="Bound">calledAddr</a> <a id="24064" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24064" class="Bound">cost</a> <a id="24069" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24069" class="Bound">returnvalue</a> <a id="24081" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24081" class="Bound">gasLeft</a> <a id="24089" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24089" class="Bound">funNameevalState</a> <a id="24106" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24106" class="Bound">msgevalState</a> <a id="24119" class="Symbol">(</a><a id="24120" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="24128" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24128" class="Bound">x</a><a id="24129" class="Symbol">)</a>
                               <a id="24162" class="Symbol">=</a> <a id="24164" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24004" class="Bound">oldledger</a> <a id="24174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a> <a id="24177" class="Symbol">((</a><a id="24179" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="24183" class="Symbol">(</a><a id="24184" href="basicDataStructure.html#645" class="InductiveConstructor">strErr</a> <a id="24191" class="String">&quot; Out Of Gass &quot;</a><a id="24206" class="Symbol">)</a> <a id="24208" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a> <a id="24210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24040" class="Bound">lastCallAddr</a> <a id="24223" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="24226" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24028" class="Bound">initialAddr</a> <a id="24238" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="24240" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24089" class="Bound">funNameevalState</a> <a id="24257" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="24259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24106" class="Bound">msgevalState</a> <a id="24272" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a><a id="24274" class="Symbol">)</a> <a id="24276" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="24278" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24081" class="Bound">gasLeft</a> <a id="24286" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="24289" class="Symbol">)</a>



<a id="24294" class="Symbol">{-#</a> <a id="24298" class="Keyword">NON_TERMINATING</a> <a id="24314" class="Symbol">#-}</a>
<a id="evaluateNonTerminatingAuxfinal0"></a><a id="24318" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24318" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="24350" class="Symbol">:</a> <a id="24352" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="24359" class="Symbol">→</a> <a id="24361" href="libraries.Mainlibrary.html#2058" class="Record">StateExecFun</a> <a id="24374" class="Symbol">→</a> <a id="24376" class="Symbol">(</a><a id="24377" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="24384" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="24386" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="24403" class="Symbol">)</a>
<a id="24405" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24318" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="24437" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24437" class="Bound">oldledger</a> <a id="24447" class="Symbol">(</a><a id="24448" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="24456" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24456" class="Bound">currentLedger</a> <a id="24470" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="24473" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24473" class="Bound">initialAddr</a> <a id="24485" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24485" class="Bound">lastCallAddr</a> <a id="24498" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24498" class="Bound">calledAddr</a> <a id="24509" class="Symbol">(</a><a id="24510" href="Complex-Model.ccomand.ccommands-cresponse.html#1505" class="InductiveConstructor">return</a> <a id="24517" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24517" class="Bound">cost</a> <a id="24522" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24522" class="Bound">ms</a><a id="24524" class="Symbol">)</a>
                            <a id="24554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24554" class="Bound">gasLeft</a>  <a id="24563" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24563" class="Bound">funNameevalState</a> <a id="24580" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24580" class="Bound">msgevalState</a><a id="24592" class="Symbol">)</a>
                            <a id="24622" class="Symbol">=</a> <a id="24624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#23016" class="Function">evaluateNonTerminatingAuxfinal0&#39;</a> <a id="24657" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24437" class="Bound">oldledger</a> <a id="24667" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24456" class="Bound">currentLedger</a>
                                <a id="24713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24473" class="Bound">initialAddr</a> <a id="24725" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24485" class="Bound">lastCallAddr</a> <a id="24738" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24498" class="Bound">calledAddr</a> <a id="24749" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24517" class="Bound">cost</a> <a id="24754" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24522" class="Bound">ms</a> <a id="24757" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24554" class="Bound">gasLeft</a> <a id="24765" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24563" class="Bound">funNameevalState</a> <a id="24782" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24580" class="Bound">msgevalState</a> <a id="24795" class="Symbol">(</a><a id="24796" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="24807" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24517" class="Bound">cost</a> <a id="24812" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24554" class="Bound">gasLeft</a><a id="24819" class="Symbol">)</a>

<a id="24822" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24318" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="24853" class="CatchallClause"> </a><a id="24854" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24854" class="CatchallClause Bound">oldledger</a><a id="24863" class="CatchallClause"> </a><a id="24864" class="CatchallClause Symbol">(</a><a id="24865" href="libraries.Mainlibrary.html#2097" class="CatchallClause InductiveConstructor">stateEF</a><a id="24872" class="CatchallClause"> </a><a id="24873" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24873" class="CatchallClause Bound">currentLedger</a><a id="24886" class="CatchallClause"> </a><a id="24887" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24887" class="CatchallClause Bound">s</a><a id="24888" class="CatchallClause"> </a><a id="24889" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24889" class="CatchallClause Bound">initialAddr</a><a id="24900" class="CatchallClause"> </a><a id="24901" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24901" class="CatchallClause Bound">lastCallAddr</a><a id="24913" class="CatchallClause"> </a><a id="24914" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24914" class="CatchallClause Bound">calledAddr</a><a id="24924" class="CatchallClause"> </a><a id="24925" class="CatchallClause Symbol">(</a><a id="24926" href="Complex-Model.ccomand.ccommands-cresponse.html#1533" class="CatchallClause InductiveConstructor">error</a><a id="24931" class="CatchallClause"> </a><a id="24932" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24932" class="CatchallClause Bound">msgg</a><a id="24936" class="CatchallClause"> </a><a id="24937" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24937" class="CatchallClause Bound">debugInfo</a><a id="24946" class="CatchallClause Symbol">)</a>
                             <a id="24977" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24977" class="CatchallClause Bound">gasLeft</a><a id="24984" class="CatchallClause">  </a><a id="24986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24986" class="CatchallClause Bound">funNameevalState</a><a id="25002" class="CatchallClause"> </a><a id="25003" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25003" class="CatchallClause Bound">msgevalState</a><a id="25015" class="CatchallClause Symbol">)</a>
                          <a id="25043" class="Symbol">=</a> <a id="25045" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2920" class="Function">addWeiToLedger</a> <a id="25060" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24854" class="Bound">oldledger</a> <a id="25070" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24889" class="Bound">initialAddr</a> <a id="25082" class="Symbol">(</a><a id="25083" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25092" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25098" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24977" class="Bound">gasLeft</a><a id="25105" class="Symbol">)</a> <a id="25107" class="Comment">{- 100 -}</a> <a id="25117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#465" class="InductiveConstructor Operator">,,</a>
                            <a id="25148" class="Symbol">(</a><a id="25149" href="basicDataStructure.html#1588" class="InductiveConstructor">err</a> <a id="25153" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24932" class="Bound">msgg</a> <a id="25158" href="basicDataStructure.html#842" class="InductiveConstructor Operator">⟨</a>  <a id="25161" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24901" class="Bound">lastCallAddr</a> <a id="25174" href="basicDataStructure.html#842" class="InductiveConstructor Operator">&gt;&gt;</a> <a id="25177" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24889" class="Bound">initialAddr</a> <a id="25189" href="basicDataStructure.html#842" class="InductiveConstructor Operator">∙</a> <a id="25191" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24986" class="Bound">funNameevalState</a> <a id="25208" href="basicDataStructure.html#842" class="InductiveConstructor Operator">[</a> <a id="25210" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25003" class="Bound">msgevalState</a> <a id="25223" href="basicDataStructure.html#842" class="InductiveConstructor Operator">]⟩</a> <a id="25226" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">,</a> <a id="25228" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24977" class="Bound">gasLeft</a> <a id="25236" href="basicDataStructure.html#1759" class="InductiveConstructor Operator">gas</a><a id="25239" class="Symbol">)</a>
<a id="25241" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24318" class="CatchallClause Function">evaluateNonTerminatingAuxfinal0</a><a id="25272" class="CatchallClause"> </a><a id="25273" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25273" class="CatchallClause Bound">oldledger</a><a id="25282" class="CatchallClause"> </a><a id="25283" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25283" class="CatchallClause Bound">statefun</a>
                          <a id="25318" class="Symbol">=</a> <a id="25320" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24318" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="25352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25273" class="Bound">oldledger</a> <a id="25362" class="Symbol">(</a><a id="25363" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#14899" class="Function">stepEFwithGasError</a>  <a id="25383" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25273" class="Bound">oldledger</a> <a id="25393" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25283" class="Bound">statefun</a><a id="25401" class="Symbol">)</a>

<a id="evaluateNonTerminatingAuxfinal"></a><a id="25404" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25404" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="25435" class="Symbol">:</a> <a id="25437" class="Symbol">(</a><a id="25438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25438" class="Bound">ledger</a> <a id="25445" class="Symbol">:</a> <a id="25447" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="25453" class="Symbol">)</a>
                          <a id="25481" class="Symbol">→</a> <a id="25483" class="Symbol">(</a><a id="25484" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25484" class="Bound">initialAddr</a> <a id="25496" class="Symbol">:</a> <a id="25498" href="basicDataStructure.html#387" class="Function">Address</a><a id="25505" class="Symbol">)</a>
                          <a id="25533" class="Symbol">→</a> <a id="25535" class="Symbol">(</a><a id="25536" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25536" class="Bound">lastCallAddr</a> <a id="25549" class="Symbol">:</a> <a id="25551" href="basicDataStructure.html#387" class="Function">Address</a><a id="25558" class="Symbol">)</a>
                          <a id="25586" class="Symbol">→</a> <a id="25588" class="Symbol">(</a><a id="25589" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25589" class="Bound">calledAddr</a> <a id="25600" class="Symbol">:</a> <a id="25602" href="basicDataStructure.html#387" class="Function">Address</a><a id="25609" class="Symbol">)</a>
                          <a id="25637" class="Symbol">→</a> <a id="25639" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                          <a id="25678" class="Symbol">→</a> <a id="25680" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                          <a id="25710" class="Symbol">→</a> <a id="25712" class="Symbol">(</a><a id="25713" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25713" class="Bound">gasreserved</a> <a id="25725" class="Symbol">:</a> <a id="25727" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="25728" class="Symbol">)</a>

                          <a id="25757" class="Symbol">→</a> <a id="25759" class="Symbol">(</a><a id="25760" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25760" class="Bound">cp</a>  <a id="25764" class="Symbol">:</a> <a id="25766" href="libraries.natCompare.html#604" class="Datatype">OrderingLeq</a> <a id="25778" class="Symbol">(</a><a id="25779" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="25788" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="25794" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25713" class="Bound">gasreserved</a><a id="25805" class="Symbol">)</a> <a id="25807" class="Symbol">(</a><a id="25808" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25438" class="Bound">ledger</a> <a id="25815" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25484" class="Bound">initialAddr</a> <a id="25827" class="Symbol">.</a><a id="25828" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="25834" class="Symbol">))</a>
                          <a id="25863" class="Symbol">→</a> <a id="25865" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="25871" class="Symbol">(</a><a id="25872" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="25879" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="25881" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="25898" class="Symbol">)</a>
<a id="25900" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25404" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="25931" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25931" class="Bound">ledger</a> <a id="25938" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25938" class="Bound">initialAddr</a> <a id="25950" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25950" class="Bound">lastCallAddr</a> <a id="25963" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25963" class="Bound">calledAddr</a> <a id="25974" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25974" class="Bound">funname</a> <a id="25982" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25982" class="Bound">msg</a> <a id="25986" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25986" class="Bound">gasreserved</a>  <a id="25999" class="Symbol">(</a><a id="26000" href="libraries.natCompare.html#642" class="InductiveConstructor">leq</a> <a id="26004" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26004" class="Bound">leqpr</a><a id="26009" class="Symbol">)</a>
                           <a id="26038" class="Symbol">=</a> <a id="26040" class="Keyword">let</a>
                               <a id="26075" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26075" class="Bound">ledgerDeducted</a> <a id="26090" class="Symbol">:</a> <a id="26092" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a>
                               <a id="26130" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26075" class="Bound">ledgerDeducted</a> <a id="26145" class="Symbol">=</a> <a id="26147" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#2180" class="Function">deductGasFromLedger</a> <a id="26167" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25931" class="Bound">ledger</a> <a id="26174" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25938" class="Bound">initialAddr</a> <a id="26186" class="Symbol">(</a><a id="26187" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="26196" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="26202" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25986" class="Bound">gasreserved</a><a id="26213" class="Symbol">)</a> <a id="26215" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26004" class="Bound">leqpr</a>
                             <a id="26250" class="Keyword">in</a> <a id="26253" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="26258" class="Symbol">(</a><a id="26259" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#24318" class="Function">evaluateNonTerminatingAuxfinal0</a> <a id="26291" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26075" class="Bound">ledgerDeducted</a>
                                     <a id="26343" class="Symbol">(</a><a id="26344" href="libraries.Mainlibrary.html#2097" class="InductiveConstructor">stateEF</a> <a id="26352" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26075" class="Bound">ledgerDeducted</a> <a id="26367" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="26370" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25938" class="Bound">initialAddr</a> <a id="26382" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25950" class="Bound">lastCallAddr</a> <a id="26395" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25963" class="Bound">calledAddr</a> <a id="26406" class="Symbol">(</a><a id="26407" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26075" class="Bound">ledgerDeducted</a> <a id="26422" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25963" class="Bound">calledAddr</a> <a id="26433" class="Symbol">.</a><a id="26434" href="libraries.Mainlibrary.html#830" class="Field">fun</a> <a id="26438" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25974" class="Bound">funname</a> <a id="26446" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25982" class="Bound">msg</a><a id="26449" class="Symbol">)</a>
                                     <a id="26488" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25986" class="Bound">gasreserved</a>  <a id="26501" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25974" class="Bound">funname</a> <a id="26509" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25982" class="Bound">msg</a><a id="26512" class="Symbol">))</a>

<a id="26516" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25404" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="26547" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26547" class="Bound">ledger</a> <a id="26554" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26554" class="Bound">initialAddr</a> <a id="26566" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26566" class="Bound">lastCallAddr</a> <a id="26579" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26579" class="Bound">calledAddr</a> <a id="26590" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26590" class="Bound">funname</a> <a id="26598" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26598" class="Bound">msg</a> <a id="26602" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26602" class="Bound">gasreserved</a>  <a id="26615" class="Symbol">(</a><a id="26616" href="libraries.natCompare.html#680" class="InductiveConstructor">greater</a> <a id="26624" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26624" class="Bound">greaterpr</a><a id="26633" class="Symbol">)</a>
                           <a id="26662" class="Symbol">=</a> <a id="26664" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>


<a id="evaluateNonTerminatingfinal"></a><a id="26674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26674" class="Function">evaluateNonTerminatingfinal</a> <a id="26702" class="Symbol">:</a> <a id="26704" class="Symbol">(</a><a id="26705" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26705" class="Bound">ledger</a> <a id="26712" class="Symbol">:</a> <a id="26714" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a><a id="26720" class="Symbol">)</a>
                         <a id="26747" class="Symbol">→</a> <a id="26749" class="Symbol">(</a><a id="26750" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26750" class="Bound">initialAddr</a> <a id="26762" class="Symbol">:</a> <a id="26764" href="basicDataStructure.html#387" class="Function">Address</a><a id="26771" class="Symbol">)</a>
                            <a id="26801" class="Comment">-- Initial address is the address from which the very first call was made</a>
                         <a id="26900" class="Symbol">→</a> <a id="26902" class="Symbol">(</a><a id="26903" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26903" class="Bound">lastCallAddr</a> <a id="26916" class="Symbol">:</a> <a id="26918" href="basicDataStructure.html#387" class="Function">Address</a><a id="26925" class="Symbol">)</a>
                            <a id="26955" class="Comment">-- lastCallAddr is the address from which the current call of a function in</a>
                            <a id="27059" class="Comment">--         calledAddr is made</a>
                         <a id="27114" class="Symbol">→</a> <a id="27116" class="Symbol">(</a><a id="27117" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27117" class="Bound">calledAddr</a> <a id="27128" class="Symbol">:</a> <a id="27130" href="basicDataStructure.html#387" class="Function">Address</a><a id="27137" class="Symbol">)</a>
                            <a id="27167" class="Comment">-- calledAddr is the address where a function call is currently executed</a>
                            <a id="27268" class="Comment">--            it was called from calledAddr</a>
                         <a id="27337" class="Symbol">→</a> <a id="27339" href="basicDataStructure.html#172" class="Function">FunctionName</a>
                         <a id="27377" class="Symbol">→</a> <a id="27379" href="basicDataStructure.html#488" class="Datatype">Msg</a>
                         <a id="27408" class="Symbol">→</a> <a id="27410" class="Symbol">(</a><a id="27411" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27411" class="Bound">gasreserved</a> <a id="27423" class="Symbol">:</a> <a id="27425" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="27426" class="Symbol">)</a>

                         <a id="27454" class="Symbol">→</a> <a id="27456" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="27462" class="Symbol">(</a><a id="27463" href="libraries.Mainlibrary.html#1044" class="Function">Ledger</a> <a id="27470" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="27472" href="basicDataStructure.html#1708" class="Record">MsgOrErrorWithGas</a><a id="27489" class="Symbol">)</a>
<a id="27491" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#26674" class="Function">evaluateNonTerminatingfinal</a> <a id="27519" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27519" class="Bound">ledger</a> <a id="27526" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27526" class="Bound">initialAddr</a> <a id="27538" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27538" class="Bound">lastCallAddr</a> <a id="27551" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27551" class="Bound">calledAddr</a> <a id="27562" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27562" class="Bound">funname</a> <a id="27570" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27570" class="Bound">msg</a> <a id="27574" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27574" class="Bound">gasreserved</a>
                      <a id="27608" class="Symbol">=</a>  <a id="27611" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#25404" class="Function">evaluateNonTerminatingAuxfinal</a> <a id="27642" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27519" class="Bound">ledger</a> <a id="27649" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27526" class="Bound">initialAddr</a> <a id="27661" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27538" class="Bound">lastCallAddr</a> <a id="27674" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27551" class="Bound">calledAddr</a> <a id="27685" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27562" class="Bound">funname</a> <a id="27693" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27570" class="Bound">msg</a> <a id="27697" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27574" class="Bound">gasreserved</a>
                         <a id="27734" class="Symbol">(</a><a id="27735" href="libraries.natCompare.html#861" class="Function">compareLeq</a> <a id="27746" class="Symbol">(</a><a id="27747" href="constantparameters.html#793" class="Function">GastoWei</a> <a id="27756" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#90" class="Bound">param</a> <a id="27762" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27574" class="Bound">gasreserved</a><a id="27773" class="Symbol">)</a> <a id="27775" class="Symbol">(</a><a id="27776" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27519" class="Bound">ledger</a> <a id="27783" href="Complex-Model.ledgerversion.Ledger-Complex-Model.html#27526" class="Bound">initialAddr</a> <a id="27795" class="Symbol">.</a><a id="27796" href="libraries.Mainlibrary.html#808" class="Field">amount</a><a id="27802" class="Symbol">))</a>





</pre></body></html>